
globalThis.websiteBundle = function() {
  return `
    (function() {
      const exports = {};
      const module = { exports };
      ${"var ua=Object.create;var lt=Object.defineProperty,fa=Object.defineProperties,ca=Object.getOwnPropertyDescriptor,pa=Object.getOwnPropertyDescriptors,ma=Object.getOwnPropertyNames,Tt=Object.getOwnPropertySymbols,xa=Object.getPrototypeOf,or=Object.prototype.hasOwnProperty,zr=Object.prototype.propertyIsEnumerable;var Ur=(e,t,r)=>t in e?lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))or.call(t,r)&&Ur(e,r,t[r]);if(Tt)for(var r of Tt(t))zr.call(t,r)&&Ur(e,r,t[r]);return e},O=(e,t)=>fa(e,pa(t));var nr=(e,t)=>{var r={};for(var o in e)or.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Tt)for(var o of Tt(e))t.indexOf(o)<0&&zr.call(e,o)&&(r[o]=e[o]);return r};var $e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ha=(e,t)=>{for(var r in t)lt(e,r,{get:t[r],enumerable:!0})},Wr=(e,t,r,o)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let n of ma(t))!or.call(e,n)&&n!==r&&lt(e,n,{get:()=>t[n],enumerable:!(o=ca(t,n))||o.enumerable});return e};var _=(e,t,r)=>(r=e!=null?ua(xa(e)):{},Wr(t||!e||!e.__esModule?lt(r,\"default\",{value:e,enumerable:!0}):r,e)),ga=e=>Wr(lt({},\"__esModule\",{value:!0}),e);var V=$e((Si,$r)=>{$r.exports=window.React});var ar=$e((Fi,Vr)=>{Vr.exports=window.ReactDOM});var Gr=$e(lr=>{\"use strict\";var Yr=ar();lr.createRoot=Yr.createRoot,lr.hydrateRoot=Yr.hydrateRoot;var Di});var Kr=$e((Ei,Xr)=>{Xr.exports=window.antd});var Qr=$e((Ai,Jr)=>{Jr.exports=window.axios});var io=$e((ts,Rt)=>{(function(){\"use strict\";var e={}.hasOwnProperty;function t(){for(var n=\"\",a=0;a<arguments.length;a++){var l=arguments[a];l&&(n=o(n,r(l)))}return n}function r(n){if(typeof n==\"string\"||typeof n==\"number\")return n;if(typeof n!=\"object\")return\"\";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes(\"[native code]\"))return n.toString();var a=\"\";for(var l in n)e.call(n,l)&&n[l]&&(a=o(a,l));return a}function o(n,a){return a?n?n+\" \"+a:n+a:n}typeof Rt<\"u\"&&Rt.exports?(t.default=t,Rt.exports=t):typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?define(\"classnames\",[],function(){return t}):window.classNames=t})()});var Ci={};ha(Ci,{renderClient:()=>Oi});module.exports=ga(Ci);var x=_(V(),1),ta=_(Gr(),1),g=_(Kr(),1),kr=_(Qr(),1);var Zr=_(V()),va=(0,Zr.createContext)({}),St=va;function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ee.apply(null,arguments)}function eo(e){if(Array.isArray(e))return e}function to(e,t){var r=e==null?null:typeof Symbol<\"u\"&&e[Symbol.iterator]||e[\"@@iterator\"];if(r!=null){var o,n,a,l,i=[],s=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=a.call(r)).done)&&(i.push(o.value),i.length!==t);s=!0);}catch(u){d=!0,n=u}finally{try{if(!s&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return i}}function ir(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function ro(e,t){if(e){if(typeof e==\"string\")return ir(e,t);var r={}.toString.call(e).slice(8,-1);return r===\"Object\"&&e.constructor&&(r=e.constructor.name),r===\"Map\"||r===\"Set\"?Array.from(e):r===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ir(e,t):void 0}}function oo(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function Ft(e,t){return eo(e)||to(e,t)||ro(e,t)||oo()}function ue(e){\"@babel/helpers - typeof\";return ue=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ue(e)}function no(e,t){if(ue(e)!=\"object\"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||\"default\");if(ue(o)!=\"object\")return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(t===\"string\"?String:Number)(e)}function ao(e){var t=no(e,\"string\");return ue(t)==\"symbol\"?t:t+\"\"}function q(e,t,r){return(t=ao(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lo(e,t){if(e==null)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;r[o]=e[o]}return r}function Dt(e,t){if(e==null)return{};var r,o,n=lo(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ee=_(V()),rn=_(io());var H=Math.round;function sr(e,t){let r=e.replace(/^[^(]*\\((.*)/,\"$1\").replace(/\\).*/,\"\").match(/\\d*\\.?\\d+%?/g)||[],o=r.map(n=>parseFloat(n));for(let n=0;n<3;n+=1)o[n]=t(o[n]||0,r[n]||\"\",n);return r[3]?o[3]=r[3].includes(\"%\")?o[3]/100:o[3]:o[3]=1,o}var so=(e,t,r)=>r===0?e:e/100;function it(e,t){let r=t||255;return e>r?r:e<0?0:e}var De=class e{constructor(t){q(this,\"isValid\",!0),q(this,\"r\",0),q(this,\"g\",0),q(this,\"b\",0),q(this,\"a\",1),q(this,\"_h\",void 0),q(this,\"_s\",void 0),q(this,\"_l\",void 0),q(this,\"_v\",void 0),q(this,\"_max\",void 0),q(this,\"_min\",void 0),q(this,\"_brightness\",void 0);function r(o){return o[0]in t&&o[1]in t&&o[2]in t}if(t)if(typeof t==\"string\"){let n=function(a){return o.startsWith(a)},o=t.trim();/^#?[A-F\\d]{3,8}$/i.test(o)?this.fromHexString(o):n(\"rgb\")?this.fromRgbString(o):n(\"hsl\")?this.fromHslString(o):(n(\"hsv\")||n(\"hsb\"))&&this.fromHsvString(o)}else if(t instanceof e)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(r(\"rgb\"))this.r=it(t.r),this.g=it(t.g),this.b=it(t.b),this.a=typeof t.a==\"number\"?it(t.a,1):1;else if(r(\"hsl\"))this.fromHsl(t);else if(r(\"hsv\"))this.fromHsv(t);else throw new Error(\"@ant-design/fast-color: unsupported input \"+JSON.stringify(t))}setR(t){return this._sc(\"r\",t)}setG(t){return this._sc(\"g\",t)}setB(t){return this._sc(\"b\",t)}setA(t){return this._sc(\"a\",t,1)}setHue(t){let r=this.toHsv();return r.h=t,this._c(r)}getLuminance(){function t(a){let l=a/255;return l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)}let r=t(this.r),o=t(this.g),n=t(this.b);return .2126*r+.7152*o+.0722*n}getHue(){if(typeof this._h>\"u\"){let t=this.getMax()-this.getMin();t===0?this._h=0:this._h=H(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>\"u\"){let t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>\"u\"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>\"u\"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>\"u\"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){let r=this.getHue(),o=this.getSaturation(),n=this.getLightness()-t/100;return n<0&&(n=0),this._c({h:r,s:o,l:n,a:this.a})}lighten(t=10){let r=this.getHue(),o=this.getSaturation(),n=this.getLightness()+t/100;return n>1&&(n=1),this._c({h:r,s:o,l:n,a:this.a})}mix(t,r=50){let o=this._c(t),n=r/100,a=i=>(o[i]-this[i])*n+this[i],l={r:H(a(\"r\")),g:H(a(\"g\")),b:H(a(\"b\")),a:H(a(\"a\")*100)/100};return this._c(l)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){let r=this._c(t),o=this.a+r.a*(1-this.a),n=a=>H((this[a]*this.a+r[a]*r.a*(1-this.a))/o);return this._c({r:n(\"r\"),g:n(\"g\"),b:n(\"b\"),a:o})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t=\"#\",r=(this.r||0).toString(16);t+=r.length===2?r:\"0\"+r;let o=(this.g||0).toString(16);t+=o.length===2?o:\"0\"+o;let n=(this.b||0).toString(16);if(t+=n.length===2?n:\"0\"+n,typeof this.a==\"number\"&&this.a>=0&&this.a<1){let a=H(this.a*255).toString(16);t+=a.length===2?a:\"0\"+a}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){let t=this.getHue(),r=H(this.getSaturation()*100),o=H(this.getLightness()*100);return this.a!==1?\"hsla(\".concat(t,\",\").concat(r,\"%,\").concat(o,\"%,\").concat(this.a,\")\"):\"hsl(\".concat(t,\",\").concat(r,\"%,\").concat(o,\"%)\")}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?\"rgba(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\",\").concat(this.a,\")\"):\"rgb(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\")\")}toString(){return this.toRgbString()}_sc(t,r,o){let n=this.clone();return n[t]=it(r,o),n}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>\"u\"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>\"u\"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){let r=t.replace(\"#\",\"\");function o(n,a){return parseInt(r[n]+r[a||n],16)}r.length<6?(this.r=o(0),this.g=o(1),this.b=o(2),this.a=r[3]?o(3)/255:1):(this.r=o(0,1),this.g=o(2,3),this.b=o(4,5),this.a=r[6]?o(6,7)/255:1)}fromHsl({h:t,s:r,l:o,a:n}){if(this._h=t%360,this._s=r,this._l=o,this.a=typeof n==\"number\"?n:1,r<=0){let m=H(o*255);this.r=m,this.g=m,this.b=m}let a=0,l=0,i=0,s=t/60,d=(1-Math.abs(2*o-1))*r,u=d*(1-Math.abs(s%2-1));s>=0&&s<1?(a=d,l=u):s>=1&&s<2?(a=u,l=d):s>=2&&s<3?(l=d,i=u):s>=3&&s<4?(l=u,i=d):s>=4&&s<5?(a=u,i=d):s>=5&&s<6&&(a=d,i=u);let f=o-d/2;this.r=H((a+f)*255),this.g=H((l+f)*255),this.b=H((i+f)*255)}fromHsv({h:t,s:r,v:o,a:n}){this._h=t%360,this._s=r,this._v=o,this.a=typeof n==\"number\"?n:1;let a=H(o*255);if(this.r=a,this.g=a,this.b=a,r<=0)return;let l=t/60,i=Math.floor(l),s=l-i,d=H(o*(1-r)*255),u=H(o*(1-r*s)*255),f=H(o*(1-r*(1-s))*255);switch(i){case 0:this.g=f,this.b=d;break;case 1:this.r=u,this.b=d;break;case 2:this.r=d,this.b=f;break;case 3:this.r=d,this.g=u;break;case 4:this.r=f,this.g=d;break;case 5:default:this.g=d,this.b=u;break}}fromHsvString(t){let r=sr(t,so);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(t){let r=sr(t,so);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(t){let r=sr(t,(o,n)=>n.includes(\"%\")?H(o/100*255):o);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}};var Et=2,uo=.16,ba=.05,ya=.05,wa=.15,mo=5,xo=4,Oa=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function fo(e,t,r){var o;return Math.round(e.h)>=60&&Math.round(e.h)<=240?o=r?Math.round(e.h)-Et*t:Math.round(e.h)+Et*t:o=r?Math.round(e.h)+Et*t:Math.round(e.h)-Et*t,o<0?o+=360:o>=360&&(o-=360),o}function co(e,t,r){if(e.h===0&&e.s===0)return e.s;var o;return r?o=e.s-uo*t:t===xo?o=e.s+uo:o=e.s+ba*t,o>1&&(o=1),r&&t===mo&&o>.1&&(o=.1),o<.06&&(o=.06),Math.round(o*100)/100}function po(e,t,r){var o;return r?o=e.v+ya*t:o=e.v-wa*t,o=Math.max(0,Math.min(1,o)),Math.round(o*100)/100}function At(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],o=new De(e),n=o.toHsv(),a=mo;a>0;a-=1){var l=new De({h:fo(n,a,!0),s:co(n,a,!0),v:po(n,a,!0)});r.push(l)}r.push(o);for(var i=1;i<=xo;i+=1){var s=new De({h:fo(n,i),s:co(n,i),v:po(n,i)});r.push(s)}return t.theme===\"dark\"?Oa.map(function(d){var u=d.index,f=d.amount;return new De(t.backgroundColor||\"#141414\").mix(r[u],f).toHexString()}):r.map(function(d){return d.toHexString()})}var ho=[\"#fff1f0\",\"#ffccc7\",\"#ffa39e\",\"#ff7875\",\"#ff4d4f\",\"#f5222d\",\"#cf1322\",\"#a8071a\",\"#820014\",\"#5c0011\"];ho.primary=ho[5];var go=[\"#fff2e8\",\"#ffd8bf\",\"#ffbb96\",\"#ff9c6e\",\"#ff7a45\",\"#fa541c\",\"#d4380d\",\"#ad2102\",\"#871400\",\"#610b00\"];go.primary=go[5];var vo=[\"#fff7e6\",\"#ffe7ba\",\"#ffd591\",\"#ffc069\",\"#ffa940\",\"#fa8c16\",\"#d46b08\",\"#ad4e00\",\"#873800\",\"#612500\"];vo.primary=vo[5];var bo=[\"#fffbe6\",\"#fff1b8\",\"#ffe58f\",\"#ffd666\",\"#ffc53d\",\"#faad14\",\"#d48806\",\"#ad6800\",\"#874d00\",\"#613400\"];bo.primary=bo[5];var yo=[\"#feffe6\",\"#ffffb8\",\"#fffb8f\",\"#fff566\",\"#ffec3d\",\"#fadb14\",\"#d4b106\",\"#ad8b00\",\"#876800\",\"#614700\"];yo.primary=yo[5];var wo=[\"#fcffe6\",\"#f4ffb8\",\"#eaff8f\",\"#d3f261\",\"#bae637\",\"#a0d911\",\"#7cb305\",\"#5b8c00\",\"#3f6600\",\"#254000\"];wo.primary=wo[5];var Oo=[\"#f6ffed\",\"#d9f7be\",\"#b7eb8f\",\"#95de64\",\"#73d13d\",\"#52c41a\",\"#389e0d\",\"#237804\",\"#135200\",\"#092b00\"];Oo.primary=Oo[5];var Co=[\"#e6fffb\",\"#b5f5ec\",\"#87e8de\",\"#5cdbd3\",\"#36cfc9\",\"#13c2c2\",\"#08979c\",\"#006d75\",\"#00474f\",\"#002329\"];Co.primary=Co[5];var It=[\"#e6f4ff\",\"#bae0ff\",\"#91caff\",\"#69b1ff\",\"#4096ff\",\"#1677ff\",\"#0958d9\",\"#003eb3\",\"#002c8c\",\"#001d66\"];It.primary=It[5];var To=[\"#f0f5ff\",\"#d6e4ff\",\"#adc6ff\",\"#85a5ff\",\"#597ef7\",\"#2f54eb\",\"#1d39c4\",\"#10239e\",\"#061178\",\"#030852\"];To.primary=To[5];var So=[\"#f9f0ff\",\"#efdbff\",\"#d3adf7\",\"#b37feb\",\"#9254de\",\"#722ed1\",\"#531dab\",\"#391085\",\"#22075e\",\"#120338\"];So.primary=So[5];var Fo=[\"#fff0f6\",\"#ffd6e7\",\"#ffadd2\",\"#ff85c0\",\"#f759ab\",\"#eb2f96\",\"#c41d7f\",\"#9e1068\",\"#780650\",\"#520339\"];Fo.primary=Fo[5];var Do=[\"#a6a6a6\",\"#999999\",\"#8c8c8c\",\"#808080\",\"#737373\",\"#666666\",\"#404040\",\"#1a1a1a\",\"#000000\",\"#000000\"];Do.primary=Do[5];var Ro=[\"#2a1215\",\"#431418\",\"#58181c\",\"#791a1f\",\"#a61d24\",\"#d32029\",\"#e84749\",\"#f37370\",\"#f89f9a\",\"#fac8c3\"];Ro.primary=Ro[5];var Eo=[\"#2b1611\",\"#441d12\",\"#592716\",\"#7c3118\",\"#aa3e19\",\"#d84a1b\",\"#e87040\",\"#f3956a\",\"#f8b692\",\"#fad4bc\"];Eo.primary=Eo[5];var Ao=[\"#2b1d11\",\"#442a11\",\"#593815\",\"#7c4a15\",\"#aa6215\",\"#d87a16\",\"#e89a3c\",\"#f3b765\",\"#f8cf8d\",\"#fae3b7\"];Ao.primary=Ao[5];var Io=[\"#2b2111\",\"#443111\",\"#594214\",\"#7c5914\",\"#aa7714\",\"#d89614\",\"#e8b339\",\"#f3cc62\",\"#f8df8b\",\"#faedb5\"];Io.primary=Io[5];var ko=[\"#2b2611\",\"#443b11\",\"#595014\",\"#7c6e14\",\"#aa9514\",\"#d8bd14\",\"#e8d639\",\"#f3ea62\",\"#f8f48b\",\"#fafab5\"];ko.primary=ko[5];var Mo=[\"#1f2611\",\"#2e3c10\",\"#3e4f13\",\"#536d13\",\"#6f9412\",\"#8bbb11\",\"#a9d134\",\"#c9e75d\",\"#e4f88b\",\"#f0fab5\"];Mo.primary=Mo[5];var Po=[\"#162312\",\"#1d3712\",\"#274916\",\"#306317\",\"#3c8618\",\"#49aa19\",\"#6abe39\",\"#8fd460\",\"#b2e58b\",\"#d5f2bb\"];Po.primary=Po[5];var No=[\"#112123\",\"#113536\",\"#144848\",\"#146262\",\"#138585\",\"#13a8a8\",\"#33bcb7\",\"#58d1c9\",\"#84e2d8\",\"#b2f1e8\"];No.primary=No[5];var Lo=[\"#111a2c\",\"#112545\",\"#15325b\",\"#15417e\",\"#1554ad\",\"#1668dc\",\"#3c89e8\",\"#65a9f3\",\"#8dc5f8\",\"#b7dcfa\"];Lo.primary=Lo[5];var Bo=[\"#131629\",\"#161d40\",\"#1c2755\",\"#203175\",\"#263ea0\",\"#2b4acb\",\"#5273e0\",\"#7f9ef3\",\"#a8c1f8\",\"#d2e0fa\"];Bo.primary=Bo[5];var _o=[\"#1a1325\",\"#24163a\",\"#301c4d\",\"#3e2069\",\"#51258f\",\"#642ab5\",\"#854eca\",\"#ab7ae0\",\"#cda8f0\",\"#ebd7fa\"];_o.primary=_o[5];var qo=[\"#291321\",\"#40162f\",\"#551c3b\",\"#75204f\",\"#a02669\",\"#cb2b83\",\"#e0529c\",\"#f37fb7\",\"#f8a8cc\",\"#fad2e3\"];qo.primary=qo[5];var Ho=[\"#151515\",\"#1f1f1f\",\"#2d2d2d\",\"#393939\",\"#494949\",\"#5a5a5a\",\"#6a6a6a\",\"#7b7b7b\",\"#888888\",\"#969696\"];Ho.primary=Ho[5];function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jo(Object(r),!0).forEach(function(o){q(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var en=_(V());function dr(){return!!(typeof window<\"u\"&&window.document&&window.document.createElement)}function ur(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}var Uo=\"data-rc-order\",zo=\"data-rc-priority\",Ca=\"rc-util-key\",fr=new Map;function Wo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith(\"data-\")?t:\"data-\".concat(t):Ca}function cr(e){if(e.attachTo)return e.attachTo;var t=document.querySelector(\"head\");return t||document.body}function Ta(e){return e===\"queue\"?\"prependQueue\":e?\"prepend\":\"append\"}function pr(e){return Array.from((fr.get(e)||e).children).filter(function(t){return t.tagName===\"STYLE\"})}function $o(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!dr())return null;var r=t.csp,o=t.prepend,n=t.priority,a=n===void 0?0:n,l=Ta(o),i=l===\"prependQueue\",s=document.createElement(\"style\");s.setAttribute(Uo,l),i&&a&&s.setAttribute(zo,\"\".concat(a)),r!=null&&r.nonce&&(s.nonce=r==null?void 0:r.nonce),s.innerHTML=e;var d=cr(t),u=d.firstChild;if(o){if(i){var f=(t.styles||pr(d)).filter(function(m){if(![\"prepend\",\"prependQueue\"].includes(m.getAttribute(Uo)))return!1;var p=Number(m.getAttribute(zo)||0);return a>=p});if(f.length)return d.insertBefore(s,f[f.length-1].nextSibling),s}d.insertBefore(s,u)}else d.appendChild(s);return s}function Sa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=cr(t);return(t.styles||pr(r)).find(function(o){return o.getAttribute(Wo(t))===e})}function Fa(e,t){var r=fr.get(e);if(!r||!ur(document,r)){var o=$o(\"\",t),n=o.parentNode;fr.set(e,n),e.removeChild(o)}}function Vo(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=cr(r),n=pr(o),a=Q(Q({},r),{},{styles:n});Fa(o,a);var l=Sa(t,a);if(l){var i,s;if((i=a.csp)!==null&&i!==void 0&&i.nonce&&l.nonce!==((s=a.csp)===null||s===void 0?void 0:s.nonce)){var d;l.nonce=(d=a.csp)===null||d===void 0?void 0:d.nonce}return l.innerHTML!==e&&(l.innerHTML=e),l}var u=$o(e,a);return u.setAttribute(Wo(a),t),u}function Yo(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function Da(e){return Yo(e)instanceof ShadowRoot}function Go(e){return Da(e)?Yo(e):null}var mr={},Ra=[],Ea=function(t){Ra.push(t)};function Aa(e,t){if(0)var r}function Ia(e,t){if(0)var r}function ka(){mr={}}function Xo(e,t,r){!t&&!mr[r]&&(e(!1,r),mr[r]=!0)}function kt(e,t){Xo(Aa,e,t)}function Ma(e,t){Xo(Ia,e,t)}kt.preMessage=Ea;kt.resetWarned=ka;kt.noteOnce=Ma;var Ko=kt;var Re=_(V());function Pa(e){return e.replace(/-(.)/g,function(t,r){return r.toUpperCase()})}function Qo(e,t){Ko(e,\"[@ant-design/icons] \".concat(t))}function xr(e){return ue(e)===\"object\"&&typeof e.name==\"string\"&&typeof e.theme==\"string\"&&(ue(e.icon)===\"object\"||typeof e.icon==\"function\")}function Jo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,r){var o=e[r];switch(r){case\"class\":t.className=o,delete t.class;break;default:delete t[r],t[Pa(r)]=o}return t},{})}function Mt(e,t,r){return r?Re.default.createElement(e.tag,Q(Q({key:t},Jo(e.attrs)),r),(e.children||[]).map(function(o,n){return Mt(o,\"\".concat(t,\"-\").concat(e.tag,\"-\").concat(n))})):Re.default.createElement(e.tag,Q({key:t},Jo(e.attrs)),(e.children||[]).map(function(o,n){return Mt(o,\"\".concat(t,\"-\").concat(e.tag,\"-\").concat(n))}))}function hr(e){return At(e)[0]}function Pt(e){return e?Array.isArray(e)?e:[e]:[]}var Na=\"\\n.anticon {\\n  display: inline-flex;\\n  align-items: center;\\n  color: inherit;\\n  font-style: normal;\\n  line-height: 0;\\n  text-align: center;\\n  text-transform: none;\\n  vertical-align: -0.125em;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.anticon > * {\\n  line-height: 1;\\n}\\n\\n.anticon svg {\\n  display: inline-block;\\n}\\n\\n.anticon::before {\\n  display: none;\\n}\\n\\n.anticon .anticon-icon {\\n  display: block;\\n}\\n\\n.anticon[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.anticon-spin::before,\\n.anticon-spin {\\n  display: inline-block;\\n  -webkit-animation: loadingCircle 1s infinite linear;\\n  animation: loadingCircle 1s infinite linear;\\n}\\n\\n@-webkit-keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\",Zo=function(t){var r=(0,Re.useContext)(St),o=r.csp,n=r.prefixCls,a=r.layer,l=Na;n&&(l=l.replace(/anticon/g,n)),a&&(l=\"@layer \".concat(a,\" {\\n\").concat(l,\"\\n}\")),(0,Re.useEffect)(function(){var i=t.current,s=Go(i);Vo(l,\"@ant-design-icons\",{prepend:!a,csp:o,attachTo:s})},[])};var La=[\"icon\",\"className\",\"onClick\",\"style\",\"primaryColor\",\"secondaryColor\"],st={primaryColor:\"#333\",secondaryColor:\"#E6E6E6\",calculated:!1};function Ba(e){var t=e.primaryColor,r=e.secondaryColor;st.primaryColor=t,st.secondaryColor=r||hr(t),st.calculated=!!r}function _a(){return Q({},st)}var Nt=function(t){var r=t.icon,o=t.className,n=t.onClick,a=t.style,l=t.primaryColor,i=t.secondaryColor,s=Dt(t,La),d=en.useRef(),u=st;if(l&&(u={primaryColor:l,secondaryColor:i||hr(l)}),Zo(d),Qo(xr(r),\"icon should be icon definiton, but got \".concat(r)),!xr(r))return null;var f=r;return f&&typeof f.icon==\"function\"&&(f=Q(Q({},f),{},{icon:f.icon(u.primaryColor,u.secondaryColor)})),Mt(f.icon,\"svg-\".concat(f.name),Q(Q({className:o,onClick:n,style:a,\"data-icon\":f.name,width:\"1em\",height:\"1em\",fill:\"currentColor\",\"aria-hidden\":\"true\"},s),{},{ref:d}))};Nt.displayName=\"IconReact\";Nt.getTwoToneColors=_a;Nt.setTwoToneColors=Ba;var dt=Nt;function gr(e){var t=Pt(e),r=Ft(t,2),o=r[0],n=r[1];return dt.setTwoToneColors({primaryColor:o,secondaryColor:n})}function tn(){var e=dt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var qa=[\"className\",\"icon\",\"spin\",\"rotate\",\"tabIndex\",\"onClick\",\"twoToneColor\"];gr(It.primary);var Lt=Ee.forwardRef(function(e,t){var r=e.className,o=e.icon,n=e.spin,a=e.rotate,l=e.tabIndex,i=e.onClick,s=e.twoToneColor,d=Dt(e,qa),u=Ee.useContext(St),f=u.prefixCls,m=f===void 0?\"anticon\":f,p=u.rootClassName,y=(0,rn.default)(p,m,q(q({},\"\".concat(m,\"-\").concat(o.name),!!o.name),\"\".concat(m,\"-spin\"),!!n||o.name===\"loading\"),r),v=l;v===void 0&&i&&(v=-1);var b=a?{msTransform:\"rotate(\".concat(a,\"deg)\"),transform:\"rotate(\".concat(a,\"deg)\")}:void 0,C=Pt(s),T=Ft(C,2),w=T[0],R=T[1];return Ee.createElement(\"span\",ee({role:\"img\",\"aria-label\":o.name},d,{ref:t,tabIndex:v,onClick:i,className:y}),Ee.createElement(dt,{icon:o,primaryColor:w,secondaryColor:R,style:b}))});Lt.displayName=\"AntdIcon\";Lt.getTwoToneColor=tn;Lt.setTwoToneColor=gr;var Oe=Lt;var Bt=_(V());var Ha={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z\"}}]},name:\"down\",theme:\"outlined\"},on=Ha;var ja=function(t,r){return Bt.createElement(Oe,ee({},t,{ref:r,icon:on}))},Ua=Bt.forwardRef(ja),vr=Ua;var _t=_(V());var za={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\"}},{tag:\"path\",attrs:{d:\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"}}]},name:\"minus-circle\",theme:\"outlined\"},nn=za;var Wa=function(t,r){return _t.createElement(Oe,ee({},t,{ref:r,icon:nn}))},$a=_t.forwardRef(Wa),br=$a;var qt=_(V());var Va={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\"}},{tag:\"path\",attrs:{d:\"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z\"}}]},name:\"plus\",theme:\"outlined\"},an=Va;var Ya=function(t,r){return qt.createElement(Oe,ee({},t,{ref:r,icon:an}))},Ga=qt.forwardRef(Ya),yr=Ga;var Ht=_(V());var Xa={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z\"}}]},name:\"up\",theme:\"outlined\"},ln=Xa;var Ka=function(t,r){return Ht.createElement(Oe,ee({},t,{ref:r,icon:ln}))},Ja=Ht.forwardRef(Ka),wr=Ja;var c=_(V()),Ne=_(ar());var M=_(V());function dn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,M.useMemo)(()=>o=>{t.forEach(n=>n(o))},t)}var ut=typeof window<\"u\"&&typeof window.document<\"u\"&&typeof window.document.createElement<\"u\";function Ae(e){let t=Object.prototype.toString.call(e);return t===\"[object Window]\"||t===\"[object global]\"}function jt(e){return\"nodeType\"in e}function W(e){var t,r;return e?Ae(e)?e:jt(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Ut(e){let{Document:t}=W(e);return e instanceof t}function Ve(e){return Ae(e)?!1:e instanceof W(e).HTMLElement}function Cr(e){return e instanceof W(e).SVGElement}function Ie(e){return e?Ae(e)?e.document:jt(e)?Ut(e)?e:Ve(e)||Cr(e)?e.ownerDocument:document:document:document}var te=ut?M.useLayoutEffect:M.useEffect;function zt(e){let t=(0,M.useRef)(e);return te(()=>{t.current=e}),(0,M.useCallback)(function(){for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t.current==null?void 0:t.current(...o)},[])}function un(){let e=(0,M.useRef)(null),t=(0,M.useCallback)((o,n)=>{e.current=setInterval(o,n)},[]),r=(0,M.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Ye(e,t){t===void 0&&(t=[e]);let r=(0,M.useRef)(e);return te(()=>{r.current!==e&&(r.current=e)},t),r}function Ge(e,t){let r=(0,M.useRef)();return(0,M.useMemo)(()=>{let o=e(r.current);return r.current=o,o},[...t])}function ft(e){let t=zt(e),r=(0,M.useRef)(null),o=(0,M.useCallback)(n=>{n!==r.current&&(t==null||t(n,r.current)),r.current=n},[]);return[r,o]}function Wt(e){let t=(0,M.useRef)();return(0,M.useEffect)(()=>{t.current=e},[e]),t.current}var Or={};function ke(e,t){return(0,M.useMemo)(()=>{if(t)return t;let r=Or[e]==null?0:Or[e]+1;return Or[e]=r,e+\"-\"+r},[e,t])}function fn(e){return function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];return o.reduce((a,l)=>{let i=Object.entries(l);for(let[s,d]of i){let u=a[s];u!=null&&(a[s]=u+e*d)}return a},h({},t))}}var Me=fn(1),Xe=fn(-1);function Qa(e){return\"clientX\"in e&&\"clientY\"in e}function ct(e){if(!e)return!1;let{KeyboardEvent:t}=W(e.target);return t&&e instanceof t}function Za(e){if(!e)return!1;let{TouchEvent:t}=W(e.target);return t&&e instanceof t}function pt(e){if(Za(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return Qa(e)?{x:e.clientX,y:e.clientY}:null}var Ce=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return\"translate3d(\"+(t?Math.round(t):0)+\"px, \"+(r?Math.round(r):0)+\"px, 0)\"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return\"scaleX(\"+t+\") scaleY(\"+r+\")\"}},Transform:{toString(e){if(e)return[Ce.Translate.toString(e),Ce.Scale.toString(e)].join(\" \")}},Transition:{toString(e){let{property:t,duration:r,easing:o}=e;return t+\" \"+r+\"ms \"+o}}}),sn=\"a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]\";function cn(e){return e.matches(sn)?e:e.querySelector(sn)}var Pe=_(V()),el={display:\"none\"};function pn(e){let{id:t,value:r}=e;return Pe.default.createElement(\"div\",{id:t,style:el},r)}function mn(e){let{id:t,announcement:r,ariaLiveType:o=\"assertive\"}=e,n={position:\"fixed\",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:\"hidden\",clip:\"rect(0 0 0 0)\",clipPath:\"inset(100%)\",whiteSpace:\"nowrap\"};return Pe.default.createElement(\"div\",{id:t,style:n,role:\"status\",\"aria-live\":o,\"aria-atomic\":!0},r)}function xn(){let[e,t]=(0,Pe.useState)(\"\");return{announce:(0,Pe.useCallback)(o=>{o!=null&&t(o)},[]),announcement:e}}var Fn=(0,c.createContext)(null);function tl(e){let t=(0,c.useContext)(Fn);(0,c.useEffect)(()=>{if(!t)throw new Error(\"useDndMonitor must be used within a children of <DndContext>\");return t(e)},[e,t])}function rl(){let[e]=(0,c.useState)(()=>new Set),t=(0,c.useCallback)(o=>(e.add(o),()=>e.delete(o)),[e]);return[(0,c.useCallback)(o=>{let{type:n,event:a}=o;e.forEach(l=>{var i;return(i=l[n])==null?void 0:i.call(l,a)})},[e]),t]}var ol={draggable:\"\\n    To pick up a draggable item, press the space bar.\\n    While dragging, use the arrow keys to move the item.\\n    Press space again to drop the item in its new position, or press escape to cancel.\\n  \"},nl={onDragStart(e){let{active:t}=e;return\"Picked up draggable item \"+t.id+\".\"},onDragOver(e){let{active:t,over:r}=e;return r?\"Draggable item \"+t.id+\" was moved over droppable area \"+r.id+\".\":\"Draggable item \"+t.id+\" is no longer over a droppable area.\"},onDragEnd(e){let{active:t,over:r}=e;return r?\"Draggable item \"+t.id+\" was dropped over droppable area \"+r.id:\"Draggable item \"+t.id+\" was dropped.\"},onDragCancel(e){let{active:t}=e;return\"Dragging was cancelled. Draggable item \"+t.id+\" was dropped.\"}};function al(e){let{announcements:t=nl,container:r,hiddenTextDescribedById:o,screenReaderInstructions:n=ol}=e,{announce:a,announcement:l}=xn(),i=ke(\"DndLiveRegion\"),[s,d]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{d(!0)},[]),tl((0,c.useMemo)(()=>({onDragStart(f){let{active:m}=f;a(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:p}=f;t.onDragMove&&a(t.onDragMove({active:m,over:p}))},onDragOver(f){let{active:m,over:p}=f;a(t.onDragOver({active:m,over:p}))},onDragEnd(f){let{active:m,over:p}=f;a(t.onDragEnd({active:m,over:p}))},onDragCancel(f){let{active:m,over:p}=f;a(t.onDragCancel({active:m,over:p}))}}),[a,t])),!s)return null;let u=c.default.createElement(c.default.Fragment,null,c.default.createElement(pn,{id:o,value:n.draggable}),c.default.createElement(mn,{id:i,announcement:l}));return r?(0,Ne.createPortal)(u,r):u}var L;(function(e){e.DragStart=\"dragStart\",e.DragMove=\"dragMove\",e.DragEnd=\"dragEnd\",e.DragCancel=\"dragCancel\",e.DragOver=\"dragOver\",e.RegisterDroppable=\"registerDroppable\",e.SetDroppableDisabled=\"setDroppableDisabled\",e.UnregisterDroppable=\"unregisterDroppable\"})(L||(L={}));function Vt(){}function Dn(e,t){return(0,c.useMemo)(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function Rn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,c.useMemo)(()=>[...t].filter(o=>o!=null),[...t])}var ae=Object.freeze({x:0,y:0});function ll(e,t){let{data:{value:r}}=e,{data:{value:o}}=t;return o-r}function En(e,t){if(!e||e.length===0)return null;let[r]=e;return t?r[t]:r}function il(e,t){let r=Math.max(t.top,e.top),o=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),l=n-o,i=a-r;if(o<n&&r<a){let s=t.width*t.height,d=e.width*e.height,u=l*i,f=u/(s+d-u);return Number(f.toFixed(4))}return 0}var sl=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:o}=e,n=[];for(let a of o){let{id:l}=a,i=r.get(l);if(i){let s=il(i,t);s>0&&n.push({id:l,data:{droppableContainer:a,value:s}})}}return n.sort(ll)};function dl(e,t,r){return O(h({},e),{scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1})}function An(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ae}function ul(e){return function(r){for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];return n.reduce((l,i)=>O(h({},l),{top:l.top+e*i.y,bottom:l.bottom+e*i.y,left:l.left+e*i.x,right:l.right+e*i.x}),h({},r))}}var fl=ul(1);function cl(e){if(e.startsWith(\"matrix3d(\")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith(\"matrix(\")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function pl(e,t,r){let o=cl(t);if(!o)return e;let{scaleX:n,scaleY:a,x:l,y:i}=o,s=e.left-l-(1-n)*parseFloat(r),d=e.top-i-(1-a)*parseFloat(r.slice(r.indexOf(\" \")+1)),u=n?e.width/n:e.width,f=a?e.height/a:e.height;return{width:u,height:f,top:d,right:s+u,bottom:d+f,left:s}}var ml={ignoreTransform:!1};function _e(e,t){t===void 0&&(t=ml);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:d,transformOrigin:u}=W(e).getComputedStyle(e);d&&(r=pl(r,d,u))}let{top:o,left:n,width:a,height:l,bottom:i,right:s}=r;return{top:o,left:n,width:a,height:l,bottom:i,right:s}}function hn(e){return _e(e,{ignoreTransform:!0})}function xl(e){let t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function hl(e,t){return t===void 0&&(t=W(e).getComputedStyle(e)),t.position===\"fixed\"}function gl(e,t){t===void 0&&(t=W(e).getComputedStyle(e));let r=/(auto|scroll|overlay)/;return[\"overflow\",\"overflowX\",\"overflowY\"].some(n=>{let a=t[n];return typeof a==\"string\"?r.test(a):!1})}function Xt(e,t){let r=[];function o(n){if(t!=null&&r.length>=t||!n)return r;if(Ut(n)&&n.scrollingElement!=null&&!r.includes(n.scrollingElement))return r.push(n.scrollingElement),r;if(!Ve(n)||Cr(n)||r.includes(n))return r;let a=W(e).getComputedStyle(n);return n!==e&&gl(n,a)&&r.push(n),hl(n,a)?r:o(n.parentNode)}return e?o(e):r}function In(e){let[t]=Xt(e,1);return t!=null?t:null}function Tr(e){return!ut||!e?null:Ae(e)?e:jt(e)?Ut(e)||e===Ie(e).scrollingElement?window:Ve(e)?e:null:null}function kn(e){return Ae(e)?e.scrollX:e.scrollLeft}function Mn(e){return Ae(e)?e.scrollY:e.scrollTop}function Dr(e){return{x:kn(e),y:Mn(e)}}var j;(function(e){e[e.Forward=1]=\"Forward\",e[e.Backward=-1]=\"Backward\"})(j||(j={}));function Pn(e){return!ut||!e?!1:e===document.scrollingElement}function Nn(e){let t={x:0,y:0},r=Pn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},o={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},n=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,l=e.scrollTop>=o.y,i=e.scrollLeft>=o.x;return{isTop:n,isLeft:a,isBottom:l,isRight:i,maxScroll:o,minScroll:t}}var vl={x:.2,y:.2};function bl(e,t,r,o,n){let{top:a,left:l,right:i,bottom:s}=r;o===void 0&&(o=10),n===void 0&&(n=vl);let{isTop:d,isBottom:u,isLeft:f,isRight:m}=Nn(e),p={x:0,y:0},y={x:0,y:0},v={height:t.height*n.y,width:t.width*n.x};return!d&&a<=t.top+v.height?(p.y=j.Backward,y.y=o*Math.abs((t.top+v.height-a)/v.height)):!u&&s>=t.bottom-v.height&&(p.y=j.Forward,y.y=o*Math.abs((t.bottom-v.height-s)/v.height)),!m&&i>=t.right-v.width?(p.x=j.Forward,y.x=o*Math.abs((t.right-v.width-i)/v.width)):!f&&l<=t.left+v.width&&(p.x=j.Backward,y.x=o*Math.abs((t.left+v.width-l)/v.width)),{direction:p,speed:y}}function yl(e){if(e===document.scrollingElement){let{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}let{top:t,left:r,right:o,bottom:n}=e.getBoundingClientRect();return{top:t,left:r,right:o,bottom:n,width:e.clientWidth,height:e.clientHeight}}function Ln(e){return e.reduce((t,r)=>Me(t,Dr(r)),ae)}function wl(e){return e.reduce((t,r)=>t+kn(r),0)}function Ol(e){return e.reduce((t,r)=>t+Mn(r),0)}function Cl(e,t){if(t===void 0&&(t=_e),!e)return;let{top:r,left:o,bottom:n,right:a}=t(e);In(e)&&(n<=0||a<=0||r>=window.innerHeight||o>=window.innerWidth)&&e.scrollIntoView({block:\"center\",inline:\"center\"})}var Tl=[[\"x\",[\"left\",\"right\"],wl],[\"y\",[\"top\",\"bottom\"],Ol]],xt=class{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let o=Xt(r),n=Ln(o);this.rect=h({},t),this.width=t.width,this.height=t.height;for(let[a,l,i]of Tl)for(let s of l)Object.defineProperty(this,s,{get:()=>{let d=i(o),u=n[a]-d;return this.rect[s]+u},enumerable:!0});Object.defineProperty(this,\"rect\",{enumerable:!1})}},Le=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var o;return(o=this.target)==null?void 0:o.removeEventListener(...r)})},this.target=t}add(t,r,o){var n;(n=this.target)==null||n.addEventListener(t,r,o),this.listeners.push([t,r,o])}};function Sl(e){let{EventTarget:t}=W(e);return e instanceof t?e:Ie(e)}function Sr(e,t){let r=Math.abs(e.x),o=Math.abs(e.y);return typeof t==\"number\"?Math.sqrt(r**2+o**2)>t:\"x\"in t&&\"y\"in t?r>t.x&&o>t.y:\"x\"in t?r>t.x:\"y\"in t?o>t.y:!1}var re;(function(e){e.Click=\"click\",e.DragStart=\"dragstart\",e.Keydown=\"keydown\",e.ContextMenu=\"contextmenu\",e.Resize=\"resize\",e.SelectionChange=\"selectionchange\",e.VisibilityChange=\"visibilitychange\"})(re||(re={}));function gn(e){e.preventDefault()}function Fl(e){e.stopPropagation()}var D;(function(e){e.Space=\"Space\",e.Down=\"ArrowDown\",e.Right=\"ArrowRight\",e.Left=\"ArrowLeft\",e.Up=\"ArrowUp\",e.Esc=\"Escape\",e.Enter=\"Enter\",e.Tab=\"Tab\"})(D||(D={}));var Bn={start:[D.Space,D.Enter],cancel:[D.Esc],end:[D.Space,D.Enter,D.Tab]},Dl=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case D.Right:return O(h({},r),{x:r.x+25});case D.Left:return O(h({},r),{x:r.x-25});case D.Down:return O(h({},r),{y:r.y+25});case D.Up:return O(h({},r),{y:r.y-25})}},Yt=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:r}}=t;this.props=t,this.listeners=new Le(Ie(r)),this.windowListeners=new Le(W(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(re.Resize,this.handleCancel),this.windowListeners.add(re.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(re.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:r}=this.props,o=t.node.current;o&&Cl(o),r(ae)}handleKeyDown(t){if(ct(t)){let{active:r,context:o,options:n}=this.props,{keyboardCodes:a=Bn,coordinateGetter:l=Dl,scrollBehavior:i=\"smooth\"}=n,{code:s}=t;if(a.end.includes(s)){this.handleEnd(t);return}if(a.cancel.includes(s)){this.handleCancel(t);return}let{collisionRect:d}=o.current,u=d?{x:d.left,y:d.top}:ae;this.referenceCoordinates||(this.referenceCoordinates=u);let f=l(t,{active:r,context:o.current,currentCoordinates:u});if(f){let m=Xe(f,u),p={x:0,y:0},{scrollableAncestors:y}=o.current;for(let v of y){let b=t.code,{isTop:C,isRight:T,isLeft:w,isBottom:R,maxScroll:E,minScroll:A}=Nn(v),F=yl(v),S={x:Math.min(b===D.Right?F.right-F.width/2:F.right,Math.max(b===D.Right?F.left:F.left+F.width/2,f.x)),y:Math.min(b===D.Down?F.bottom-F.height/2:F.bottom,Math.max(b===D.Down?F.top:F.top+F.height/2,f.y))},N=b===D.Right&&!T||b===D.Left&&!w,B=b===D.Down&&!R||b===D.Up&&!C;if(N&&S.x!==f.x){let k=v.scrollLeft+m.x,oe=b===D.Right&&k<=E.x||b===D.Left&&k>=A.x;if(oe&&!m.y){v.scrollTo({left:k,behavior:i});return}oe?p.x=v.scrollLeft-k:p.x=b===D.Right?v.scrollLeft-E.x:v.scrollLeft-A.x,p.x&&v.scrollBy({left:-p.x,behavior:i});break}else if(B&&S.y!==f.y){let k=v.scrollTop+m.y,oe=b===D.Down&&k<=E.y||b===D.Up&&k>=A.y;if(oe&&!m.x){v.scrollTo({top:k,behavior:i});return}oe?p.y=v.scrollTop-k:p.y=b===D.Down?v.scrollTop-E.y:v.scrollTop-A.y,p.y&&v.scrollBy({top:-p.y,behavior:i});break}}this.handleMove(t,Me(Xe(f,this.referenceCoordinates),p))}}}handleMove(t,r){let{onMove:o}=this.props;t.preventDefault(),o(r)}handleEnd(t){let{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){let{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Yt.activators=[{eventName:\"onKeyDown\",handler:(e,t,r)=>{let{keyboardCodes:o=Bn,onActivation:n}=t,{active:a}=r,{code:l}=e.nativeEvent;if(o.start.includes(l)){let i=a.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),n==null||n({event:e.nativeEvent}),!0)}return!1}}];function vn(e){return!!(e&&\"distance\"in e)}function bn(e){return!!(e&&\"delay\"in e)}var ht=class{constructor(t,r,o){var n;o===void 0&&(o=Sl(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;let{event:a}=t,{target:l}=a;this.props=t,this.events=r,this.document=Ie(l),this.documentListeners=new Le(this.document),this.listeners=new Le(o),this.windowListeners=new Le(W(l)),this.initialCoordinates=(n=pt(a))!=null?n:ae,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:o}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(re.Resize,this.handleCancel),this.windowListeners.add(re.DragStart,gn),this.windowListeners.add(re.VisibilityChange,this.handleCancel),this.windowListeners.add(re.ContextMenu,gn),this.documentListeners.add(re.Keydown,this.handleKeydown),r){if(o!=null&&o({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(bn(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(vn(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){let{active:o,onPending:n}=this.props;n(o,t,this.initialCoordinates,r)}handleStart(){let{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(re.Click,Fl,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(re.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;let{activated:o,initialCoordinates:n,props:a}=this,{onMove:l,options:{activationConstraint:i}}=a;if(!n)return;let s=(r=pt(t))!=null?r:ae,d=Xe(n,s);if(!o&&i){if(vn(i)){if(i.tolerance!=null&&Sr(d,i.tolerance))return this.handleCancel();if(Sr(d,i.distance))return this.handleStart()}if(bn(i)&&Sr(d,i.tolerance))return this.handleCancel();this.handlePending(i,d);return}t.cancelable&&t.preventDefault(),l(s)}handleEnd(){let{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){let{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===D.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},Rl={cancel:{name:\"pointercancel\"},move:{name:\"pointermove\"},end:{name:\"pointerup\"}},Ke=class extends ht{constructor(t){let{event:r}=t,o=Ie(r.target);super(t,Rl,o)}};Ke.activators=[{eventName:\"onPointerDown\",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;return!r.isPrimary||r.button!==0?!1:(o==null||o({event:r}),!0)}}];var El={move:{name:\"mousemove\"},end:{name:\"mouseup\"}},Rr;(function(e){e[e.RightClick=2]=\"RightClick\"})(Rr||(Rr={}));var Er=class extends ht{constructor(t){super(t,El,Ie(t.event.target))}};Er.activators=[{eventName:\"onMouseDown\",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;return r.button===Rr.RightClick?!1:(o==null||o({event:r}),!0)}}];var Fr={cancel:{name:\"touchcancel\"},move:{name:\"touchmove\"},end:{name:\"touchend\"}},Ar=class extends ht{constructor(t){super(t,Fr)}static setup(){return window.addEventListener(Fr.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Fr.move.name,t)};function t(){}}};Ar.activators=[{eventName:\"onTouchStart\",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t,{touches:n}=r;return n.length>1?!1:(o==null||o({event:r}),!0)}}];var mt;(function(e){e[e.Pointer=0]=\"Pointer\",e[e.DraggableRect=1]=\"DraggableRect\"})(mt||(mt={}));var Gt;(function(e){e[e.TreeOrder=0]=\"TreeOrder\",e[e.ReversedTreeOrder=1]=\"ReversedTreeOrder\"})(Gt||(Gt={}));function Al(e){let{acceleration:t,activator:r=mt.Pointer,canScroll:o,draggingRect:n,enabled:a,interval:l=5,order:i=Gt.TreeOrder,pointerCoordinates:s,scrollableAncestors:d,scrollableAncestorRects:u,delta:f,threshold:m}=e,p=kl({delta:f,disabled:!a}),[y,v]=un(),b=(0,c.useRef)({x:0,y:0}),C=(0,c.useRef)({x:0,y:0}),T=(0,c.useMemo)(()=>{switch(r){case mt.Pointer:return s?{top:s.y,bottom:s.y,left:s.x,right:s.x}:null;case mt.DraggableRect:return n}},[r,n,s]),w=(0,c.useRef)(null),R=(0,c.useCallback)(()=>{let A=w.current;if(!A)return;let F=b.current.x*C.current.x,S=b.current.y*C.current.y;A.scrollBy(F,S)},[]),E=(0,c.useMemo)(()=>i===Gt.TreeOrder?[...d].reverse():d,[i,d]);(0,c.useEffect)(()=>{if(!a||!d.length||!T){v();return}for(let A of E){if((o==null?void 0:o(A))===!1)continue;let F=d.indexOf(A),S=u[F];if(!S)continue;let{direction:N,speed:B}=bl(A,S,T,t,m);for(let k of[\"x\",\"y\"])p[k][N[k]]||(B[k]=0,N[k]=0);if(B.x>0||B.y>0){v(),w.current=A,y(R,l),b.current=B,C.current=N;return}}b.current={x:0,y:0},C.current={x:0,y:0},v()},[t,R,o,v,a,l,JSON.stringify(T),JSON.stringify(p),y,d,E,u,JSON.stringify(m)])}var Il={x:{[j.Backward]:!1,[j.Forward]:!1},y:{[j.Backward]:!1,[j.Forward]:!1}};function kl(e){let{delta:t,disabled:r}=e,o=Wt(t);return Ge(n=>{if(r||!o||!n)return Il;let a={x:Math.sign(t.x-o.x),y:Math.sign(t.y-o.y)};return{x:{[j.Backward]:n.x[j.Backward]||a.x===-1,[j.Forward]:n.x[j.Forward]||a.x===1},y:{[j.Backward]:n.y[j.Backward]||a.y===-1,[j.Forward]:n.y[j.Forward]||a.y===1}}},[r,t,o])}function Ml(e,t){let r=t!=null?e.get(t):void 0,o=r?r.node.current:null;return Ge(n=>{var a;return t==null?null:(a=o!=null?o:n)!=null?a:null},[o,t])}function Pl(e,t){return(0,c.useMemo)(()=>e.reduce((r,o)=>{let{sensor:n}=o,a=n.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,o)}));return[...r,...a]},[]),[e,t])}var gt;(function(e){e[e.Always=0]=\"Always\",e[e.BeforeDragging=1]=\"BeforeDragging\",e[e.WhileDragging=2]=\"WhileDragging\"})(gt||(gt={}));var Ir;(function(e){e.Optimized=\"optimized\"})(Ir||(Ir={}));var yn=new Map;function Nl(e,t){let{dragging:r,dependencies:o,config:n}=t,[a,l]=(0,c.useState)(null),{frequency:i,measure:s,strategy:d}=n,u=(0,c.useRef)(e),f=b(),m=Ye(f),p=(0,c.useCallback)(function(C){C===void 0&&(C=[]),!m.current&&l(T=>T===null?C:T.concat(C.filter(w=>!T.includes(w))))},[m]),y=(0,c.useRef)(null),v=Ge(C=>{if(f&&!r)return yn;if(!C||C===yn||u.current!==e||a!=null){let T=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){T.set(w.id,w.rect.current);continue}let R=w.node.current,E=R?new xt(s(R),R):null;w.rect.current=E,E&&T.set(w.id,E)}return T}return C},[e,a,r,f,s]);return(0,c.useEffect)(()=>{u.current=e},[e]),(0,c.useEffect)(()=>{f||p()},[r,f]),(0,c.useEffect)(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),(0,c.useEffect)(()=>{f||typeof i!=\"number\"||y.current!==null||(y.current=setTimeout(()=>{p(),y.current=null},i))},[i,f,p,...o]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:a!=null};function b(){switch(d){case gt.Always:return!1;case gt.BeforeDragging:return r;default:return!r}}}function _n(e,t){return Ge(r=>e?r||(typeof t==\"function\"?t(e):e):null,[t,e])}function Ll(e,t){return _n(e,t)}function Bl(e){let{callback:t,disabled:r}=e,o=zt(t),n=(0,c.useMemo)(()=>{if(r||typeof window>\"u\"||typeof window.MutationObserver>\"u\")return;let{MutationObserver:a}=window;return new a(o)},[o,r]);return(0,c.useEffect)(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function Kt(e){let{callback:t,disabled:r}=e,o=zt(t),n=(0,c.useMemo)(()=>{if(r||typeof window>\"u\"||typeof window.ResizeObserver>\"u\")return;let{ResizeObserver:a}=window;return new a(o)},[r]);return(0,c.useEffect)(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function _l(e){return new xt(_e(e),e)}function wn(e,t,r){t===void 0&&(t=_l);let[o,n]=(0,c.useState)(null);function a(){n(s=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=s!=null?s:r)!=null?d:null}let u=t(e);return JSON.stringify(s)===JSON.stringify(u)?s:u})}let l=Bl({callback(s){if(e)for(let d of s){let{type:u,target:f}=d;if(u===\"childList\"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),i=Kt({callback:a});return te(()=>{a(),e?(i==null||i.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),l==null||l.disconnect())},[e]),o}function ql(e){let t=_n(e);return An(e,t)}var On=[];function Hl(e){let t=(0,c.useRef)(e),r=Ge(o=>e?o&&o!==On&&e&&t.current&&e.parentNode===t.current.parentNode?o:Xt(e):On,[e]);return(0,c.useEffect)(()=>{t.current=e},[e]),r}function jl(e){let[t,r]=(0,c.useState)(null),o=(0,c.useRef)(e),n=(0,c.useCallback)(a=>{let l=Tr(a.target);l&&r(i=>i?(i.set(l,Dr(l)),new Map(i)):null)},[]);return(0,c.useEffect)(()=>{let a=o.current;if(e!==a){l(a);let i=e.map(s=>{let d=Tr(s);return d?(d.addEventListener(\"scroll\",n,{passive:!0}),[d,Dr(d)]):null}).filter(s=>s!=null);r(i.length?new Map(i):null),o.current=e}return()=>{l(e),l(a)};function l(i){i.forEach(s=>{let d=Tr(s);d==null||d.removeEventListener(\"scroll\",n)})}},[n,e]),(0,c.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((a,l)=>Me(a,l),ae):Ln(e):ae,[e,t])}function Cn(e,t){t===void 0&&(t=[]);let r=(0,c.useRef)(null);return(0,c.useEffect)(()=>{r.current=null},t),(0,c.useEffect)(()=>{let o=e!==ae;o&&!r.current&&(r.current=e),!o&&r.current&&(r.current=null)},[e]),r.current?Xe(e,r.current):ae}function Ul(e){(0,c.useEffect)(()=>{if(!ut)return;let t=e.map(r=>{let{sensor:o}=r;return o.setup==null?void 0:o.setup()});return()=>{for(let r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function zl(e,t){return(0,c.useMemo)(()=>e.reduce((r,o)=>{let{eventName:n,handler:a}=o;return r[n]=l=>{a(l,t)},r},{}),[e,t])}function qn(e){return(0,c.useMemo)(()=>e?xl(e):null,[e])}var Tn=[];function Wl(e,t){t===void 0&&(t=_e);let[r]=e,o=qn(r?W(r):null),[n,a]=(0,c.useState)(Tn);function l(){a(()=>e.length?e.map(s=>Pn(s)?o:new xt(t(s),s)):Tn)}let i=Kt({callback:l});return te(()=>{i==null||i.disconnect(),l(),e.forEach(s=>i==null?void 0:i.observe(s))},[e]),n}function $l(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return Ve(t)?t:e}function Vl(e){let{measure:t}=e,[r,o]=(0,c.useState)(null),n=(0,c.useCallback)(d=>{for(let{target:u}of d)if(Ve(u)){o(f=>{let m=t(u);return f?O(h({},f),{width:m.width,height:m.height}):m});break}},[t]),a=Kt({callback:n}),l=(0,c.useCallback)(d=>{let u=$l(d);a==null||a.disconnect(),u&&(a==null||a.observe(u)),o(u?t(u):null)},[t,a]),[i,s]=ft(l);return(0,c.useMemo)(()=>({nodeRef:i,rect:r,setRef:s}),[r,i,s])}var Yl=[{sensor:Ke,options:{}},{sensor:Yt,options:{}}],Gl={current:{}},$t={draggable:{measure:hn},droppable:{measure:hn,strategy:gt.WhileDragging,frequency:Ir.Optimized},dragOverlay:{measure:_e}},Be=class extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,o;return(r=(o=this.get(t))==null?void 0:o.node.current)!=null?r:void 0}},Xl={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Be,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Vt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$t,measureDroppableContainers:Vt,windowRect:null,measuringScheduled:!1},Kl={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:\"\"},dispatch:Vt,draggableNodes:new Map,over:null,measureDroppableContainers:Vt},Jt=(0,c.createContext)(Kl),Hn=(0,c.createContext)(Xl);function Jl(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Be}}}function Ql(e,t){switch(t.type){case L.DragStart:return O(h({},e),{draggable:O(h({},e.draggable),{initialCoordinates:t.initialCoordinates,active:t.active})});case L.DragMove:return e.draggable.active==null?e:O(h({},e),{draggable:O(h({},e.draggable),{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case L.DragEnd:case L.DragCancel:return O(h({},e),{draggable:O(h({},e.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case L.RegisterDroppable:{let{element:r}=t,{id:o}=r,n=new Be(e.droppable.containers);return n.set(o,r),O(h({},e),{droppable:O(h({},e.droppable),{containers:n})})}case L.SetDroppableDisabled:{let{id:r,key:o,disabled:n}=t,a=e.droppable.containers.get(r);if(!a||o!==a.key)return e;let l=new Be(e.droppable.containers);return l.set(r,O(h({},a),{disabled:n})),O(h({},e),{droppable:O(h({},e.droppable),{containers:l})})}case L.UnregisterDroppable:{let{id:r,key:o}=t,n=e.droppable.containers.get(r);if(!n||o!==n.key)return e;let a=new Be(e.droppable.containers);return a.delete(r),O(h({},e),{droppable:O(h({},e.droppable),{containers:a})})}default:return e}}function Zl(e){let{disabled:t}=e,{active:r,activatorEvent:o,draggableNodes:n}=(0,c.useContext)(Jt),a=Wt(o),l=Wt(r==null?void 0:r.id);return(0,c.useEffect)(()=>{if(!t&&!o&&a&&l!=null){if(!ct(a)||document.activeElement===a.target)return;let i=n.get(l);if(!i)return;let{activatorNode:s,node:d}=i;if(!s.current&&!d.current)return;requestAnimationFrame(()=>{for(let u of[s.current,d.current]){if(!u)continue;let f=cn(u);if(f){f.focus();break}}})}},[o,t,n,l,a]),null}function ei(e,t){let n=t,{transform:r}=n,o=nr(n,[\"transform\"]);return e!=null&&e.length?e.reduce((a,l)=>l(h({transform:a},o)),r):r}function ti(e){return(0,c.useMemo)(()=>({draggable:h(h({},$t.draggable),e==null?void 0:e.draggable),droppable:h(h({},$t.droppable),e==null?void 0:e.droppable),dragOverlay:h(h({},$t.dragOverlay),e==null?void 0:e.dragOverlay)}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function ri(e){let{activeNode:t,measure:r,initialRect:o,config:n=!0}=e,a=(0,c.useRef)(!1),{x:l,y:i}=typeof n==\"boolean\"?{x:n,y:n}:n;te(()=>{if(!l&&!i||!t){a.current=!1;return}if(a.current||!o)return;let d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;let u=r(d),f=An(u,o);if(l||(f.x=0),i||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){let m=In(d);m&&m.scrollBy({top:f.y,left:f.x})}},[t,l,i,o,r])}var jn=(0,c.createContext)(O(h({},ae),{scaleX:1,scaleY:1})),Te;(function(e){e[e.Uninitialized=0]=\"Uninitialized\",e[e.Initializing=1]=\"Initializing\",e[e.Initialized=2]=\"Initialized\"})(Te||(Te={}));var Un=(0,c.memo)(function(t){var r,o,n,a;let jr=t,{id:l,accessibility:i,autoScroll:s=!0,children:d,sensors:u=Yl,collisionDetection:f=sl,measuring:m,modifiers:p}=jr,y=nr(jr,[\"id\",\"accessibility\",\"autoScroll\",\"children\",\"sensors\",\"collisionDetection\",\"measuring\",\"modifiers\"]),v=(0,c.useReducer)(Ql,void 0,Jl),[b,C]=v,[T,w]=rl(),[R,E]=(0,c.useState)(Te.Uninitialized),A=R===Te.Initialized,{draggable:{active:F,nodes:S,translate:N},droppable:{containers:B}}=b,k=F!=null?S.get(F):null,oe=(0,c.useRef)({initial:null,translated:null}),ne=(0,c.useMemo)(()=>{var z;return F!=null?{id:F,data:(z=k==null?void 0:k.data)!=null?z:Gl,rect:oe}:null},[F,k]),le=(0,c.useRef)(null),[Qe,vt]=(0,c.useState)(null),[Y,bt]=(0,c.useState)(null),fe=Ye(y,Object.values(y)),Ze=ke(\"DndDescribedBy\",l),yt=(0,c.useMemo)(()=>B.getEnabled(),[B]),$=ti(m),{droppableRects:ce,measureDroppableContainers:Fe,measuringScheduled:et}=Nl(yt,{dragging:A,dependencies:[N.x,N.y],config:$.droppable}),G=Ml(S,F),wt=(0,c.useMemo)(()=>Y?pt(Y):null,[Y]),he=da(),pe=Ll(G,$.draggable.measure);ri({activeNode:F!=null?S.get(F):null,config:he.layoutShiftCompensation,initialRect:pe,measure:$.draggable.measure});let I=wn(G,$.draggable.measure,pe),tt=wn(G?G.parentElement:null),ie=(0,c.useRef)({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:ce,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),qe=B.getNodeFor((r=ie.current.over)==null?void 0:r.id),me=Vl({measure:$.dragOverlay.measure}),He=(o=me.nodeRef.current)!=null?o:G,je=A?(n=me.rect)!=null?n:I:null,Mr=!!(me.nodeRef.current&&me.rect),Pr=ql(Mr?null:I),er=qn(He?W(He):null),ge=Hl(A?qe!=null?qe:G:null),Ot=Wl(ge),Ct=ei(p,{transform:{x:N.x-Pr.x,y:N.y-Pr.y,scaleX:1,scaleY:1},activatorEvent:Y,active:ne,activeNodeRect:I,containerNodeRect:tt,draggingNodeRect:je,over:ie.current.over,overlayNodeRect:me.rect,scrollableAncestors:ge,scrollableAncestorRects:Ot,windowRect:er}),Nr=wt?Me(wt,N):null,Lr=jl(ge),ra=Cn(Lr),oa=Cn(Lr,[I]),Ue=Me(Ct,ra),ze=je?fl(je,Ct):null,rt=ne&&ze?f({active:ne,collisionRect:ze,droppableRects:ce,droppableContainers:yt,pointerCoordinates:Nr}):null,Br=En(rt,\"id\"),[ve,_r]=(0,c.useState)(null),na=Mr?Ct:Me(Ct,oa),aa=dl(na,(a=ve==null?void 0:ve.rect)!=null?a:null,I),tr=(0,c.useRef)(null),qr=(0,c.useCallback)((z,X)=>{let{sensor:K,options:be}=X;if(le.current==null)return;let Z=S.get(le.current);if(!Z)return;let J=z.nativeEvent,se=new K({active:le.current,activeNode:Z,event:J,options:be,context:ie,onAbort(U){if(!S.get(U))return;let{onDragAbort:de}=fe.current,xe={id:U};de==null||de(xe),T({type:\"onDragAbort\",event:xe})},onPending(U,ye,de,xe){if(!S.get(U))return;let{onDragPending:nt}=fe.current,we={id:U,constraint:ye,initialCoordinates:de,offset:xe};nt==null||nt(we),T({type:\"onDragPending\",event:we})},onStart(U){let ye=le.current;if(ye==null)return;let de=S.get(ye);if(!de)return;let{onDragStart:xe}=fe.current,ot={activatorEvent:J,active:{id:ye,data:de.data,rect:oe}};(0,Ne.unstable_batchedUpdates)(()=>{xe==null||xe(ot),E(Te.Initializing),C({type:L.DragStart,initialCoordinates:U,active:ye}),T({type:\"onDragStart\",event:ot}),vt(tr.current),bt(J)})},onMove(U){C({type:L.DragMove,coordinates:U})},onEnd:We(L.DragEnd),onCancel:We(L.DragCancel)});tr.current=se;function We(U){return async function(){let{active:de,collisions:xe,over:ot,scrollAdjustedTranslate:nt}=ie.current,we=null;if(de&&nt){let{cancelDrop:at}=fe.current;we={activatorEvent:J,active:de,collisions:xe,delta:nt,over:ot},U===L.DragEnd&&typeof at==\"function\"&&await Promise.resolve(at(we))&&(U=L.DragCancel)}le.current=null,(0,Ne.unstable_batchedUpdates)(()=>{C({type:U}),E(Te.Uninitialized),_r(null),vt(null),bt(null),tr.current=null;let at=U===L.DragEnd?\"onDragEnd\":\"onDragCancel\";if(we){let rr=fe.current[at];rr==null||rr(we),T({type:at,event:we})}})}}},[S]),la=(0,c.useCallback)((z,X)=>(K,be)=>{let Z=K.nativeEvent,J=S.get(be);if(le.current!==null||!J||Z.dndKit||Z.defaultPrevented)return;let se={active:J};z(K,X.options,se)===!0&&(Z.dndKit={capturedBy:X.sensor},le.current=be,qr(K,X))},[S,qr]),Hr=Pl(u,la);Ul(u),te(()=>{I&&R===Te.Initializing&&E(Te.Initialized)},[I,R]),(0,c.useEffect)(()=>{let{onDragMove:z}=fe.current,{active:X,activatorEvent:K,collisions:be,over:Z}=ie.current;if(!X||!K)return;let J={active:X,activatorEvent:K,collisions:be,delta:{x:Ue.x,y:Ue.y},over:Z};(0,Ne.unstable_batchedUpdates)(()=>{z==null||z(J),T({type:\"onDragMove\",event:J})})},[Ue.x,Ue.y]),(0,c.useEffect)(()=>{let{active:z,activatorEvent:X,collisions:K,droppableContainers:be,scrollAdjustedTranslate:Z}=ie.current;if(!z||le.current==null||!X||!Z)return;let{onDragOver:J}=fe.current,se=be.get(Br),We=se&&se.rect.current?{id:se.id,rect:se.rect.current,data:se.data,disabled:se.disabled}:null,U={active:z,activatorEvent:X,collisions:K,delta:{x:Z.x,y:Z.y},over:We};(0,Ne.unstable_batchedUpdates)(()=>{_r(We),J==null||J(U),T({type:\"onDragOver\",event:U})})},[Br]),te(()=>{ie.current={activatorEvent:Y,active:ne,activeNode:G,collisionRect:ze,collisions:rt,droppableRects:ce,draggableNodes:S,draggingNode:He,draggingNodeRect:je,droppableContainers:B,over:ve,scrollableAncestors:ge,scrollAdjustedTranslate:Ue},oe.current={initial:je,translated:ze}},[ne,G,rt,ze,S,He,je,ce,B,ve,ge,Ue]),Al(O(h({},he),{delta:N,draggingRect:ze,pointerCoordinates:Nr,scrollableAncestors:ge,scrollableAncestorRects:Ot}));let ia=(0,c.useMemo)(()=>({active:ne,activeNode:G,activeNodeRect:I,activatorEvent:Y,collisions:rt,containerNodeRect:tt,dragOverlay:me,draggableNodes:S,droppableContainers:B,droppableRects:ce,over:ve,measureDroppableContainers:Fe,scrollableAncestors:ge,scrollableAncestorRects:Ot,measuringConfiguration:$,measuringScheduled:et,windowRect:er}),[ne,G,I,Y,rt,tt,me,S,B,ce,ve,Fe,ge,Ot,$,et,er]),sa=(0,c.useMemo)(()=>({activatorEvent:Y,activators:Hr,active:ne,activeNodeRect:I,ariaDescribedById:{draggable:Ze},dispatch:C,draggableNodes:S,over:ve,measureDroppableContainers:Fe}),[Y,Hr,ne,I,C,Ze,S,ve,Fe]);return c.default.createElement(Fn.Provider,{value:w},c.default.createElement(Jt.Provider,{value:sa},c.default.createElement(Hn.Provider,{value:ia},c.default.createElement(jn.Provider,{value:aa},d)),c.default.createElement(Zl,{disabled:(i==null?void 0:i.restoreFocus)===!1})),c.default.createElement(al,O(h({},i),{hiddenTextDescribedById:Ze})));function da(){let z=(Qe==null?void 0:Qe.autoScrollEnabled)===!1,X=typeof s==\"object\"?s.enabled===!1:s===!1,K=A&&!z&&!X;return typeof s==\"object\"?O(h({},s),{enabled:K}):{enabled:K}}}),oi=(0,c.createContext)(null),Sn=\"button\",ni=\"Draggable\";function zn(e){let{id:t,data:r,disabled:o=!1,attributes:n}=e,a=ke(ni),{activators:l,activatorEvent:i,active:s,activeNodeRect:d,ariaDescribedById:u,draggableNodes:f,over:m}=(0,c.useContext)(Jt),{role:p=Sn,roleDescription:y=\"draggable\",tabIndex:v=0}=n!=null?n:{},b=(s==null?void 0:s.id)===t,C=(0,c.useContext)(b?jn:oi),[T,w]=ft(),[R,E]=ft(),A=zl(l,t),F=Ye(r);te(()=>(f.set(t,{id:t,key:a,node:T,activatorNode:R,data:F}),()=>{let N=f.get(t);N&&N.key===a&&f.delete(t)}),[f,t]);let S=(0,c.useMemo)(()=>({role:p,tabIndex:v,\"aria-disabled\":o,\"aria-pressed\":b&&p===Sn?!0:void 0,\"aria-roledescription\":y,\"aria-describedby\":u.draggable}),[o,p,v,b,y,u.draggable]);return{active:s,activatorEvent:i,activeNodeRect:d,attributes:S,isDragging:b,listeners:o?void 0:A,node:T,over:m,setNodeRef:w,setActivatorNodeRef:E,transform:C}}function Wn(){return(0,c.useContext)(Hn)}var ai=\"Droppable\",li={timeout:25};function $n(e){let{data:t,disabled:r=!1,id:o,resizeObserverConfig:n}=e,a=ke(ai),{active:l,dispatch:i,over:s,measureDroppableContainers:d}=(0,c.useContext)(Jt),u=(0,c.useRef)({disabled:r}),f=(0,c.useRef)(!1),m=(0,c.useRef)(null),p=(0,c.useRef)(null),{disabled:y,updateMeasurementsFor:v,timeout:b}=h(h({},li),n),C=Ye(v!=null?v:o),T=(0,c.useCallback)(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),p.current=null},b)},[b]),w=Kt({callback:T,disabled:y||!l}),R=(0,c.useCallback)((S,N)=>{w&&(N&&(w.unobserve(N),f.current=!1),S&&w.observe(S))},[w]),[E,A]=ft(R),F=Ye(t);return(0,c.useEffect)(()=>{!w||!E.current||(w.disconnect(),f.current=!1,w.observe(E.current))},[E,w]),(0,c.useEffect)(()=>(i({type:L.RegisterDroppable,element:{id:o,key:a,disabled:r,node:E,rect:m,data:F}}),()=>i({type:L.UnregisterDroppable,key:a,id:o})),[o]),(0,c.useEffect)(()=>{r!==u.current.disabled&&(i({type:L.SetDroppableDisabled,id:o,key:a,disabled:r}),u.current.disabled=r)},[o,a,r,i]),{active:l,rect:m,isOver:(s==null?void 0:s.id)===o,node:E,over:s,setNodeRef:A}}var Vn=e=>{let{transform:t}=e;return O(h({},t),{x:0})};var P=_(V());function Je(e,t,r){let o=e.slice();return o.splice(r<0?o.length+r:r,0,o.splice(t,1)[0]),o}function ii(e,t){return e.reduce((r,o,n)=>{let a=t.get(o);return a&&(r[n]=a),r},Array(e.length))}function Qt(e){return e!==null&&e>=0}function si(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function di(e){return typeof e==\"boolean\"?{draggable:e,droppable:e}:e}var Yn=e=>{let{rects:t,activeIndex:r,overIndex:o,index:n}=e,a=Je(t,o,r),l=t[n],i=a[n];return!i||!l?null:{x:i.left-l.left,y:i.top-l.top,scaleX:i.width/l.width,scaleY:i.height/l.height}};var Zt={scaleX:1,scaleY:1},Gn=e=>{var t;let{activeIndex:r,activeNodeRect:o,index:n,rects:a,overIndex:l}=e,i=(t=a[r])!=null?t:o;if(!i)return null;if(n===r){let d=a[l];return d?h({x:0,y:r<l?d.top+d.height-(i.top+i.height):d.top-i.top},Zt):null}let s=ui(a,n,r);return n>r&&n<=l?h({x:0,y:-i.height-s},Zt):n<r&&n>=l?h({x:0,y:i.height+s},Zt):h({x:0,y:0},Zt)};function ui(e,t,r){let o=e[t],n=e[t-1],a=e[t+1];return o?r<t?n?o.top-(n.top+n.height):a?a.top-(o.top+o.height):0:a?a.top-(o.top+o.height):n?o.top-(n.top+n.height):0:0}var Xn=\"Sortable\",Kn=P.default.createContext({activeIndex:-1,containerId:Xn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Yn,disabled:{draggable:!1,droppable:!1}});function Jn(e){let{children:t,id:r,items:o,strategy:n=Yn,disabled:a=!1}=e,{active:l,dragOverlay:i,droppableRects:s,over:d,measureDroppableContainers:u}=Wn(),f=ke(Xn,r),m=i.rect!==null,p=(0,P.useMemo)(()=>o.map(A=>typeof A==\"object\"&&\"id\"in A?A.id:A),[o]),y=l!=null,v=l?p.indexOf(l.id):-1,b=d?p.indexOf(d.id):-1,C=(0,P.useRef)(p),T=!si(p,C.current),w=b!==-1&&v===-1||T,R=di(a);te(()=>{T&&y&&u(p)},[T,p,y,u]),(0,P.useEffect)(()=>{C.current=p},[p]);let E=(0,P.useMemo)(()=>({activeIndex:v,containerId:f,disabled:R,disableTransforms:w,items:p,overIndex:b,useDragOverlay:m,sortedRects:ii(p,s),strategy:n}),[v,f,R.draggable,R.droppable,w,p,b,s,m,n]);return P.default.createElement(Kn.Provider,{value:E},t)}var fi=e=>{let{id:t,items:r,activeIndex:o,overIndex:n}=e;return Je(r,o,n).indexOf(t)},ci=e=>{let{containerId:t,isSorting:r,wasDragging:o,index:n,items:a,newIndex:l,previousItems:i,previousContainerId:s,transition:d}=e;return!d||!o||i!==a&&n===l?!1:r?!0:l!==n&&t===s},pi={duration:200,easing:\"ease\"},Qn=\"transform\",mi=Ce.Transition.toString({property:Qn,duration:0,easing:\"linear\"}),xi={roleDescription:\"sortable\"};function hi(e){let{disabled:t,index:r,node:o,rect:n}=e,[a,l]=(0,P.useState)(null),i=(0,P.useRef)(r);return te(()=>{if(!t&&r!==i.current&&o.current){let s=n.current;if(s){let d=_e(o.current,{ignoreTransform:!0}),u={x:s.left-d.left,y:s.top-d.top,scaleX:s.width/d.width,scaleY:s.height/d.height};(u.x||u.y)&&l(u)}}r!==i.current&&(i.current=r)},[t,r,o,n]),(0,P.useEffect)(()=>{a&&l(null)},[a]),a}function Zn(e){let{animateLayoutChanges:t=ci,attributes:r,disabled:o,data:n,getNewIndex:a=fi,id:l,strategy:i,resizeObserverConfig:s,transition:d=pi}=e,{items:u,containerId:f,activeIndex:m,disabled:p,disableTransforms:y,sortedRects:v,overIndex:b,useDragOverlay:C,strategy:T}=(0,P.useContext)(Kn),w=gi(o,p),R=u.indexOf(l),E=(0,P.useMemo)(()=>h({sortable:{containerId:f,index:R,items:u}},n),[f,n,R,u]),A=(0,P.useMemo)(()=>u.slice(u.indexOf(l)),[u,l]),{rect:F,node:S,isOver:N,setNodeRef:B}=$n({id:l,data:E,disabled:w.droppable,resizeObserverConfig:h({updateMeasurementsFor:A},s)}),{active:k,activatorEvent:oe,activeNodeRect:ne,attributes:le,setNodeRef:Qe,listeners:vt,isDragging:Y,over:bt,setActivatorNodeRef:fe,transform:Ze}=zn({id:l,data:E,attributes:h(h({},xi),r),disabled:w.draggable}),yt=dn(B,Qe),$=!!k,ce=$&&!y&&Qt(m)&&Qt(b),Fe=!C&&Y,et=Fe&&ce?Ze:null,G=i!=null?i:T,wt=ce?et!=null?et:G({rects:v,activeNodeRect:ne,activeIndex:m,overIndex:b,index:R}):null,he=Qt(m)&&Qt(b)?a({id:l,items:u,activeIndex:m,overIndex:b}):R,pe=k==null?void 0:k.id,I=(0,P.useRef)({activeId:pe,items:u,newIndex:he,containerId:f}),tt=u!==I.current.items,ie=t({active:k,containerId:f,isDragging:Y,isSorting:$,id:l,index:R,items:u,newIndex:I.current.newIndex,previousItems:I.current.items,previousContainerId:I.current.containerId,transition:d,wasDragging:I.current.activeId!=null}),qe=hi({disabled:!ie,index:R,node:S,rect:F});return(0,P.useEffect)(()=>{$&&I.current.newIndex!==he&&(I.current.newIndex=he),f!==I.current.containerId&&(I.current.containerId=f),u!==I.current.items&&(I.current.items=u)},[$,he,f,u]),(0,P.useEffect)(()=>{if(pe===I.current.activeId)return;if(pe!=null&&I.current.activeId==null){I.current.activeId=pe;return}let He=setTimeout(()=>{I.current.activeId=pe},50);return()=>clearTimeout(He)},[pe]),{active:k,activeIndex:m,attributes:le,data:E,rect:F,index:R,newIndex:he,items:u,isOver:N,isSorting:$,isDragging:Y,listeners:vt,node:S,overIndex:b,over:bt,setNodeRef:yt,setActivatorNodeRef:fe,setDroppableNodeRef:B,setDraggableNodeRef:Qe,transform:qe!=null?qe:wt,transition:me()};function me(){if(qe||tt&&I.current.newIndex===R)return mi;if(!(Fe&&!ct(oe)||!d)&&($||ie))return Ce.Transition.toString(O(h({},d),{property:Qn}))}}function gi(e,t){var r,o;return typeof e==\"boolean\"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(o=e==null?void 0:e.droppable)!=null?o:t.droppable}}var Md=[D.Down,D.Right,D.Up,D.Left];if(typeof window<\"u\"){let e=document.createElement(\"style\");e.textContent=\".container {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100vw;\\n  height: 100vh;\\n}\\n.qrcodeCard {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.qrcodeCard img {\\n  width: 150px;\\n  height: 150px;\\n  cursor: pointer;\\n}\\n.qrcodeCard .btns {\\n  display: flex;\\n  justify-content: space-around;\\n  margin-top: 24px;\\n}\\n.dynamic-delete-button {\\n  position: relative;\\n  top: 2px;\\n  margin: 0 8px;\\n  color: #555;\\n  font-size: 18px;\\n  cursor: pointer;\\n  transition: all 0.3s;\\n}\\n.dynamic-delete-button:hover {\\n  color: #777;\\n}\\n.dynamic-delete-button[disabled] {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n.sites-table .ant-table-tbody > tr > td {\\n  padding: 8px 16px;\\n}\\n\",document.head.appendChild(e)}var{TabPane:ea}=g.Tabs,Se=kr.default.create({baseURL:\"/website\"});Se.interceptors.response.use(function(e){if(e.data.code!==0)throw g.message.error(e.data.message),new Error(e.data);return e.data.data},function(e){return Promise.reject(e)});g.message.config({top:\"40%\"});var vi=e=>{let{attributes:t,listeners:r,setNodeRef:o,transform:n,transition:a,isDragging:l}=Zn({id:e[\"data-row-key\"]}),i=h(O(h({},e.style),{transform:Ce.Translate.toString(n),transition:a,cursor:\"move\"}),l?{position:\"relative\",zIndex:9999}:{});return x.default.createElement(\"tr\",h(h(O(h({},e),{ref:o,style:i}),t),r))};function bi(){let[e,t]=(0,x.useState)([]),r=(0,x.useMemo)(()=>[{title:\"\\u7AD9\\u6E90\",dataIndex:\"key\",render(s,d){return x.default.createElement(x.default.Fragment,null,d.name,d.t4&&x.default.createElement(g.Tag,{style:{marginLeft:4},color:\"blue\"},\"T4\"),d.cms&&x.default.createElement(g.Tag,{style:{marginLeft:4},color:\"blue\"},\"CMS\"))}},{title:\"\\u662F\\u5426\\u542F\\u7528\",dataIndex:\"enable\",render(s,d,u){return x.default.createElement(g.Switch,{value:s,onChange:f=>{e[u].enable=f,t([...e])}})},width:120},{title:\"\\u64CD\\u4F5C\",dataIndex:\"op\",render(s,d,u){return x.default.createElement(x.default.Fragment,null,x.default.createElement(g.Button,{icon:x.default.createElement(wr,null),style:{marginRight:8},onClick:()=>{t(f=>Je(f,u,u-1))}}),x.default.createElement(g.Button,{icon:x.default.createElement(vr,null),onClick:()=>{t(f=>Je(f,u,u+1))}}))},width:120}],[e]),o=Rn(Dn(Ke,{activationConstraint:{distance:1}})),n=({active:s,over:d})=>{s.id!==(d==null?void 0:d.id)&&t(u=>{let f=u.findIndex(p=>p.key===s.id),m=u.findIndex(p=>p.key===(d==null?void 0:d.id));return Je(u,f,m)})},a=async()=>{let d=(await kr.default.get(\"/full-config\")).data.video.sites,u=await Se.get(\"/sites/list\"),f={},m={};d.forEach(y=>{m[y.key]=y});let p=u.filter(y=>(f[y.key]=!0,m[y.key]));d.forEach(y=>{f[y.key]||p.push({key:y.key,name:y.name,enable:!0,t4:y.t4,cms:y.cms})}),t(p)},l=async()=>{try{await Se.put(\"/sites/list\",{list:e}),g.message.success({content:x.default.createElement(x.default.Fragment,null,\"\\u8BBE\\u7F6E\\u6210\\u529F\",x.default.createElement(\"br\",null),\"\\u9700\\u91CD\\u65B0\\u52A0\\u8F7D\\u6E90\\uFF01\",x.default.createElement(\"br\",null),\"\\u9700\\u91CD\\u65B0\\u52A0\\u8F7D\\u6E90\\uFF01\",x.default.createElement(\"br\",null),\"\\u9700\\u91CD\\u65B0\\u52A0\\u8F7D\\u6E90\\uFF01\",x.default.createElement(\"br\",null)),duration:5})}catch(s){console.error(s),g.message.error(\"\\u8BBE\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(s==null?void 0:s.message))}},i=async()=>{try{await Se.delete(\"/sites/list\"),a(),g.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(s){console.error(s),g.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(s==null?void 0:s.message))}};return(0,x.useEffect)(()=>{a()},[]),x.default.createElement(\"div\",null,x.default.createElement(Un,{sensors:o,modifiers:[Vn],onDragEnd:n},x.default.createElement(Jn,{items:e.map(s=>s.key),strategy:Gn},x.default.createElement(g.Table,{components:{body:{row:vi}},rowKey:\"key\",columns:r,dataSource:e,pagination:!1,className:\"sites-table\"}))),x.default.createElement(g.Button,{type:\"primary\",style:{marginTop:16},onClick:l},\"\\u4FDD\\u5B58\"),x.default.createElement(g.Button,{danger:!0,style:{marginTop:16,marginLeft:16},onClick:i},\"\\u91CD\\u7F6E\"))}function yi(){let[e]=g.Form.useForm(),t={labelCol:{span:4},wrapperCol:{span:20}},r={wrapperCol:{span:20,offset:4}},o=\"/danmu/setting\",n=async()=>{let i=await Se.get(o);e.setFieldsValue(i)},a=async()=>{let i=await e.validateFields();try{await Se.put(o,i),g.message.success(\"\\u5165\\u5E93\\u6210\\u529F\")}catch(s){console.error(s),g.message.error(\"\\u5165\\u5E93\\u5931\\u8D25\\uFF1A\".concat(s==null?void 0:s.message))}},l=async()=>{try{await Se.delete(o),n(),g.message.success(\"\\u91CD\\u7F6E\\u6210\\u529F\")}catch(i){console.error(i),g.message.error(\"\\u91CD\\u7F6E\\u5931\\u8D25\\uFF1A\".concat(i==null?void 0:i.message))}};return(0,x.useEffect)(()=>{n()},[]),x.default.createElement(g.Form,h({form:e},t),x.default.createElement(g.Alert,{message:\"\\u5F00\\u542F\\u81EA\\u52A8\\u63A8\\u9001\\u65F6\\uFF0C\\u81EA\\u52A8\\u9009\\u53D6\\u6700\\u5FEB\\u54CD\\u5E94\\u7684API\",type:\"info\",style:{marginBottom:12}}),x.default.createElement(g.Form.List,{name:\"urls\",rules:[{required:!0,message:\"\\u8BF7\\u6DFB\\u52A0API\\u5730\\u5740\"}]},(i,{add:s,remove:d},{errors:u})=>x.default.createElement(x.default.Fragment,null,i.map((f,m)=>x.default.createElement(g.Form.Item,O(h({label:m===0?\"API\\u5217\\u8868\":\"\",required:!1,key:f.key},m===0?t:r),{style:{marginBottom:12}}),x.default.createElement(g.Form.Item,O(h({},f),{name:[f.name,\"address\"],validateTrigger:[\"onChange\",\"onBlur\"],rules:[{required:!0,whitespace:!0,message:\"\\u8BF7\\u8F93\\u5165API\\u5730\\u5740\"}],noStyle:!0}),x.default.createElement(g.Input,{placeholder:\"\\u8BF7\\u8F93\\u5165API\\u5730\\u5740\",style:{width:\"65%\"}})),x.default.createElement(g.Form.Item,O(h({},f),{name:[f.name,\"name\"],validateTrigger:[\"onChange\",\"onBlur\"],noStyle:!0}),x.default.createElement(g.Input,{placeholder:\"\\u522B\\u540D\",style:{width:\"25%\",marginLeft:8}})),i.length>1?x.default.createElement(br,{className:\"dynamic-delete-button\",onClick:()=>d(f.name)}):null)),x.default.createElement(g.Form.Item,h({label:\"\"},r),x.default.createElement(g.Button,{type:\"dashed\",onClick:()=>s(),style:{width:\"60%\"},icon:x.default.createElement(yr,null)},\"\\u6DFB\\u52A0API\"),x.default.createElement(g.Form.ErrorList,{errors:u})))),x.default.createElement(g.Form.Item,{label:\"\\u81EA\\u52A8\\u63A8\\u9001\",name:\"autoPush\"},x.default.createElement(g.Switch,null)),x.default.createElement(g.Form.Item,{label:null},x.default.createElement(g.Button,{type:\"primary\",onClick:a},\"\\u4FDD\\u5B58\"),x.default.createElement(g.Button,{danger:!0,style:{marginLeft:16},onClick:l},\"\\u91CD\\u7F6E\")))}function wi(){return x.default.createElement(\"div\",{className:\"container\"},x.default.createElement(g.Card,{style:{minHeight:600,maxHeight:\"100vh\",width:600}},x.default.createElement(g.Tabs,{type:\"card\",tabBarExtraContent:x.default.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\"}},x.default.createElement(g.Upload,h({},{accept:\".json\",showUploadList:!1,beforeUpload(t){let r=new FileReader;return r.onload=async o=>{try{let n=JSON.parse(o.target.result);console.log(\"Parsed JSON data:\",n),await Se.put(\"/backup\",n),g.message.success(\"\".concat(t.name,\"\\u5BFC\\u5165\\u6210\\u529F\"))}catch(n){g.message.error(\"\".concat(t.name,\"\\u5BFC\\u5165\\u5931\\u8D25: \").concat(n.message)),console.error(\"Error parsing JSON:\",n)}},r.readAsText(t),!1}}),x.default.createElement(g.Button,{type:\"link\"},\"\\u5BFC\\u5165\")),x.default.createElement(\"a\",{href:\"/website/backup\",target:\"_blank\"},\"\\u5BFC\\u51FA\"))},x.default.createElement(ea,{tab:\"\\u7AD9\\u6E90\\u8BBE\\u7F6E\",key:\"site\"},x.default.createElement(bi,null)),x.default.createElement(ea,{tab:\"\\u5F39\\u5E55\\u8BBE\\u7F6E\",key:\"danmu\"},x.default.createElement(yi,null)))))}function Oi(){(0,ta.createRoot)(document.getElementById(\"app\")).render(x.default.createElement(wi,null))}\n/*! Bundled license information:\n\nclassnames/index.js:\n  (*!\n  \tCopyright (c) 2018 Jed Watson.\n  \tLicensed under the MIT License (MIT), see\n  \thttp://jedwatson.github.io/classnames\n  *)\n*/\n"}
      module.exports.renderClient();
    })();
  `;
}();



globalThis.danmuBundle = function() {
  return `
    (function() {
      const exports = {};
      const module = { exports };
      ${"var Nt=Object.create;var M=Object.defineProperty,Ht=Object.defineProperties,qt=Object.getOwnPropertyDescriptor,Ut=Object.getOwnPropertyDescriptors,jt=Object.getOwnPropertyNames,ce=Object.getOwnPropertySymbols,Wt=Object.getPrototypeOf,Oe=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable;var he=(t,e,r)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ge=(t,e)=>{for(var r in e||(e={}))Oe.call(e,r)&&he(t,r,e[r]);if(ce)for(var r of ce(e))Vt.call(e,r)&&he(t,r,e[r]);return t},Te=(t,e)=>Ht(t,Ut(e));var R=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),zt=(t,e)=>{for(var r in e)M(t,r,{get:e[r],enumerable:!0})},be=(t,e,r,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of jt(e))!Oe.call(t,a)&&a!==r&&M(t,a,{get:()=>e[a],enumerable:!(o=qt(e,a))||o.enumerable});return t};var b=(t,e,r)=>(r=t!=null?Nt(Wt(t)):{},be(e||!t||!t.__esModule?M(r,\"default\",{value:t,enumerable:!0}):r,t)),Gt=t=>be(M({},\"__esModule\",{value:!0}),t);var y=R((Rr,we)=>{we.exports=window.React});var Fe=R((Dr,Ce)=>{Ce.exports=window.ReactDOM});var Se=R(ee=>{\"use strict\";var ye=Fe();ee.createRoot=ye.createRoot,ee.hydrateRoot=ye.hydrateRoot;var Mr});var ke=R((Er,ve)=>{ve.exports=window.antd});var Be=R((lo,q)=>{(function(){\"use strict\";var t={}.hasOwnProperty;function e(){for(var a=\"\",l=0;l<arguments.length;l++){var n=arguments[l];n&&(a=o(a,r(n)))}return a}function r(a){if(typeof a==\"string\"||typeof a==\"number\")return a;if(typeof a!=\"object\")return\"\";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes(\"[native code]\"))return a.toString();var l=\"\";for(var n in a)t.call(a,n)&&a[n]&&(l=o(l,n));return l}function o(a,l){return l?a?a+\" \"+l:a+l:a}typeof q<\"u\"&&q.exports?(e.default=e,q.exports=e):typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?define(\"classnames\",[],function(){return e}):window.classNames=e})()});var Et=R((pa,_t)=>{_t.exports=window.axios});var Pr={};zt(Pr,{Danmu:()=>Lt,renderDanmu:()=>kr});module.exports=Gt(Pr);var s=b(y(),1),Bt=b(Se(),1),x=b(ke(),1);var Pe=b(y()),$t=(0,Pe.createContext)({}),L=$t;function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},S.apply(null,arguments)}function Ae(t){if(Array.isArray(t))return t}function Re(t,e){var r=t==null?null:typeof Symbol<\"u\"&&t[Symbol.iterator]||t[\"@@iterator\"];if(r!=null){var o,a,l,n,d=[],f=!0,i=!1;try{if(l=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(o=l.call(r)).done)&&(d.push(o.value),d.length!==e);f=!0);}catch(m){i=!0,a=m}finally{try{if(!f&&r.return!=null&&(n=r.return(),Object(n)!==n))return}finally{if(i)throw a}}return d}}function te(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=Array(e);r<e;r++)o[r]=t[r];return o}function De(t,e){if(t){if(typeof t==\"string\")return te(t,e);var r={}.toString.call(t).slice(8,-1);return r===\"Object\"&&t.constructor&&(r=t.constructor.name),r===\"Map\"||r===\"Set\"?Array.from(t):r===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(t,e):void 0}}function Me(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function N(t,e){return Ae(t)||Re(t,e)||De(t,e)||Me()}function w(t){\"@babel/helpers - typeof\";return w=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(e){return typeof e}:function(e){return e&&typeof Symbol==\"function\"&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},w(t)}function _e(t,e){if(w(t)!=\"object\"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||\"default\");if(w(o)!=\"object\")return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(e===\"string\"?String:Number)(t)}function Ee(t){var e=_e(t,\"string\");return w(e)==\"symbol\"?e:e+\"\"}function c(t,e,r){return(e=Ee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ie(t,e){if(t==null)return{};var r={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;r[o]=t[o]}return r}function H(t,e){if(t==null)return{};var r,o,a=Ie(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)r=l[o],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var P=b(y()),Rt=b(Be());var h=Math.round;function re(t,e){let r=t.replace(/^[^(]*\\((.*)/,\"$1\").replace(/\\).*/,\"\").match(/\\d*\\.?\\d+%?/g)||[],o=r.map(a=>parseFloat(a));for(let a=0;a<3;a+=1)o[a]=e(o[a]||0,r[a]||\"\",a);return r[3]?o[3]=r[3].includes(\"%\")?o[3]/100:o[3]:o[3]=1,o}var Le=(t,e,r)=>r===0?t:t/100;function _(t,e){let r=e||255;return t>r?r:t<0?0:t}var v=class t{constructor(e){c(this,\"isValid\",!0),c(this,\"r\",0),c(this,\"g\",0),c(this,\"b\",0),c(this,\"a\",1),c(this,\"_h\",void 0),c(this,\"_s\",void 0),c(this,\"_l\",void 0),c(this,\"_v\",void 0),c(this,\"_max\",void 0),c(this,\"_min\",void 0),c(this,\"_brightness\",void 0);function r(o){return o[0]in e&&o[1]in e&&o[2]in e}if(e)if(typeof e==\"string\"){let a=function(l){return o.startsWith(l)},o=e.trim();/^#?[A-F\\d]{3,8}$/i.test(o)?this.fromHexString(o):a(\"rgb\")?this.fromRgbString(o):a(\"hsl\")?this.fromHslString(o):(a(\"hsv\")||a(\"hsb\"))&&this.fromHsvString(o)}else if(e instanceof t)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(r(\"rgb\"))this.r=_(e.r),this.g=_(e.g),this.b=_(e.b),this.a=typeof e.a==\"number\"?_(e.a,1):1;else if(r(\"hsl\"))this.fromHsl(e);else if(r(\"hsv\"))this.fromHsv(e);else throw new Error(\"@ant-design/fast-color: unsupported input \"+JSON.stringify(e))}setR(e){return this._sc(\"r\",e)}setG(e){return this._sc(\"g\",e)}setB(e){return this._sc(\"b\",e)}setA(e){return this._sc(\"a\",e,1)}setHue(e){let r=this.toHsv();return r.h=e,this._c(r)}getLuminance(){function e(l){let n=l/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}let r=e(this.r),o=e(this.g),a=e(this.b);return .2126*r+.7152*o+.0722*a}getHue(){if(typeof this._h>\"u\"){let e=this.getMax()-this.getMin();e===0?this._h=0:this._h=h(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>\"u\"){let e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>\"u\"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>\"u\"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>\"u\"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){let r=this.getHue(),o=this.getSaturation(),a=this.getLightness()-e/100;return a<0&&(a=0),this._c({h:r,s:o,l:a,a:this.a})}lighten(e=10){let r=this.getHue(),o=this.getSaturation(),a=this.getLightness()+e/100;return a>1&&(a=1),this._c({h:r,s:o,l:a,a:this.a})}mix(e,r=50){let o=this._c(e),a=r/100,l=d=>(o[d]-this[d])*a+this[d],n={r:h(l(\"r\")),g:h(l(\"g\")),b:h(l(\"b\")),a:h(l(\"a\")*100)/100};return this._c(n)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){let r=this._c(e),o=this.a+r.a*(1-this.a),a=l=>h((this[l]*this.a+r[l]*r.a*(1-this.a))/o);return this._c({r:a(\"r\"),g:a(\"g\"),b:a(\"b\"),a:o})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e=\"#\",r=(this.r||0).toString(16);e+=r.length===2?r:\"0\"+r;let o=(this.g||0).toString(16);e+=o.length===2?o:\"0\"+o;let a=(this.b||0).toString(16);if(e+=a.length===2?a:\"0\"+a,typeof this.a==\"number\"&&this.a>=0&&this.a<1){let l=h(this.a*255).toString(16);e+=l.length===2?l:\"0\"+l}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){let e=this.getHue(),r=h(this.getSaturation()*100),o=h(this.getLightness()*100);return this.a!==1?\"hsla(\".concat(e,\",\").concat(r,\"%,\").concat(o,\"%,\").concat(this.a,\")\"):\"hsl(\".concat(e,\",\").concat(r,\"%,\").concat(o,\"%)\")}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?\"rgba(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\",\").concat(this.a,\")\"):\"rgb(\".concat(this.r,\",\").concat(this.g,\",\").concat(this.b,\")\")}toString(){return this.toRgbString()}_sc(e,r,o){let a=this.clone();return a[e]=_(r,o),a}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>\"u\"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>\"u\"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){let r=e.replace(\"#\",\"\");function o(a,l){return parseInt(r[a]+r[l||a],16)}r.length<6?(this.r=o(0),this.g=o(1),this.b=o(2),this.a=r[3]?o(3)/255:1):(this.r=o(0,1),this.g=o(2,3),this.b=o(4,5),this.a=r[6]?o(6,7)/255:1)}fromHsl({h:e,s:r,l:o,a}){if(this._h=e%360,this._s=r,this._l=o,this.a=typeof a==\"number\"?a:1,r<=0){let p=h(o*255);this.r=p,this.g=p,this.b=p}let l=0,n=0,d=0,f=e/60,i=(1-Math.abs(2*o-1))*r,m=i*(1-Math.abs(f%2-1));f>=0&&f<1?(l=i,n=m):f>=1&&f<2?(l=m,n=i):f>=2&&f<3?(n=i,d=m):f>=3&&f<4?(n=m,d=i):f>=4&&f<5?(l=m,d=i):f>=5&&f<6&&(l=i,d=m);let u=o-i/2;this.r=h((l+u)*255),this.g=h((n+u)*255),this.b=h((d+u)*255)}fromHsv({h:e,s:r,v:o,a}){this._h=e%360,this._s=r,this._v=o,this.a=typeof a==\"number\"?a:1;let l=h(o*255);if(this.r=l,this.g=l,this.b=l,r<=0)return;let n=e/60,d=Math.floor(n),f=n-d,i=h(o*(1-r)*255),m=h(o*(1-r*f)*255),u=h(o*(1-r*(1-f))*255);switch(d){case 0:this.g=u,this.b=i;break;case 1:this.r=m,this.b=i;break;case 2:this.r=i,this.b=u;break;case 3:this.r=i,this.g=m;break;case 4:this.r=u,this.g=i;break;case 5:default:this.g=i,this.b=m;break}}fromHsvString(e){let r=re(e,Le);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(e){let r=re(e,Le);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(e){let r=re(e,(o,a)=>a.includes(\"%\")?h(o/100*255):o);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}};var U=2,Ne=.16,Qt=.05,Yt=.05,Jt=.15,je=5,We=4,Kt=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function He(t,e,r){var o;return Math.round(t.h)>=60&&Math.round(t.h)<=240?o=r?Math.round(t.h)-U*e:Math.round(t.h)+U*e:o=r?Math.round(t.h)+U*e:Math.round(t.h)-U*e,o<0?o+=360:o>=360&&(o-=360),o}function qe(t,e,r){if(t.h===0&&t.s===0)return t.s;var o;return r?o=t.s-Ne*e:e===We?o=t.s+Ne:o=t.s+Qt*e,o>1&&(o=1),r&&e===je&&o>.1&&(o=.1),o<.06&&(o=.06),Math.round(o*100)/100}function Ue(t,e,r){var o;return r?o=t.v+Yt*e:o=t.v-Jt*e,o=Math.max(0,Math.min(1,o)),Math.round(o*100)/100}function j(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],o=new v(t),a=o.toHsv(),l=je;l>0;l-=1){var n=new v({h:He(a,l,!0),s:qe(a,l,!0),v:Ue(a,l,!0)});r.push(n)}r.push(o);for(var d=1;d<=We;d+=1){var f=new v({h:He(a,d),s:qe(a,d),v:Ue(a,d)});r.push(f)}return e.theme===\"dark\"?Kt.map(function(i){var m=i.index,u=i.amount;return new v(e.backgroundColor||\"#141414\").mix(r[m],u).toHexString()}):r.map(function(i){return i.toHexString()})}var Ve=[\"#fff1f0\",\"#ffccc7\",\"#ffa39e\",\"#ff7875\",\"#ff4d4f\",\"#f5222d\",\"#cf1322\",\"#a8071a\",\"#820014\",\"#5c0011\"];Ve.primary=Ve[5];var ze=[\"#fff2e8\",\"#ffd8bf\",\"#ffbb96\",\"#ff9c6e\",\"#ff7a45\",\"#fa541c\",\"#d4380d\",\"#ad2102\",\"#871400\",\"#610b00\"];ze.primary=ze[5];var Ge=[\"#fff7e6\",\"#ffe7ba\",\"#ffd591\",\"#ffc069\",\"#ffa940\",\"#fa8c16\",\"#d46b08\",\"#ad4e00\",\"#873800\",\"#612500\"];Ge.primary=Ge[5];var $e=[\"#fffbe6\",\"#fff1b8\",\"#ffe58f\",\"#ffd666\",\"#ffc53d\",\"#faad14\",\"#d48806\",\"#ad6800\",\"#874d00\",\"#613400\"];$e.primary=$e[5];var Qe=[\"#feffe6\",\"#ffffb8\",\"#fffb8f\",\"#fff566\",\"#ffec3d\",\"#fadb14\",\"#d4b106\",\"#ad8b00\",\"#876800\",\"#614700\"];Qe.primary=Qe[5];var Ye=[\"#fcffe6\",\"#f4ffb8\",\"#eaff8f\",\"#d3f261\",\"#bae637\",\"#a0d911\",\"#7cb305\",\"#5b8c00\",\"#3f6600\",\"#254000\"];Ye.primary=Ye[5];var Je=[\"#f6ffed\",\"#d9f7be\",\"#b7eb8f\",\"#95de64\",\"#73d13d\",\"#52c41a\",\"#389e0d\",\"#237804\",\"#135200\",\"#092b00\"];Je.primary=Je[5];var Ke=[\"#e6fffb\",\"#b5f5ec\",\"#87e8de\",\"#5cdbd3\",\"#36cfc9\",\"#13c2c2\",\"#08979c\",\"#006d75\",\"#00474f\",\"#002329\"];Ke.primary=Ke[5];var W=[\"#e6f4ff\",\"#bae0ff\",\"#91caff\",\"#69b1ff\",\"#4096ff\",\"#1677ff\",\"#0958d9\",\"#003eb3\",\"#002c8c\",\"#001d66\"];W.primary=W[5];var Ze=[\"#f0f5ff\",\"#d6e4ff\",\"#adc6ff\",\"#85a5ff\",\"#597ef7\",\"#2f54eb\",\"#1d39c4\",\"#10239e\",\"#061178\",\"#030852\"];Ze.primary=Ze[5];var Xe=[\"#f9f0ff\",\"#efdbff\",\"#d3adf7\",\"#b37feb\",\"#9254de\",\"#722ed1\",\"#531dab\",\"#391085\",\"#22075e\",\"#120338\"];Xe.primary=Xe[5];var et=[\"#fff0f6\",\"#ffd6e7\",\"#ffadd2\",\"#ff85c0\",\"#f759ab\",\"#eb2f96\",\"#c41d7f\",\"#9e1068\",\"#780650\",\"#520339\"];et.primary=et[5];var tt=[\"#a6a6a6\",\"#999999\",\"#8c8c8c\",\"#808080\",\"#737373\",\"#666666\",\"#404040\",\"#1a1a1a\",\"#000000\",\"#000000\"];tt.primary=tt[5];var rt=[\"#2a1215\",\"#431418\",\"#58181c\",\"#791a1f\",\"#a61d24\",\"#d32029\",\"#e84749\",\"#f37370\",\"#f89f9a\",\"#fac8c3\"];rt.primary=rt[5];var ot=[\"#2b1611\",\"#441d12\",\"#592716\",\"#7c3118\",\"#aa3e19\",\"#d84a1b\",\"#e87040\",\"#f3956a\",\"#f8b692\",\"#fad4bc\"];ot.primary=ot[5];var at=[\"#2b1d11\",\"#442a11\",\"#593815\",\"#7c4a15\",\"#aa6215\",\"#d87a16\",\"#e89a3c\",\"#f3b765\",\"#f8cf8d\",\"#fae3b7\"];at.primary=at[5];var lt=[\"#2b2111\",\"#443111\",\"#594214\",\"#7c5914\",\"#aa7714\",\"#d89614\",\"#e8b339\",\"#f3cc62\",\"#f8df8b\",\"#faedb5\"];lt.primary=lt[5];var nt=[\"#2b2611\",\"#443b11\",\"#595014\",\"#7c6e14\",\"#aa9514\",\"#d8bd14\",\"#e8d639\",\"#f3ea62\",\"#f8f48b\",\"#fafab5\"];nt.primary=nt[5];var ft=[\"#1f2611\",\"#2e3c10\",\"#3e4f13\",\"#536d13\",\"#6f9412\",\"#8bbb11\",\"#a9d134\",\"#c9e75d\",\"#e4f88b\",\"#f0fab5\"];ft.primary=ft[5];var it=[\"#162312\",\"#1d3712\",\"#274916\",\"#306317\",\"#3c8618\",\"#49aa19\",\"#6abe39\",\"#8fd460\",\"#b2e58b\",\"#d5f2bb\"];it.primary=it[5];var dt=[\"#112123\",\"#113536\",\"#144848\",\"#146262\",\"#138585\",\"#13a8a8\",\"#33bcb7\",\"#58d1c9\",\"#84e2d8\",\"#b2f1e8\"];dt.primary=dt[5];var ut=[\"#111a2c\",\"#112545\",\"#15325b\",\"#15417e\",\"#1554ad\",\"#1668dc\",\"#3c89e8\",\"#65a9f3\",\"#8dc5f8\",\"#b7dcfa\"];ut.primary=ut[5];var st=[\"#131629\",\"#161d40\",\"#1c2755\",\"#203175\",\"#263ea0\",\"#2b4acb\",\"#5273e0\",\"#7f9ef3\",\"#a8c1f8\",\"#d2e0fa\"];st.primary=st[5];var mt=[\"#1a1325\",\"#24163a\",\"#301c4d\",\"#3e2069\",\"#51258f\",\"#642ab5\",\"#854eca\",\"#ab7ae0\",\"#cda8f0\",\"#ebd7fa\"];mt.primary=mt[5];var pt=[\"#291321\",\"#40162f\",\"#551c3b\",\"#75204f\",\"#a02669\",\"#cb2b83\",\"#e0529c\",\"#f37fb7\",\"#f8a8cc\",\"#fad2e3\"];pt.primary=pt[5];var xt=[\"#151515\",\"#1f1f1f\",\"#2d2d2d\",\"#393939\",\"#494949\",\"#5a5a5a\",\"#6a6a6a\",\"#7b7b7b\",\"#888888\",\"#969696\"];xt.primary=xt[5];function ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ct(Object(r),!0).forEach(function(o){c(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}var Pt=b(y());function oe(){return!!(typeof window<\"u\"&&window.document&&window.document.createElement)}function ae(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var r=e;r;){if(r===t)return!0;r=r.parentNode}return!1}var ht=\"data-rc-order\",Ot=\"data-rc-priority\",Zt=\"rc-util-key\",le=new Map;function gt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith(\"data-\")?e:\"data-\".concat(e):Zt}function ne(t){if(t.attachTo)return t.attachTo;var e=document.querySelector(\"head\");return e||document.body}function Xt(t){return t===\"queue\"?\"prependQueue\":t?\"prepend\":\"append\"}function fe(t){return Array.from((le.get(t)||t).children).filter(function(e){return e.tagName===\"STYLE\"})}function Tt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!oe())return null;var r=e.csp,o=e.prepend,a=e.priority,l=a===void 0?0:a,n=Xt(o),d=n===\"prependQueue\",f=document.createElement(\"style\");f.setAttribute(ht,n),d&&l&&f.setAttribute(Ot,\"\".concat(l)),r!=null&&r.nonce&&(f.nonce=r==null?void 0:r.nonce),f.innerHTML=t;var i=ne(e),m=i.firstChild;if(o){if(d){var u=(e.styles||fe(i)).filter(function(p){if(![\"prepend\",\"prependQueue\"].includes(p.getAttribute(ht)))return!1;var O=Number(p.getAttribute(Ot)||0);return l>=O});if(u.length)return i.insertBefore(f,u[u.length-1].nextSibling),f}i.insertBefore(f,m)}else i.appendChild(f);return f}function er(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=ne(e);return(e.styles||fe(r)).find(function(o){return o.getAttribute(gt(e))===t})}function tr(t,e){var r=le.get(t);if(!r||!ae(document,r)){var o=Tt(\"\",e),a=o.parentNode;le.set(t,a),t.removeChild(o)}}function bt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=ne(r),a=fe(o),l=g(g({},r),{},{styles:a});tr(o,l);var n=er(e,l);if(n){var d,f;if((d=l.csp)!==null&&d!==void 0&&d.nonce&&n.nonce!==((f=l.csp)===null||f===void 0?void 0:f.nonce)){var i;n.nonce=(i=l.csp)===null||i===void 0?void 0:i.nonce}return n.innerHTML!==t&&(n.innerHTML=t),n}var m=Tt(t,l);return m.setAttribute(gt(l),e),m}function wt(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function rr(t){return wt(t)instanceof ShadowRoot}function Ct(t){return rr(t)?wt(t):null}var ie={},or=[],ar=function(e){or.push(e)};function lr(t,e){if(0)var r}function nr(t,e){if(0)var r}function fr(){ie={}}function Ft(t,e,r){!e&&!ie[r]&&(t(!1,r),ie[r]=!0)}function V(t,e){Ft(lr,t,e)}function ir(t,e){Ft(nr,t,e)}V.preMessage=ar;V.resetWarned=fr;V.noteOnce=ir;var yt=V;var k=b(y());function dr(t){return t.replace(/-(.)/g,function(e,r){return r.toUpperCase()})}function vt(t,e){yt(t,\"[@ant-design/icons] \".concat(e))}function de(t){return w(t)===\"object\"&&typeof t.name==\"string\"&&typeof t.theme==\"string\"&&(w(t.icon)===\"object\"||typeof t.icon==\"function\")}function St(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,r){var o=t[r];switch(r){case\"class\":e.className=o,delete e.class;break;default:delete e[r],e[dr(r)]=o}return e},{})}function z(t,e,r){return r?k.default.createElement(t.tag,g(g({key:e},St(t.attrs)),r),(t.children||[]).map(function(o,a){return z(o,\"\".concat(e,\"-\").concat(t.tag,\"-\").concat(a))})):k.default.createElement(t.tag,g({key:e},St(t.attrs)),(t.children||[]).map(function(o,a){return z(o,\"\".concat(e,\"-\").concat(t.tag,\"-\").concat(a))}))}function ue(t){return j(t)[0]}function G(t){return t?Array.isArray(t)?t:[t]:[]}var ur=\"\\n.anticon {\\n  display: inline-flex;\\n  align-items: center;\\n  color: inherit;\\n  font-style: normal;\\n  line-height: 0;\\n  text-align: center;\\n  text-transform: none;\\n  vertical-align: -0.125em;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.anticon > * {\\n  line-height: 1;\\n}\\n\\n.anticon svg {\\n  display: inline-block;\\n}\\n\\n.anticon::before {\\n  display: none;\\n}\\n\\n.anticon .anticon-icon {\\n  display: block;\\n}\\n\\n.anticon[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.anticon-spin::before,\\n.anticon-spin {\\n  display: inline-block;\\n  -webkit-animation: loadingCircle 1s infinite linear;\\n  animation: loadingCircle 1s infinite linear;\\n}\\n\\n@-webkit-keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\",kt=function(e){var r=(0,k.useContext)(L),o=r.csp,a=r.prefixCls,l=r.layer,n=ur;a&&(n=n.replace(/anticon/g,a)),l&&(n=\"@layer \".concat(l,\" {\\n\").concat(n,\"\\n}\")),(0,k.useEffect)(function(){var d=e.current,f=Ct(d);bt(n,\"@ant-design-icons\",{prepend:!l,csp:o,attachTo:f})},[])};var sr=[\"icon\",\"className\",\"onClick\",\"style\",\"primaryColor\",\"secondaryColor\"],E={primaryColor:\"#333\",secondaryColor:\"#E6E6E6\",calculated:!1};function mr(t){var e=t.primaryColor,r=t.secondaryColor;E.primaryColor=e,E.secondaryColor=r||ue(e),E.calculated=!!r}function pr(){return g({},E)}var $=function(e){var r=e.icon,o=e.className,a=e.onClick,l=e.style,n=e.primaryColor,d=e.secondaryColor,f=H(e,sr),i=Pt.useRef(),m=E;if(n&&(m={primaryColor:n,secondaryColor:d||ue(n)}),kt(i),vt(de(r),\"icon should be icon definiton, but got \".concat(r)),!de(r))return null;var u=r;return u&&typeof u.icon==\"function\"&&(u=g(g({},u),{},{icon:u.icon(m.primaryColor,m.secondaryColor)})),z(u.icon,\"svg-\".concat(u.name),g(g({className:o,onClick:a,style:l,\"data-icon\":u.name,width:\"1em\",height:\"1em\",fill:\"currentColor\",\"aria-hidden\":\"true\"},f),{},{ref:i}))};$.displayName=\"IconReact\";$.getTwoToneColors=pr;$.setTwoToneColors=mr;var I=$;function se(t){var e=G(t),r=N(e,2),o=r[0],a=r[1];return I.setTwoToneColors({primaryColor:o,secondaryColor:a})}function At(){var t=I.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var xr=[\"className\",\"icon\",\"spin\",\"rotate\",\"tabIndex\",\"onClick\",\"twoToneColor\"];se(W.primary);var Q=P.forwardRef(function(t,e){var r=t.className,o=t.icon,a=t.spin,l=t.rotate,n=t.tabIndex,d=t.onClick,f=t.twoToneColor,i=H(t,xr),m=P.useContext(L),u=m.prefixCls,p=u===void 0?\"anticon\":u,O=m.rootClassName,F=(0,Rt.default)(O,p,c(c({},\"\".concat(p,\"-\").concat(o.name),!!o.name),\"\".concat(p,\"-spin\"),!!a||o.name===\"loading\"),r),A=n;A===void 0&&d&&(A=-1);var D=l?{msTransform:\"rotate(\".concat(l,\"deg)\"),transform:\"rotate(\".concat(l,\"deg)\")}:void 0,T=G(f),C=N(T,2),B=C[0],X=C[1];return P.createElement(\"span\",S({role:\"img\",\"aria-label\":o.name},i,{ref:e,tabIndex:A,onClick:d,className:F}),P.createElement(I,{icon:o,primaryColor:B,secondaryColor:X,style:D}))});Q.displayName=\"AntdIcon\";Q.getTwoToneColor=At;Q.setTwoToneColor=se;var Y=Q;var J=b(y());var cr={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM416 702h-76V172c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v530h-76c-6.7 0-10.5 7.8-6.3 13l112 141.9a8 8 0 0012.6 0l112-141.9c4.1-5.2.4-13-6.3-13z\"}}]},name:\"sort-ascending\",theme:\"outlined\"},Dt=cr;var hr=function(e,r){return J.createElement(Y,S({},e,{ref:r,icon:Dt}))},Or=J.forwardRef(hr),me=Or;var K=b(y());var gr={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM310.3 167.1a8 8 0 00-12.6 0L185.7 309c-4.2 5.3-.4 13 6.3 13h76v530c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V322h76c6.7 0 10.5-7.8 6.3-13l-112-141.9z\"}}]},name:\"sort-descending\",theme:\"outlined\"},Mt=gr;var Tr=function(e,r){return K.createElement(Y,S({},e,{ref:r,icon:Mt}))},br=K.forwardRef(Tr),pe=br;var Z=b(Et(),1);if(typeof window<\"u\"){let t=document.createElement(\"style\");t.textContent=\"html,\\nbody,\\n#app {\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n}\\n.danmu-container {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  padding: 20px;\\n  box-sizing: border-box;\\n}\\n.danmu-container .main-title {\\n  text-align: center;\\n  transition: all 0.3s ease-out;\\n  max-height: 50px;\\n  opacity: 1;\\n  margin-bottom: 20px;\\n  overflow: hidden;\\n}\\n.danmu-container .main-title.hidden {\\n  max-height: 0;\\n  opacity: 0;\\n  margin: 0;\\n}\\n.danmu-container .search-input {\\n  margin-bottom: 20px;\\n}\\n.danmu-container .result-container {\\n  flex-grow: 1;\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.danmu-container .result-container .spin-container {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100%;\\n}\\n.danmu-container .result-container > .ant-tabs {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n}\\n.danmu-container .result-container > .ant-tabs .ant-tabs-content-holder {\\n  overflow-y: auto;\\n  flex-grow: 1;\\n}\\n.drawer .ant-drawer-title {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.drawer .ant-list-item {\\n  padding: 16px 24px;\\n}\\n@media (max-width: 768px) {\\n  .danmu-container {\\n    padding: 10px;\\n  }\\n  .danmu-container .search-input {\\n    margin-bottom: 8px;\\n  }\\n  .danmu-container .ant-tabs-left > .ant-tabs-nav {\\n    width: 80px;\\n  }\\n  .danmu-container .ant-tabs-nav {\\n    margin: 0;\\n  }\\n  .danmu-container .ant-tabs-tab {\\n    font-size: 12px;\\n    padding: 8px 12px;\\n  }\\n  .danmu-container .anime-episode-container {\\n    flex-direction: column;\\n  }\\n  .danmu-container .anime-episode-container .anime-list-col,\\n  .danmu-container .anime-episode-container .episode-list-col {\\n    width: 100%;\\n    border-right: none;\\n    max-height: 50vh;\\n  }\\n  .danmu-container .anime-episode-container .anime-list-col {\\n    border-bottom: 1px solid #f0f0f0;\\n  }\\n  .drawer .ant-drawer-header {\\n    padding: 16px 12px;\\n  }\\n  .drawer .ant-list-item {\\n    padding: 12px;\\n  }\\n}\\n\",document.head.appendChild(t)}var{Search:wr}=x.Input,{Title:Cr}=x.Typography,xe=\"danmu_search_cache\",It=\"danmu_search_order\",Fr=3,yr=t=>{let e=localStorage.getItem(xe);return e&&JSON.parse(e)[t]||null},Sr=(t,e)=>{let r=[];try{r=JSON.parse(localStorage.getItem(It)||\"[]\")}catch(a){}let o={};try{o=JSON.parse(localStorage.getItem(xe)||\"{}\")}catch(a){}if(r=r.filter(a=>a!==t),r.unshift(t),o[t]=e,r.length>Fr){let a=r.pop();delete o[a]}localStorage.setItem(It,JSON.stringify(r)),localStorage.setItem(xe,JSON.stringify(o))},vr=({animes:t,sourceUrl:e})=>{let[r,o]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null),[n,d]=(0,s.useState)(!1),f=async u=>{try{await Z.default.post(\"/website/danmu/push\",{url:\"\".concat(e,\"/api/v2/comment/\").concat(u.episodeId,\"?format=xml\")}),x.message.success(\"\\u5DF2\\u63A8\\u9001\\uFF0C\\u8BF7\\u7B49\\u5F85\\u5F39\\u5E55\\u52A0\\u8F7D\\u5B8C\\u6210\"),o(!1)}catch(p){console.error(p),x.message.error(\"\\u63A8\\u9001\\u5931\\u8D25\")}},i=u=>{l(u),o(!0),d(!1)},m=()=>{a&&(l(Te(ge({},a),{episodes:[...a.episodes].reverse()})),d(u=>!u))};return!t||t.length===0?s.default.createElement(x.Empty,{description:\"\\u8BE5\\u6765\\u6E90\\u4E0B\\u65E0\\u7ED3\\u679C\"}):s.default.createElement(s.default.Fragment,null,s.default.createElement(x.List,{dataSource:t,renderItem:u=>s.default.createElement(x.List.Item,{onClick:()=>i(u)},u.animeTitle)}),a&&s.default.createElement(x.Drawer,{title:a.animeTitle,placement:\"bottom\",onClose:()=>o(!1),open:r,height:\"80%\",destroyOnClose:!0,closable:!1,bodyStyle:{padding:0},className:\"drawer\",extra:s.default.createElement(x.Button,{icon:n?s.default.createElement(me,null):s.default.createElement(pe,null),onClick:m,style:{marginLeft:16}})},s.default.createElement(x.List,{dataSource:a.episodes,renderItem:u=>s.default.createElement(x.List.Item,{onClick:()=>f(u)},u.episodeTitle)})))};function Lt(){let[t,e]=(0,s.useState)([]),[r,o]=(0,s.useState)(!1),[a,l]=(0,s.useState)([]),[n,d]=(0,s.useState)(!1),[f,i]=(0,s.useState)(new URLSearchParams(window.location.search).get(\"keyword\")||\"\");(0,s.useEffect)(()=>{Z.default.get(\"/website/danmu/setting\").then(p=>{p.data.code===0&&p.data.data&&p.data.data.urls?e(p.data.data.urls.map(O=>({name:O.name||new URL(O.address).hostname,url:O.address}))):x.message.error(\"\\u83B7\\u53D6\\u5F39\\u5E55\\u6E90\\u5931\\u8D25\")}).catch(p=>{console.error(p),x.message.error(\"\\u83B7\\u53D6\\u5F39\\u5E55\\u6E90\\u5931\\u8D25\")})},[]);let m=(0,s.useCallback)((p,O=!1)=>{let F=p.trim();if(!F){O||x.message.warning(\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u5173\\u952E\\u8BCD\");return}if(t.length===0&&!O){x.message.error(\"\\u6CA1\\u6709\\u53EF\\u7528\\u7684\\u5F39\\u5E55\\u6E90\");return}if(i(F),!O){let T=new URL(window.location);T.searchParams.set(\"keyword\",F),window.history.pushState({},\"\",T)}if(O){let T=yr(F);if(T){l(T),d(!0),o(!1),x.message.success(\"\\u4ECE\\u7F13\\u5B58\\u52A0\\u8F7D\\u4E86\\u7ED3\\u679C\");return}}o(!0),d(!0),l([]);let A=0,D=[];t.forEach(T=>{Z.default.get(\"\".concat(T.url,\"/api/v2/search/episodes\"),{params:{anime:F}}).then(C=>{if(C.data.success&&C.data.animes&&C.data.animes.length>0){let B={sourceName:T.name,sourceUrl:T.url,data:C.data};D.push(B),l(X=>[...X,B])}}).catch(C=>console.error(\"Search from \".concat(T.name,\" failed:\"),C)).finally(()=>{A++,A===t.length&&(o(!1),D.length>0&&Sr(F,D))})})},[t]);(0,s.useEffect)(()=>{if(t.length>0){let O=new URLSearchParams(window.location.search).get(\"keyword\");O&&m(O,!0)}},[t,m]);let u=a.map((p,O)=>({key:\"\".concat(p.sourceName,\"-\").concat(O),label:p.sourceName,children:s.default.createElement(vr,{animes:p.data.animes,sourceUrl:p.sourceUrl})}));return s.default.createElement(\"div\",{className:\"danmu-container\"},s.default.createElement(Cr,{level:2,className:\"main-title \".concat(n?\"hidden\":\"\")},\"\\u5F39\\u5E55\\u641C\\u7D22\"),s.default.createElement(wr,{placeholder:\"\\u8F93\\u5165\\u5F71\\u89C6\\u540D\\u79F0...\",enterButton:\"\\u641C\\u7D22\",size:\"large\",onSearch:p=>m(p),loading:r,className:\"search-input\",value:f,onChange:p=>i(p.target.value)}),s.default.createElement(\"div\",{className:\"result-container\"},n&&a.length===0&&r&&s.default.createElement(\"div\",{className:\"spin-container\"},s.default.createElement(x.Spin,{size:\"large\"})),a.length>0&&s.default.createElement(x.Tabs,{items:u,size:\"small\"}),n&&a.length===0&&!r&&s.default.createElement(x.Empty,{description:\"\\u672A\\u627E\\u5230\\u76F8\\u5173\\u7ED3\\u679C\"})))}function kr(){(0,Bt.createRoot)(document.getElementById(\"app\")).render(s.default.createElement(Lt,null))}\n/*! Bundled license information:\n\nclassnames/index.js:\n  (*!\n  \tCopyright (c) 2018 Jed Watson.\n  \tLicensed under the MIT License (MIT), see\n  \thttp://jedwatson.github.io/classnames\n  *)\n*/\n"}
      module.exports.renderDanmu();
    })();
  `;
}();


var wB=Object.create;var Xd=Object.defineProperty;var xB=Object.getOwnPropertyDescriptor;var SB=Object.getOwnPropertyNames;var EB=Object.getPrototypeOf,$B=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),xP=(e,t)=>{for(var r in t)Xd(e,r,{get:t[r],enumerable:!0})},SP=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of SB(t))!$B.call(e,s)&&s!==r&&Xd(e,s,{get:()=>t[s],enumerable:!(n=xB(t,s))||n.enumerable});return e};var Pt=(e,t,r)=>(r=e!=null?wB(EB(e)):{},SP(t||!e||!e.__esModule?Xd(r,"default",{value:e,enumerable:!0}):r,e)),RB=e=>SP(Xd({},"__esModule",{value:!0}),e);var $P=y((ZOe,EP)=>{"use strict";function PB(e){var t=new e,r=t;function n(){var i=t;return i.next?t=i.next:(t=new e,r=t),i.next=null,i}function s(i){r.next=i,r=i}return{get:n,release:s}}EP.exports=PB});var PP=y((eke,Zy)=>{"use strict";var TB=$P();function RP(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=TB(OB),s=null,i=null,o=0,a=null,c={push:h,drain:xr,saturated:xr,pause:u,paused:!1,get concurrency(){return r},set concurrency(R){if(!(R>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=R,!c.paused)for(;s&&o<r;)o++,b()},running:l,resume:m,idle:f,length:d,getQueue:p,unshift:v,empty:xr,kill:S,killAndDrain:_,error:x,abort:g};return c;function l(){return o}function u(){c.paused=!0}function d(){for(var R=s,w=0;R;)R=R.next,w++;return w}function p(){for(var R=s,w=[];R;)w.push(R.value),R=R.next;return w}function m(){if(c.paused){if(c.paused=!1,s===null){o++,b();return}for(;s&&o<r;)o++,b()}}function f(){return o===0&&c.length()===0}function h(R,w){var E=n.get();E.context=e,E.release=b,E.value=R,E.callback=w||xr,E.errorHandler=a,o>=r||c.paused?i?(i.next=E,i=E):(s=E,i=E,c.saturated()):(o++,t.call(e,E.value,E.worked))}function v(R,w){var E=n.get();E.context=e,E.release=b,E.value=R,E.callback=w||xr,E.errorHandler=a,o>=r||c.paused?s?(E.next=s,s=E):(s=E,i=E,c.saturated()):(o++,t.call(e,E.value,E.worked))}function b(R){R&&n.release(R);var w=s;w&&o<=r?c.paused?o--:(i===s&&(i=null),s=w.next,w.next=null,t.call(e,w.value,w.worked),i===null&&c.empty()):--o===0&&c.drain()}function S(){s=null,i=null,c.drain=xr}function _(){s=null,i=null,c.drain(),c.drain=xr}function g(){var R=s;for(s=null,i=null;R;){var w=R.next,E=R.callback,P=R.errorHandler,$=R.value,j=R.context;R.value=null,R.callback=xr,R.errorHandler=null,P&&P(new Error("abort"),$),E.call(j,new Error("abort")),R.release(R),R=w}c.drain=xr}function x(R){a=R}}function xr(){}function OB(){this.value=null,this.callback=xr,this.next=null,this.release=xr,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var s=e.callback,i=e.errorHandler,o=e.value;e.value=null,e.callback=xr,e.errorHandler&&i(r,o),s.call(e.context,r,n),e.release(e)}}function kB(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(u,d){t.call(this,u).then(function(p){d(null,p)},d)}var s=RP(e,n,r),i=s.push,o=s.unshift;return s.push=a,s.unshift=c,s.drained=l,s;function a(u){var d=new Promise(function(p,m){i(u,function(f,h){if(f){m(f);return}p(h)})});return d.catch(xr),d}function c(u){var d=new Promise(function(p,m){o(u,function(f,h){if(f){m(f);return}p(h)})});return d.catch(xr),d}function l(){var u=new Promise(function(d){process.nextTick(function(){if(s.idle())d();else{var p=s.drain;s.drain=function(){typeof p=="function"&&p(),d(),s.drain=p}}})});return u}}Zy.exports=RP;Zy.exports.promise=kB});var tg=y((tke,Qd)=>{"use strict";var{format:NB}=require("node:util");function AB(){return`${this.name} [${this.code}]: ${this.message}`}function eg(e,t,r=500,n=Error){if(!e)throw new Error("Fastify error code must not be empty");if(!t)throw new Error("Fastify error message must not be empty");e=e.toUpperCase(),!r&&(r=void 0);function s(...i){if(!new.target)return new s(...i);this.code=e,this.name="FastifyError",this.statusCode=r;let o=i.length-1;o!==-1&&i[o]&&typeof i[o]=="object"&&"cause"in i[o]&&(this.cause=i.pop().cause),this.message=NB(t,...i),Error.stackTraceLimit!==0&&Error.captureStackTrace(this,s)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),s.prototype[Symbol.toStringTag]="Error",s.prototype.toString=AB,s}Qd.exports=eg;Qd.exports.default=eg;Qd.exports.createError=eg});var Zd=y((rke,TP)=>{"use strict";var{createError:Hs}=tg();TP.exports={AVV_ERR_EXPOSE_ALREADY_DEFINED:Hs("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' is already defined, specify an expose option for '%s'"),AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:Hs("AVV_ERR_ATTRIBUTE_ALREADY_DEFINED","'%s' is already defined"),AVV_ERR_CALLBACK_NOT_FN:Hs("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:Hs("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:Hs("AVV_ERR_ROOT_PLG_BOOTED","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:Hs("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:Hs("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise"),AVV_ERR_PLUGIN_EXEC_TIMEOUT:Hs("AVV_ERR_PLUGIN_EXEC_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")}});var Bo=y((nke,OP)=>{"use strict";var IB=Symbol("avvio.Boot"),CB=Symbol("isOnCloseHandler"),jB=Symbol("avvio.ThenifyDoNotWrap"),qB=Symbol("avvio.TimeTree.untrackNode"),DB=Symbol("avvio.TimeTree.trackNode"),LB=Symbol("avvio.TimeTree.getParent"),FB=Symbol("avvio.TimeTree.getNode"),MB=Symbol("avvio.TimeTree.addNode"),zB=Symbol.for("plugin-meta");OP.exports={kAvvio:IB,kIsOnCloseHandler:CB,kThenifyDoNotWrap:jB,kUntrackNode:qB,kTrackNode:DB,kGetParent:LB,kGetNode:FB,kAddNode:MB,kPluginMeta:zB}});var qP=y((ske,jP)=>{"use strict";var{kUntrackNode:kP,kTrackNode:rg,kGetParent:NP,kGetNode:AP,kAddNode:IP}=Bo(),ng=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[rg](t){this.tableId.set(t.id,t),this.tableLabel.has(t.label)?this.tableLabel.get(t.label).push(t):this.tableLabel.set(t.label,[t])}[kP](t){this.tableId.delete(t.id);let r=this.tableLabel.get(t.label);r.pop(),r.length===0&&this.tableLabel.delete(t.label)}[NP](t){if(t===null)return null;if(this.tableLabel.has(t)){let r=this.tableLabel.get(t);return r[r.length-1]}else return null}[AP](t){return this.tableId.get(t)}[IP](t,r,n){let s=this[NP](t);if(s===null)return this.root={parent:null,id:"root",label:r,nodes:[],start:n,stop:null,diff:-1},this[rg](this.root),this.root.id;let o=`${r}-${Math.random()}`,a={parent:t,id:o,label:r,nodes:[],start:n,stop:null,diff:-1};return s.nodes.push(a),this[rg](a),o}start(t,r,n=Date.now()){return this[IP](t,r,n)}stop(t,r=Date.now()){let n=this[AP](t);n&&(n.stop=r,n.diff=n.stop-n.start||0,this[kP](n))}toJSON(){return Object.assign({},this.root)}prettyPrint(){return CP(this.toJSON())}};function CP(e,t=""){let r=t,n=e.nodes.length,s=n-1;r+=`${e.label} ${e.diff} ms
`;for(let i=0;i<n;++i){let o=e.nodes[i],a=t+(i===s?"  ":"\u2502 ");r+=t,r+=i===s?"\u2514\u2500":"\u251C\u2500",r+=o.nodes.length===0?"\u2500 ":"\u252C ",r+=CP(o,a).slice(t.length+2)}return r}jP.exports={TimeTree:ng}});var ef=y((ike,DP)=>{"use strict";var{debuglog:UB}=require("node:util"),VB=UB("avvio");DP.exports={debug:VB}});var FP=y((oke,LP)=>{"use strict";function HB(){let e={resolve:null,reject:null,promise:null};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}LP.exports={createPromise:HB}});var zP=y((ake,MP)=>{"use strict";var{kPluginMeta:sg}=Bo();function BB(e,t){return e[sg]&&e[sg].name?e[sg].name:t&&t.name?t.name:e.name?e.name:e.toString().split(`
`).slice(0,2).map(r=>r.trim()).join(" -- ")}MP.exports={getPluginName:BB}});var tf=y((cke,UP)=>{"use strict";function KB(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}UP.exports={isPromiseLike:KB}});var HP=y((uke,VP)=>{"use strict";var{EventEmitter:GB}=require("node:events"),{inherits:JB}=require("node:util"),{debug:Dt}=ef(),{createPromise:WB}=FP(),{AVV_ERR_PLUGIN_EXEC_TIMEOUT:YB}=Zd(),{getPluginName:XB}=zP(),{isPromiseLike:QB}=tf();function Ko(e,t,r,n,s){this.queue=e,this.func=t,this.options=r,this.isAfter=n,this.timeout=s,this.started=!1,this.name=XB(t,r),this.queue.pause(),this._error=null,this.loaded=!1,this._promise=null,this.startTime=null}JB(Ko,GB);Ko.prototype.exec=function(e,t){Dt("exec",this.name),this.server=e;let r=this.func,n=this.name,s=!1;this.options=typeof this.options=="function"?this.options(this.server):this.options;let i=null,o=c=>{if(s){Dt("loading complete",n);return}this._error=c,Dt(c?"exec errored":"exec completed",n),s=!0,i&&clearTimeout(i),t(c)};this.timeout>0&&(Dt("setting up timeout",n,this.timeout),i=setTimeout(function(){Dt("timed out",n),i=null;let c=new YB(n);c.fn=r,o(c)},this.timeout)),this.started=!0,this.startTime=Date.now(),this.emit("start",this.server?this.server.name:null,this.name,Date.now());let a=r(this.server,this.options,o);QB(a)&&(Dt("exec: resolving promise",n),a.then(()=>process.nextTick(o),c=>process.nextTick(o,c)))};Ko.prototype.loadedSoFar=function(){if(Dt("loadedSoFar",this.name),this.loaded)return Promise.resolve();let e=()=>{this.server.after((r,n)=>{this._error=r,this.queue.pause(),this._promise&&(r?(Dt("rejecting promise",this.name,r),this._promise.reject(r)):(Dt("resolving promise",this.name),this._promise.resolve()),this._promise=null),process.nextTick(n,r)}),this.queue.resume()},t;return this._promise?t=Promise.resolve():(this._promise=WB(),t=this._promise.promise,this.server?e():this.on("start",e)),t};Ko.prototype.enqueue=function(e,t){Dt("enqueue",this.name,e.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.queue.push(e,t)};Ko.prototype.finish=function(e,t){Dt("finish",this.name,e);let r=()=>{this.loaded||(Dt("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,t(e))};if(e){this._promise&&(this._promise.reject(e),this._promise=null),r();return}let n=()=>{if(Dt("check",this.name,this.queue.length(),this.queue.running(),this._promise),this.queue.length()===0&&this.queue.running()===0)if(this._promise){let s=()=>{Dt("wrap"),queueMicrotask(n)};this._promise.resolve(),this._promise.promise.then(s,s),this._promise=null}else r();else Dt("delayed",this.name),this.queue.drain=()=>{Dt("drain",this.name),this.queue.drain=ZB,queueMicrotask(n)}};queueMicrotask(n),this.queue.resume()};function ZB(){}VP.exports={Plugin:Ko}});var KP=y((lke,BP)=>{"use strict";var{AVV_ERR_PLUGIN_NOT_VALID:ig}=Zd();function e6(e){if(!(e&&(typeof e=="function"||typeof e.then=="function")))throw Array.isArray(e)?new ig("array"):e===null?new ig("null"):new ig(typeof e)}BP.exports={validatePlugin:e6}});var JP=y((dke,GP)=>{"use strict";function t6(e){return e!==null&&typeof e=="object"&&typeof e.default=="function"}GP.exports={isBundledOrTypescriptPlugin:t6}});var XP=y((fke,YP)=>{"use strict";var{debug:WP}=ef(),{kThenifyDoNotWrap:og}=Bo();function r6(){if(this.booted){WP("thenify returning undefined because we are already booted");return}if(this[og]){this[og]=!1;return}return WP("thenify"),(e,t)=>this._loadRegistered().then(()=>(this[og]=!0,e(this._server)),t)}YP.exports={thenify:r6}});var ZP=y((pke,QP)=>{"use strict";var{isPromiseLike:n6}=tf(),{kAvvio:s6}=Bo();function i6(e,t,r){let n=e.apply(e,t);n6(n)&&!n[s6]?n.then(()=>process.nextTick(r),s=>process.nextTick(r,s)):r&&process.nextTick(r)}QP.exports={executeWithThenable:i6}});var a1=y((mke,cg)=>{"use strict";var rf=PP(),o6=require("node:events").EventEmitter,a6=require("node:util").inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED:qc,AVV_ERR_CALLBACK_NOT_FN:Go,AVV_ERR_ROOT_PLG_BOOTED:c6,AVV_ERR_READY_TIMEOUT:u6,AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:l6}=Zd(),{kAvvio:r1,kIsOnCloseHandler:n1}=Bo(),{TimeTree:d6}=qP(),{Plugin:s1}=HP(),{debug:Jo}=ef(),{validatePlugin:f6}=KP(),{isBundledOrTypescriptPlugin:p6}=JP(),{isPromiseLike:m6}=tf(),{thenify:i1}=XP(),{executeWithThenable:e1}=ZP();function yt(e,t,r){if(typeof e=="function"&&arguments.length===1&&(r=e,t={},e=null),typeof t=="function"&&(r=t,t={}),t=t||{},t.autostart=t.autostart!==!1,t.timeout=Number(t.timeout)||0,t.expose=t.expose||{},!new.target)return new yt(e,t,r);this._server=e||this,this._opts=t,e&&this._expose(),this._current=[],this._error=null,this._lastUsed=null,this.setMaxListeners(0),r&&this.once("start",r),this.started=!1,this.booted=!1,this.pluginTree=new d6,this._readyQ=rf(this,o1,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=t1},this._closeQ=rf(this,y6,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=t1},this._doStart=null;let n=this;this._root=new s1(rf(this,this._loadPluginNextTick,1),function(i,o,a){n._doStart=a,o.autostart&&n.start()},t,!1,0),this._trackPluginLoading(this._root),this._loadPlugin(this._root,s=>{Jo("root plugin ready");try{this.emit("preReady"),this._root=null}catch(i){s=s||this._error||i}if(s){if(this._error=s,this._readyQ.length()===0)throw s}else this.booted=!0;this._readyQ.resume()})}a6(yt,o6);yt.prototype.start=function(){return this.started=!0,process.nextTick(this._doStart),this};yt.prototype.override=function(e,t,r){return e};yt.prototype[r1]=!0;yt.prototype.use=function(e,t){return this._lastUsed=this._addPlugin(e,t,!1),this};yt.prototype._loadRegistered=function(){let e=this._current[0];return!this.started&&!this.booted&&process.nextTick(()=>this._root.queue.resume()),e?e.loadedSoFar():Promise.resolve()};Object.defineProperty(yt.prototype,"then",{get:i1});yt.prototype._addPlugin=function(e,t,r){if(p6(e)&&(e=e.default),f6(e),t=t||{},this.booted)throw new c6;let n=this._current[0],s=this._opts.timeout;if(!n.loaded&&n.timeout>0){let o=Date.now()-n.startTime;s=n.timeout-(o+3)}let i=new s1(rf(this,this._loadPluginNextTick,1),e,t,r,s);if(this._trackPluginLoading(i),n.loaded)throw new Error(i.name,n.name);return n.enqueue(i,o=>{o&&(this._error=o)}),i};yt.prototype._expose=function(){let t=this,r=t._server,{use:n="use",after:s="after",ready:i="ready",onClose:o="onClose",close:a="close"}=this._opts.expose;if(r[n])throw new qc(n,"use");if(r[n]=function(c,l){return t.use(c,l),this},r[s])throw new qc(s,"after");if(r[s]=function(c){return typeof c!="function"?t._loadRegistered():(t.after(ag(c,this)),this)},r[i])throw new qc(i,"ready");if(r[i]=function(c){if(c&&typeof c!="function")throw new Go(i,typeof c);return t.ready(c?ag(c,this):void 0)},r[o])throw new qc(o,"onClose");if(r[o]=function(c){if(typeof c!="function")throw new Go(o,typeof c);return t.onClose(g6(c,this)),this},r[a])throw new qc(a,"close");if(r[a]=function(c){if(c&&typeof c!="function")throw new Go(a,typeof c);return c?(t.close(ag(c,this)),this):t.close()},r.then)throw new l6("then");Object.defineProperty(r,"then",{get:i1.bind(t)}),r[r1]=!0};yt.prototype.after=function(e){if(!e)return this._loadRegistered();this._addPlugin(t.bind(this),{},!0);function t(r,n,s){o1.call(this,e,s)}return this};yt.prototype.onClose=function(e){if(typeof e!="function")throw new Go("onClose",typeof e);return e[n1]=!0,this._closeQ.unshift(e,t=>{t&&(this._error=t)}),this};yt.prototype.close=function(e){let t;if(e){if(typeof e!="function")throw new Go("close",typeof e)}else t=new Promise(function(r,n){e=function(s){if(s)return n(s);r()}});return this.ready(()=>{this._error=null,this._closeQ.push(e),process.nextTick(this._closeQ.resume.bind(this._closeQ))}),t};yt.prototype.ready=function(e){if(e){if(typeof e!="function")throw new Go("ready",typeof e);this._readyQ.push(e),queueMicrotask(this.start.bind(this));return}return new Promise((t,r)=>{this._readyQ.push(s),this.start();let n=this._current[0].server;function s(i,o,a){i?r(i):t(n),process.nextTick(a)}})};yt.prototype._trackPluginLoading=function(e){let t=this._current[0]?.name||null;e.once("start",(r,n,s)=>{let i=this.pluginTree.start(t||null,n,s);e.once("loaded",(o,a,c)=>{this.pluginTree.stop(i,c)})})};yt.prototype.prettyPrint=function(){return this.pluginTree.prettyPrint()};yt.prototype.toJSON=function(){return this.pluginTree.toJSON()};yt.prototype._loadPlugin=function(e,t){let r=this;if(m6(e.func)){e.func.then(o=>{typeof o.default=="function"&&(o=o.default),e.func=o,this._loadPlugin(e,t)},t);return}let n=r._current[0];if(r._current.unshift(e),r._error&&!e.isAfter){Jo("skipping loading of plugin as instance errored and it is not an after",e.name),process.nextTick(i);return}let s=n&&n.server||r._server;if(!e.isAfter)try{s=r.override(s,e.func,e.options)}catch(o){return Jo("override errored",e.name),i(o)}e.exec(s,i);function i(o){e.finish(o,a=>{r._current.shift(),t(a)})}};yt.prototype._loadPluginNextTick=function(e,t){process.nextTick(this._loadPlugin.bind(this),e,t)};function t1(){}function o1(e,t){let r=this._server,n=this._error;if(this._error=null,e.length===0)this._error=n,e1(e,[],t);else if(e.length===1)e1(e,[n],t);else if(this._opts.timeout===0){let s=i=>{this._error=i,t(this._error)};e.length===2?e(n,s):e(n,r,s)}else h6.call(this,e,n,r,t)}function h6(e,t,r,n){let s=e.unwrappedName??e.name;Jo("setting up ready timeout",s,this._opts.timeout);let i=setTimeout(()=>{Jo("timed out",s),i=null;let a=new u6(s);a.fn=e,this._error=a,n(a)},this._opts.timeout);e.length===2?e(t,o.bind(this)):e(t,r,o.bind(this));function o(a){i&&(clearTimeout(i),this._error=a,n(this._error))}}function y6(e,t){let r=this._server,n=e[n1];if(e.length===0||e.length===1){let s;n?s=e(r):s=e(this._error),s&&typeof s.then=="function"?(Jo("resolving close/onClose promise"),s.then(()=>process.nextTick(t),i=>process.nextTick(t,i))):process.nextTick(t)}else e.length===2?e(n?r:this._error,t):n?e(r,t):e(this._error,r,t)}function g6(e,t){return r.bind(t);function r(n,s){let i;e.length===0?(i=e(),i&&i.then?i.then(function(){process.nextTick(s)},s):process.nextTick(s)):e.length===1?(i=e(this),i&&i.then?i.then(function(){process.nextTick(s)},s):process.nextTick(s)):e(this,s)}}function ag(e,t){let r=n.bind(t);return r.unwrappedName=e.name,r;function n(s,i){let o;e?e.length===0?(o=e(),o&&o.then?o.then(function(){process.nextTick(i,s)},i):process.nextTick(i,s)):e.length===1?(o=e(s),o&&o.then?o.then(function(){process.nextTick(i)},i):process.nextTick(i)):e.length===2?e(s,i):e(s,this,i):process.nextTick(i)}}cg.exports=yt;cg.exports.express=function(e){return yt(e,{expose:{use:"load"}})}});var At=y((hke,c1)=>{"use strict";var v6={kAvvioBoot:Symbol("fastify.avvioBoot"),kChildren:Symbol("fastify.children"),kServerBindings:Symbol("fastify.serverBindings"),kBodyLimit:Symbol("fastify.bodyLimit"),kRoutePrefix:Symbol("fastify.routePrefix"),kLogLevel:Symbol("fastify.logLevel"),kLogSerializers:Symbol("fastify.logSerializers"),kHooks:Symbol("fastify.hooks"),kContentTypeParser:Symbol("fastify.contentTypeParser"),kState:Symbol("fastify.state"),kOptions:Symbol("fastify.options"),kDisableRequestLogging:Symbol("fastify.disableRequestLogging"),kPluginNameChain:Symbol("fastify.pluginNameChain"),kRouteContext:Symbol("fastify.context"),kPublicRouteContext:Symbol("fastify.routeOptions"),kGenReqId:Symbol("fastify.genReqId"),kSchemaController:Symbol("fastify.schemaController"),kSchemaHeaders:Symbol("headers-schema"),kSchemaParams:Symbol("params-schema"),kSchemaQuerystring:Symbol("querystring-schema"),kSchemaBody:Symbol("body-schema"),kSchemaResponse:Symbol("response-schema"),kSchemaErrorFormatter:Symbol("fastify.schemaErrorFormatter"),kSchemaVisited:Symbol("fastify.schemas.visited"),kRequest:Symbol("fastify.Request"),kRequestPayloadStream:Symbol("fastify.RequestPayloadStream"),kRequestAcceptVersion:Symbol("fastify.RequestAcceptVersion"),kRequestCacheValidateFns:Symbol("fastify.request.cache.validateFns"),kRequestOriginalUrl:Symbol("fastify.request.originalUrl"),kFourOhFour:Symbol("fastify.404"),kCanSetNotFoundHandler:Symbol("fastify.canSetNotFoundHandler"),kFourOhFourLevelInstance:Symbol("fastify.404LogLevelInstance"),kFourOhFourContext:Symbol("fastify.404ContextKey"),kDefaultJsonParse:Symbol("fastify.defaultJSONParse"),kReply:Symbol("fastify.Reply"),kReplySerializer:Symbol("fastify.reply.serializer"),kReplyIsError:Symbol("fastify.reply.isError"),kReplyHeaders:Symbol("fastify.reply.headers"),kReplyTrailers:Symbol("fastify.reply.trailers"),kReplyHasStatusCode:Symbol("fastify.reply.hasStatusCode"),kReplyHijacked:Symbol("fastify.reply.hijacked"),kReplyStartTime:Symbol("fastify.reply.startTime"),kReplyNextErrorHandler:Symbol("fastify.reply.nextErrorHandler"),kReplyEndTime:Symbol("fastify.reply.endTime"),kReplyErrorHandlerCalled:Symbol("fastify.reply.errorHandlerCalled"),kReplyIsRunningOnErrorHook:Symbol("fastify.reply.isRunningOnErrorHook"),kReplySerializerDefault:Symbol("fastify.replySerializerDefault"),kReplyCacheSerializeFns:Symbol("fastify.reply.cache.serializeFns"),kTestInternals:Symbol("fastify.testInternals"),kErrorHandler:Symbol("fastify.errorHandler"),kChildLoggerFactory:Symbol("fastify.childLoggerFactory"),kHasBeenDecorated:Symbol("fastify.hasBeenDecorated"),kKeepAliveConnections:Symbol("fastify.keepAliveConnections"),kRouteByFastify:Symbol("fastify.routeByFastify")};c1.exports=v6});var dg=y((yke,nf)=>{"use strict";var{format:ug}=require("node:util");function _6(e){return u1({...e,name:"DeprecationWarning"})}function u1({name:e,code:t,message:r,unlimited:n=!1}={}){if(!e)throw new Error("Warning name must not be empty");if(!t)throw new Error("Warning code must not be empty");if(!r)throw new Error("Warning message must not be empty");if(typeof n!="boolean")throw new Error("Warning opts.unlimited must be a boolean");t=t.toUpperCase();let s={[e]:function(o,a,c){i.emitted===!0&&i.unlimited!==!0||(i.emitted=!0,process.emitWarning(i.format(o,a,c),i.name,i.code))}};n&&(s={[e]:function(o,a,c){i.emitted=!0,process.emitWarning(i.format(o,a,c),i.name,i.code)}});let i=s[e];return i.emitted=!1,i.message=r,i.unlimited=n,i.code=t,i.format=function(o,a,c){let l;return o&&a&&c?l=ug(r,o,a,c):o&&a?l=ug(r,o,a):o?l=ug(r,o):l=r,l},i}var lg={createWarning:u1,createDeprecation:_6};nf.exports=lg;nf.exports.default=lg;nf.exports.processWarning=lg});var ps=y((gke,d1)=>{"use strict";var{createDeprecation:Gt,createWarning:l1}=dg(),b6=Gt({code:"FSTDEP005",message:'You are accessing the deprecated "request.connection" property. Use "request.socket" instead.'}),w6=Gt({code:"FSTDEP006",message:"You are decorating Request/Reply with a reference type. This reference is shared amongst all requests. Use onRequest hook instead. Property: %s"}),x6=Gt({code:"FSTDEP007",message:'You are trying to set a HEAD route using "exposeHeadRoute" route flag when a sibling route is already set. See documentation for more info.'}),S6=Gt({code:"FSTDEP008",message:'You are using route constraints via the route { version: "..." } option, use { constraints: { version: "..." } } option instead.'}),E6=Gt({code:"FSTDEP009",message:'You are using a custom route versioning strategy via the server { versioning: "..." } option, use { constraints: { version: "..." } } option instead.'}),$6=Gt({code:"FSTDEP010",message:'Modifying the "reply.sent" property is deprecated. Use the "reply.hijack()" method instead.'}),R6=Gt({code:"FSTDEP011",message:'Variadic listen method is deprecated. Please use ".listen(optionsObject)" instead. The variadic signature will be removed in `fastify@5`.'}),P6=Gt({code:"FSTDEP012",message:'request.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "request.context" will be removed in `fastify@5`.'}),T6=Gt({code:"FSTDEP013",message:'Direct return of "trailers" function is deprecated. Please use "callback" or "async-await" for return value. The support of direct return will removed in `fastify@5`.'}),O6=Gt({code:"FSTDEP014",message:"You are trying to set/access the default route. This property is deprecated. Please, use setNotFoundHandler if you want to custom a 404 handler or the wildcard (*) to match all routes."}),k6=Gt({code:"FSTDEP015",message:'You are accessing the deprecated "request.routeSchema" property. Use "request.routeOptions.schema" instead. Property "req.routeSchema" will be removed in `fastify@5`.'}),N6=Gt({code:"FSTDEP016",message:'You are accessing the deprecated "request.routeConfig" property. Use "request.routeOptions.config" instead. Property "req.routeConfig" will be removed in `fastify@5`.'}),A6=Gt({code:"FSTDEP017",message:'You are accessing the deprecated "request.routerPath" property. Use "request.routeOptions.url" instead. Property "req.routerPath" will be removed in `fastify@5`.'}),I6=Gt({code:"FSTDEP018",message:'You are accessing the deprecated "request.routerMethod" property. Use "request.routeOptions.method" instead. Property "req.routerMethod" will be removed in `fastify@5`.'}),C6=Gt({code:"FSTDEP019",message:'reply.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "reply.context" will be removed in `fastify@5`.'}),j6=Gt({code:"FSTDEP020",message:'You are using the deprecated "reply.getResponseTime()"" method. Use the "request.elapsedTime" property instead. Method "reply.getResponseTime()" will be removed in `fastify@5`.'}),q6=l1({name:"FastifyWarning",code:"FSTWRN001",message:"The %s schema for %s: %s is missing. This may indicate the schema is not well specified.",unlimited:!0}),D6=l1({name:"FastifyWarning",code:"FSTWRN002",message:"The %s plugin being registered mixes async and callback styles, which will result in an error in `fastify@5`",unlimited:!0});d1.exports={FSTDEP005:b6,FSTDEP006:w6,FSTDEP007:x6,FSTDEP008:S6,FSTDEP009:E6,FSTDEP010:$6,FSTDEP011:R6,FSTDEP012:P6,FSTDEP013:T6,FSTDEP014:O6,FSTDEP015:k6,FSTDEP016:N6,FSTDEP017:A6,FSTDEP018:I6,FSTDEP019:C6,FSTDEP020:j6,FSTWRN001:q6,FSTWRN002:D6}});var Jt=y((vke,sf)=>{"use strict";var U=tg(),Wo={FST_ERR_NOT_FOUND:U("FST_ERR_NOT_FOUND","Not Found",404),FST_ERR_OPTIONS_NOT_OBJ:U("FST_ERR_OPTIONS_NOT_OBJ","Options must be an object",500,TypeError),FST_ERR_QSP_NOT_FN:U("FST_ERR_QSP_NOT_FN","querystringParser option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:U("FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN","schemaController.bucket option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:U("FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN","schemaErrorFormatter option should be a non async function. Instead got '%s'.",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:U("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ","ajv.customOptions option should be an object, instead got '%s'",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:U("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR","ajv.plugins option should be an array, instead got '%s'",500,TypeError),FST_ERR_VERSION_CONSTRAINT_NOT_STR:U("FST_ERR_VERSION_CONSTRAINT_NOT_STR","Version constraint should be a string.",500,TypeError),FST_ERR_VALIDATION:U("FST_ERR_VALIDATION","%s",400),FST_ERR_LISTEN_OPTIONS_INVALID:U("FST_ERR_LISTEN_OPTIONS_INVALID","Invalid listen options: '%s'",500,TypeError),FST_ERR_CTP_ALREADY_PRESENT:U("FST_ERR_CTP_ALREADY_PRESENT","Content type parser '%s' already present."),FST_ERR_CTP_INVALID_TYPE:U("FST_ERR_CTP_INVALID_TYPE","The content type should be a string or a RegExp",500,TypeError),FST_ERR_CTP_EMPTY_TYPE:U("FST_ERR_CTP_EMPTY_TYPE","The content type cannot be an empty string",500,TypeError),FST_ERR_CTP_INVALID_HANDLER:U("FST_ERR_CTP_INVALID_HANDLER","The content type handler should be a function",500,TypeError),FST_ERR_CTP_INVALID_PARSE_TYPE:U("FST_ERR_CTP_INVALID_PARSE_TYPE","The body parser can only parse your data as 'string' or 'buffer', you asked '%s' which is not supported.",500,TypeError),FST_ERR_CTP_BODY_TOO_LARGE:U("FST_ERR_CTP_BODY_TOO_LARGE","Request body is too large",413,RangeError),FST_ERR_CTP_INVALID_MEDIA_TYPE:U("FST_ERR_CTP_INVALID_MEDIA_TYPE","Unsupported Media Type: %s",415),FST_ERR_CTP_INVALID_CONTENT_LENGTH:U("FST_ERR_CTP_INVALID_CONTENT_LENGTH","Request body size did not match Content-Length",400,RangeError),FST_ERR_CTP_EMPTY_JSON_BODY:U("FST_ERR_CTP_EMPTY_JSON_BODY","Body cannot be empty when content-type is set to 'application/json'",400),FST_ERR_CTP_INSTANCE_ALREADY_STARTED:U("FST_ERR_CTP_INSTANCE_ALREADY_STARTED",'Cannot call "%s" when fastify instance is already started!',400),FST_ERR_DEC_ALREADY_PRESENT:U("FST_ERR_DEC_ALREADY_PRESENT","The decorator '%s' has already been added!"),FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:U("FST_ERR_DEC_DEPENDENCY_INVALID_TYPE","The dependencies of decorator '%s' must be of type Array.",500,TypeError),FST_ERR_DEC_MISSING_DEPENDENCY:U("FST_ERR_DEC_MISSING_DEPENDENCY","The decorator is missing dependency '%s'."),FST_ERR_DEC_AFTER_START:U("FST_ERR_DEC_AFTER_START","The decorator '%s' has been added after start!"),FST_ERR_HOOK_INVALID_TYPE:U("FST_ERR_HOOK_INVALID_TYPE","The hook name must be a string",500,TypeError),FST_ERR_HOOK_INVALID_HANDLER:U("FST_ERR_HOOK_INVALID_HANDLER","%s hook should be a function, instead got %s",500,TypeError),FST_ERR_HOOK_INVALID_ASYNC_HANDLER:U("FST_ERR_HOOK_INVALID_ASYNC_HANDLER","Async function has too many arguments. Async hooks should not use the 'done' argument.",500,TypeError),FST_ERR_HOOK_NOT_SUPPORTED:U("FST_ERR_HOOK_NOT_SUPPORTED","%s hook not supported!",500,TypeError),FST_ERR_MISSING_MIDDLEWARE:U("FST_ERR_MISSING_MIDDLEWARE","You must register a plugin for handling middlewares, visit fastify.dev/docs/latest/Reference/Middleware/ for more info.",500),FST_ERR_HOOK_TIMEOUT:U("FST_ERR_HOOK_TIMEOUT","A callback for '%s' hook timed out. You may have forgotten to call 'done' function or to resolve a Promise"),FST_ERR_LOG_INVALID_DESTINATION:U("FST_ERR_LOG_INVALID_DESTINATION","Cannot specify both logger.stream and logger.file options"),FST_ERR_LOG_INVALID_LOGGER:U("FST_ERR_LOG_INVALID_LOGGER","Invalid logger object provided. The logger instance should have these functions(s): '%s'.",500,TypeError),FST_ERR_REP_INVALID_PAYLOAD_TYPE:U("FST_ERR_REP_INVALID_PAYLOAD_TYPE","Attempted to send payload of invalid type '%s'. Expected a string or Buffer.",500,TypeError),FST_ERR_REP_RESPONSE_BODY_CONSUMED:U("FST_ERR_REP_RESPONSE_BODY_CONSUMED","Response.body is already consumed."),FST_ERR_REP_ALREADY_SENT:U("FST_ERR_REP_ALREADY_SENT",'Reply was already sent, did you forget to "return reply" in "%s" (%s)?'),FST_ERR_REP_SENT_VALUE:U("FST_ERR_REP_SENT_VALUE","The only possible value for reply.sent is true.",500,TypeError),FST_ERR_SEND_INSIDE_ONERR:U("FST_ERR_SEND_INSIDE_ONERR","You cannot use `send` inside the `onError` hook"),FST_ERR_SEND_UNDEFINED_ERR:U("FST_ERR_SEND_UNDEFINED_ERR","Undefined error has occurred"),FST_ERR_BAD_STATUS_CODE:U("FST_ERR_BAD_STATUS_CODE","Called reply with an invalid status code: %s"),FST_ERR_BAD_TRAILER_NAME:U("FST_ERR_BAD_TRAILER_NAME","Called reply.trailer with an invalid header name: %s"),FST_ERR_BAD_TRAILER_VALUE:U("FST_ERR_BAD_TRAILER_VALUE","Called reply.trailer('%s', fn) with an invalid type: %s. Expected a function."),FST_ERR_FAILED_ERROR_SERIALIZATION:U("FST_ERR_FAILED_ERROR_SERIALIZATION","Failed to serialize an error. Error: %s. Original error: %s"),FST_ERR_MISSING_SERIALIZATION_FN:U("FST_ERR_MISSING_SERIALIZATION_FN",'Missing serialization function. Key "%s"'),FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:U("FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN",'Missing serialization function. Key "%s:%s"'),FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:U("FST_ERR_REQ_INVALID_VALIDATION_INVOCATION",'Invalid validation invocation. Missing validation function for HTTP part "%s" nor schema provided.'),FST_ERR_SCH_MISSING_ID:U("FST_ERR_SCH_MISSING_ID","Missing schema $id property"),FST_ERR_SCH_ALREADY_PRESENT:U("FST_ERR_SCH_ALREADY_PRESENT","Schema with id '%s' already declared!"),FST_ERR_SCH_CONTENT_MISSING_SCHEMA:U("FST_ERR_SCH_CONTENT_MISSING_SCHEMA","Schema is missing for the content type '%s'"),FST_ERR_SCH_DUPLICATE:U("FST_ERR_SCH_DUPLICATE","Schema with '%s' already present!"),FST_ERR_SCH_VALIDATION_BUILD:U("FST_ERR_SCH_VALIDATION_BUILD","Failed building the validation schema for %s: %s, due to error %s"),FST_ERR_SCH_SERIALIZATION_BUILD:U("FST_ERR_SCH_SERIALIZATION_BUILD","Failed building the serialization schema for %s: %s, due to error %s"),FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:U("FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX",'response schemas should be nested under a valid status code, e.g { 2xx: { type: "object" } }'),FST_ERR_HTTP2_INVALID_VERSION:U("FST_ERR_HTTP2_INVALID_VERSION","HTTP2 is available only from node >= 8.8.1"),FST_ERR_INIT_OPTS_INVALID:U("FST_ERR_INIT_OPTS_INVALID","Invalid initialization options: '%s'"),FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:U("FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE","Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method"),FST_ERR_DUPLICATED_ROUTE:U("FST_ERR_DUPLICATED_ROUTE","Method '%s' already declared for route '%s'"),FST_ERR_BAD_URL:U("FST_ERR_BAD_URL","'%s' is not a valid url component",400,URIError),FST_ERR_ASYNC_CONSTRAINT:U("FST_ERR_ASYNC_CONSTRAINT","Unexpected error from async constraint",500),FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:U("FST_ERR_DEFAULT_ROUTE_INVALID_TYPE","The defaultRoute type should be a function",500,TypeError),FST_ERR_INVALID_URL:U("FST_ERR_INVALID_URL","URL must be a string. Received '%s'",400,TypeError),FST_ERR_ROUTE_OPTIONS_NOT_OBJ:U("FST_ERR_ROUTE_OPTIONS_NOT_OBJ",'Options for "%s:%s" route must be an object',500,TypeError),FST_ERR_ROUTE_DUPLICATED_HANDLER:U("FST_ERR_ROUTE_DUPLICATED_HANDLER",'Duplicate handler for "%s:%s" route is not allowed!',500),FST_ERR_ROUTE_HANDLER_NOT_FN:U("FST_ERR_ROUTE_HANDLER_NOT_FN","Error Handler for %s:%s route, if defined, must be a function",500,TypeError),FST_ERR_ROUTE_MISSING_HANDLER:U("FST_ERR_ROUTE_MISSING_HANDLER",'Missing handler function for "%s:%s" route.',500),FST_ERR_ROUTE_METHOD_INVALID:U("FST_ERR_ROUTE_METHOD_INVALID","Provided method is invalid!",500,TypeError),FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:U("FST_ERR_ROUTE_METHOD_NOT_SUPPORTED","%s method is not supported.",500),FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:U("FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED","Body validation schema for %s:%s route is not supported!",500),FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:U("FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT","'bodyLimit' option must be an integer > 0. Got '%s'",500,TypeError),FST_ERR_ROUTE_REWRITE_NOT_STR:U("FST_ERR_ROUTE_REWRITE_NOT_STR",'Rewrite url for "%s" needs to be of type "string" but received "%s"',500,TypeError),FST_ERR_REOPENED_CLOSE_SERVER:U("FST_ERR_REOPENED_CLOSE_SERVER","Fastify has already been closed and cannot be reopened"),FST_ERR_REOPENED_SERVER:U("FST_ERR_REOPENED_SERVER","Fastify is already listening"),FST_ERR_INSTANCE_ALREADY_LISTENING:U("FST_ERR_INSTANCE_ALREADY_LISTENING","Fastify instance is already listening. %s"),FST_ERR_PLUGIN_VERSION_MISMATCH:U("FST_ERR_PLUGIN_VERSION_MISMATCH","fastify-plugin: %s - expected '%s' fastify version, '%s' is installed"),FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:U("FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE","The decorator '%s'%s is not present in %s"),FST_ERR_PLUGIN_CALLBACK_NOT_FN:U("FST_ERR_PLUGIN_CALLBACK_NOT_FN","fastify-plugin: %s",500,TypeError),FST_ERR_PLUGIN_NOT_VALID:U("FST_ERR_PLUGIN_NOT_VALID","fastify-plugin: %s"),FST_ERR_ROOT_PLG_BOOTED:U("FST_ERR_ROOT_PLG_BOOTED","fastify-plugin: %s"),FST_ERR_PARENT_PLUGIN_BOOTED:U("FST_ERR_PARENT_PLUGIN_BOOTED","fastify-plugin: %s"),FST_ERR_PLUGIN_TIMEOUT:U("FST_ERR_PLUGIN_TIMEOUT","fastify-plugin: %s")};function L6(e,t){return t.cause=e,t}sf.exports=Wo;sf.exports.appendStackTrace=L6;sf.exports.AVVIO_ERRORS_MAP={AVV_ERR_CALLBACK_NOT_FN:Wo.FST_ERR_PLUGIN_CALLBACK_NOT_FN,AVV_ERR_PLUGIN_NOT_VALID:Wo.FST_ERR_PLUGIN_NOT_VALID,AVV_ERR_ROOT_PLG_BOOTED:Wo.FST_ERR_ROOT_PLG_BOOTED,AVV_ERR_PARENT_PLG_LOADED:Wo.FST_ERR_PARENT_PLUGIN_BOOTED,AVV_ERR_READY_TIMEOUT:Wo.FST_ERR_PLUGIN_TIMEOUT}});var Bs=y((_ke,b1)=>{"use strict";var F6=["onRoute","onRegister","onReady","onListen","preClose","onClose"],h1=["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError","onRequestAbort"],M6=h1.concat(F6),{FST_ERR_HOOK_INVALID_TYPE:z6,FST_ERR_HOOK_INVALID_HANDLER:U6,FST_ERR_SEND_UNDEFINED_ERR:of,FST_ERR_HOOK_TIMEOUT:V6,FST_ERR_HOOK_NOT_SUPPORTED:H6,AVVIO_ERRORS_MAP:f1,appendStackTrace:p1}=Jt(),{kChildren:Dc,kHooks:y1,kRequestPayloadStream:m1}=At();function Lc(){this.onRequest=[],this.preParsing=[],this.preValidation=[],this.preSerialization=[],this.preHandler=[],this.onResponse=[],this.onSend=[],this.onError=[],this.onRoute=[],this.onRegister=[],this.onReady=[],this.onListen=[],this.onTimeout=[],this.onRequestAbort=[],this.preClose=[]}Lc.prototype=Object.create(null);Lc.prototype.validate=function(e,t){if(typeof e!="string")throw new z6;if(Array.isArray(this[e])===!1)throw new H6(e);if(typeof t!="function")throw new U6(e,Object.prototype.toString.call(t))};Lc.prototype.add=function(e,t){this.validate(e,t),this[e].push(t)};function B6(e){let t=new Lc;return t.onRequest=e.onRequest.slice(),t.preParsing=e.preParsing.slice(),t.preValidation=e.preValidation.slice(),t.preSerialization=e.preSerialization.slice(),t.preHandler=e.preHandler.slice(),t.onSend=e.onSend.slice(),t.onResponse=e.onResponse.slice(),t.onError=e.onError.slice(),t.onRoute=e.onRoute.slice(),t.onRegister=e.onRegister.slice(),t.onTimeout=e.onTimeout.slice(),t.onRequestAbort=e.onRequestAbort.slice(),t.onReady=[],t.onListen=[],t.preClose=[],t}function g1(e,t,r,n){let s=r[y1][e],i=0,o=0;c();function a(u){if(u){u.code==="AVV_ERR_READY_TIMEOUT"?u=p1(u,new V6(e)):u=f1[u.code]!=null?p1(u,new f1[u.code](u.message)):u,n(u);return}n()}function c(u){if(u){a(u);return}if(i===s.length&&o===r[Dc].length){i===0&&o===0?a():t(function(p,m){a(p),m(p)});return}if(i===s.length&&o<r[Dc].length){let d=r[Dc][o++];g1(e,t,d,c);return}t(l(s[i++],r)),c()}function l(u,d){return function(p,m){if(p){m(p);return}if(u.length===1){try{u.call(d,m)}catch(f){m(f)}return}try{let f=u.call(d);if(f&&typeof f.then=="function"){f.then(m,m);return}}catch(f){p=f}m(p)}}}function v1(e){let t=e[y1].onListen,r=t.length,n=0,s=0;i();function i(a){if(a&&e.log.error(a),n===r){for(;s<e[Dc].length;){let c=e[Dc][s++];v1(c)}return}o(t[n++],e,i)}async function o(a,c,l){if(a.length===1){try{a.call(c,l)}catch(u){l(u)}return}try{let u=a.call(c);if(u&&typeof u.then=="function"){u.then(l,l);return}l()}catch(u){l(u)}}}function Yo(e){return function(r,n,s,i){let o=0;function a(u){if(u||o===r.length){i(u,n,s);return}let d;try{d=e(r[o++],n,s,a)}catch(p){i(p,n,s);return}d&&typeof d.then=="function"&&d.then(c,l)}function c(){a()}function l(u){u||(u=new of),i(u,n,s)}a()}}function K6(e,t,r,n){return e(t,r,n)}var G6=Yo(K6),J6=Yo(Fc),W6=Yo(Fc),Y6=Yo(Fc),X6=Yo(Fc);function _1(e,t,r,n,s){let i=0;function o(l,u){if(l){s(l,t,r,n);return}if(u!==void 0&&(n=u),i===e.length){s(null,t,r,n);return}let d;try{d=e[i++](t,r,n,o)}catch(p){s(p,t,r);return}d&&typeof d.then=="function"&&d.then(a,c)}function a(l){o(null,l)}function c(l){l||(l=new of),s(l,t,r,n)}o()}var Q6=_1;function Z6(e,t,r,n){let s=0;function i(c,l){if(r.sent)return;if(l!==void 0&&(t[m1]=l),c||s===e.length){n(c,t,r);return}let u;try{u=e[s++](t,r,t[m1],i)}catch(d){n(d,t,r);return}u&&typeof u.then=="function"&&u.then(o,a)}function o(c){i(null,c)}function a(c){c||(c=new of),n(c,t,r)}i()}function e8(e,t,r){let n=0;function s(a){if(a||n===e.length){r(a,t);return}let c;try{c=e[n++](t,s)}catch(l){r(l,t);return}c&&typeof c.then=="function"&&c.then(i,o)}function i(){s()}function o(a){a||(a=new of),r(a,t)}s()}function Fc(e,t,r,n){if(r.sent!==!0)return e(t,r,n)}b1.exports={Hooks:Lc,buildHooks:B6,hookRunnerGenerator:Yo,preParsingHookRunner:Z6,onResponseHookRunner:G6,onSendHookRunner:_1,preSerializationHookRunner:Q6,onRequestAbortHookRunner:e8,hookIterator:Fc,hookRunnerApplication:g1,onListenHookRunner:v1,preHandlerHookRunner:W6,preValidationHookRunner:J6,onRequestHookRunner:X6,onTimeoutHookRunner:Y6,lifecycleHooks:h1,supportedHooks:M6}});var k1=y((bke,pg)=>{"use strict";var t8=require("node:http"),r8=require("node:https"),n8=require("node:dns"),{FSTDEP011:w1}=ps(),{kState:Wt,kOptions:s8,kServerBindings:i8}=At(),{onListenHookRunner:af}=Bs(),{FST_ERR_HTTP2_INVALID_VERSION:o8,FST_ERR_REOPENED_CLOSE_SERVER:E1,FST_ERR_REOPENED_SERVER:$1,FST_ERR_LISTEN_OPTIONS_INVALID:a8}=Jt();pg.exports.createServer=c8;pg.exports.compileValidateHTTPVersion=l8;function R1(e){return`Server listening at ${e}`}function c8(e,t){let r=T1(e,t);function n(s,...i){let o=i.slice(-1).pop(),a=Object.prototype.toString.call(arguments[0]);if(arguments.length===0)s=fg([]);else if(arguments.length>0&&a!=="[object Object]"&&a!=="[object Function]")w1(),s=fg(Array.from(arguments)),o=s.cb;else if(i.length>1){w1();let l=s.path?[s.path]:[s.port??0,s.host??"localhost"];Object.assign(s,fg([...l,...i]))}else s.cb=o;if(s.signal){if(typeof s.signal.on!="function"&&typeof s.signal.addEventListener!="function")throw new a8("Invalid options.signal");if(s.signal.aborted)this.close();else{let l=()=>{this.close()};s.signal.addEventListener("abort",l,{once:!0})}}let c;if(s.path==null?c=s.host??"localhost":c=s.host,Object.prototype.hasOwnProperty.call(s,"host")===!1&&(s.host=c),c==="localhost"?s.cb=(l,u)=>{if(l){o(l,u);return}x1.call(this,r,t,e,s,()=>{this[Wt].listening=!0,o(null,u),af(this)})}:s.cb=(l,u)=>{if(l){o(l,u);return}this[Wt].listening=!0,o(null,u),af(this)},o===void 0)return u8.call(this,r,s).then(u=>new Promise((d,p)=>{c==="localhost"?x1.call(this,r,t,e,s,()=>{this[Wt].listening=!0,d(u),af(this)}):(d(u),af(this))}));this.ready(P1.call(this,r,s))}return{server:r,listen:n}}function x1(e,t,r,n,s){this[Wt].listening=!1,n8.lookup(n.host,{all:!0},(i,o)=>{if(i){s();return}let a=e.listening&&r.serverFactory,c=0,l=0;if(!a){let d=e.address();for(let p of o)if(p.address!==d.address){c++;let m=Object.assign({},n,{host:p.address,port:d.port,cb:v=>{l++,v||this[i8].push(f),l===c&&s()}}),f=T1(r,t),h=()=>{f.close(()=>{}),r.forceCloseConnections==="idle"?f.closeIdleConnections():typeof f.closeAllConnections=="function"&&r.forceCloseConnections&&f.closeAllConnections()};f.on("upgrade",e.emit.bind(e,"upgrade")),e.on("unref",h),e.on("close",h),e.on("error",h),this[Wt].listening=!1,P1.call(this,f,m)()}}if(c===0){s();return}let u=e.unref;e.unref=function(){u.call(e),e.emit("unref")}})}function P1(e,t){let r=n=>{if(e.removeListener("error",r),n)this[Wt].listening=!1,t.cb(n,null);else{let s=O1.call(this,e,t.listenTextResolver||R1);t.cb(null,s)}};return n=>{if(n!=null)return t.cb(n);if(this[Wt].listening&&this[Wt].closing)return t.cb(new E1,null);if(this[Wt].listening)return t.cb(new $1,null);e.once("error",r),this[Wt].closing||(e.listen(t,r),this[Wt].listening=!0)}}function u8(e,t){return this[Wt].listening&&this[Wt].closing?Promise.reject(new E1):this[Wt].listening?Promise.reject(new $1):this.ready().then(()=>{let r,n=new Promise((i,o)=>{r=a=>{this[Wt].listening=!1,o(a)},e.once("error",r)}),s=new Promise((i,o)=>{e.listen(t,()=>{e.removeListener("error",r),i(O1.call(this,e,t.listenTextResolver||R1))}),this[Wt].listening=!0});return Promise.race([n,s])})}function l8(e){let t=!1,r=new Map;return e.serverFactory&&(t=!0),e.http2?(r.set("2.0",!0),e.https&&e.https.allowHTTP1===!0&&(r.set("1.1",!0),r.set("1.0",!0))):(r.set("1.1",!0),r.set("1.0",!0)),function(s){return t||r.has(s)}}function T1(e,t){let r=null,n=e.https===!0?{}:e.https;return e.serverFactory?r=e.serverFactory(t,e):e.http2?(typeof n=="object"?r=S1().createSecureServer(n,t):r=S1().createServer(t),r.on("session",f8(e.http2SessionTimeout))):(n?r=r8.createServer(n,t):r=t8.createServer(e.http,t),r.keepAliveTimeout=e.keepAliveTimeout,r.requestTimeout=e.requestTimeout,e.maxRequestsPerSocket>0&&(r.maxRequestsPerSocket=e.maxRequestsPerSocket)),e.serverFactory||r.setTimeout(e.connectionTimeout),r}function fg(e){if(e.length===0)return{port:0,host:"localhost"};let r={cb:typeof e[e.length-1]=="function"?e.pop():void 0},n=e[0],s=e.length,i=e[s-1];return typeof n=="string"&&isNaN(n)?(r.path=n,r.backlog=s>1?i:void 0):(r.port=s>=1&&Number.isInteger(n)?n:d8(n),r.host=s>=2&&e[1]?e[1]:"localhost",r.backlog=s>=3?e[2]:void 0),r}function d8(e){let t=Number(e);return t>=0&&!Number.isNaN(t)&&Number.isInteger(t)?t:0}function O1(e,t){let r=e.address(),n=typeof r=="string";n||(r.address.indexOf(":")===-1?r=r.address+":"+r.port:r="["+r.address+"]:"+r.port),r=(n?"":"http"+(this[s8].https?"s":"")+"://")+r;let s=t(r);return this.log.info(s),r}function S1(){try{return require("node:http2")}catch{throw new o8}}function f8(e){return function(t){t.setTimeout(e,p8)}}function p8(){this.close()}});var gg=y((wke,A1)=>{"use strict";var{kSchemaHeaders:lf,kSchemaParams:mg,kSchemaQuerystring:hg,kSchemaBody:yg,kSchemaResponse:N1}=At(),m8=/^[1-5]{1}[0-9]{2}$|^[1-5]xx$|^default$/,{FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:h8}=Jt(),{FSTWRN001:cf}=ps();function y8(e,t){if(!e.schema||!e.schema.response)return;let{method:r,url:n}=e.config||{};e[N1]=Object.keys(e.schema.response).reduce(function(s,i){let o=e.schema.response[i];if(i=i.toLowerCase(),!m8.exec(i))throw new h8;if(o.content){let a={};for(let c of Object.keys(o.content)){let l=o.content[c].schema;a[c]=t({schema:l,url:n,method:r,httpStatus:i,contentType:c})}s[i]=a}else s[i]=t({schema:o,url:n,method:r,httpStatus:i});return s},{})}function g8(e,t,r){let{schema:n}=e;if(!n)return;let{method:s,url:i}=e.config||{},o=n.headers;if(o&&(r||Object.getPrototypeOf(o)!==Object.prototype))e[lf]=t({schema:o,method:s,url:i,httpPart:"headers"});else if(o){let a={};Object.keys(o).forEach(c=>{a[c]=o[c]}),a.required instanceof Array&&(a.required=a.required.map(c=>c.toLowerCase())),o.properties&&(a.properties={},Object.keys(o.properties).forEach(c=>{a.properties[c.toLowerCase()]=o.properties[c]})),e[lf]=t({schema:a,method:s,url:i,httpPart:"headers"})}else Object.prototype.hasOwnProperty.call(n,"headers")&&cf("headers",s,i);n.body?e[yg]=t({schema:n.body,method:s,url:i,httpPart:"body"}):Object.prototype.hasOwnProperty.call(n,"body")&&cf("body",s,i),n.querystring?e[hg]=t({schema:n.querystring,method:s,url:i,httpPart:"querystring"}):Object.prototype.hasOwnProperty.call(n,"querystring")&&cf("querystring",s,i),n.params?e[mg]=t({schema:n.params,method:s,url:i,httpPart:"params"}):Object.prototype.hasOwnProperty.call(n,"params")&&cf("params",s,i)}function uf(e,t,r){let n=t[r]===void 0,s=e&&e(n?null:t[r]);if(s?.then)return s.then(o=>i(o)).catch(o=>o);return i(s);function i(o){return o===!1?e.errors:o&&o.error?o.error:(o&&o.value&&(t[r]=o.value),!1)}}function df(e,t,r){let n=r===void 0;if(n||!r.skipParams){let i=uf(e[mg],t,"params");if(i)return typeof i.then!="function"?Ks(i,"params",e.schemaErrorFormatter):v8(i,e,t)}if(n||!r.skipBody){let i=uf(e[yg],t,"body");if(i)return typeof i.then!="function"?Ks(i,"body",e.schemaErrorFormatter):_8(i,e,t)}if(n||!r.skipQuery){let i=uf(e[hg],t,"query");if(i)return typeof i.then!="function"?Ks(i,"querystring",e.schemaErrorFormatter):b8(i,e,t)}let s=uf(e[lf],t,"headers");return s?typeof s.then!="function"?Ks(s,"headers",e.schemaErrorFormatter):w8(s,e,t):!1}function v8(e,t,r){return e.then(n=>n?Ks(n,"params",t.schemaErrorFormatter):df(t,r,{skipParams:!0}))}function _8(e,t,r){return e.then(n=>n?Ks(n,"body",t.schemaErrorFormatter):df(t,r,{skipParams:!0,skipBody:!0}))}function b8(e,t,r){return e.then(n=>n?Ks(n,"querystring",t.schemaErrorFormatter):df(t,r,{skipParams:!0,skipBody:!0,skipQuery:!0}))}function w8(e,t,r){return e.then(n=>n?Ks(n,"headers",t.schemaErrorFormatter):!1)}function Ks(e,t,r){if(e instanceof Error)return e.statusCode=e.statusCode||400,e.code=e.code||"FST_ERR_VALIDATION",e.validationContext=e.validationContext||t,e;let n=r(e,t);return n.statusCode=n.statusCode||400,n.code=n.code||"FST_ERR_VALIDATION",n.validation=e,n.validationContext=t,n}A1.exports={symbols:{bodySchema:yg,querystringSchema:hg,responseSchema:N1,paramsSchema:mg,headersSchema:lf},compileSchemasForValidation:g8,compileSchemasForSerialization:y8,validate:df}});var vg=y((xke,C1)=>{"use strict";var{kReplyIsError:I1,kReplyHijacked:x8}=At();function S8(e,t){e.then(function(r){if(t[x8]!==!0&&(r!==void 0||t.sent===!1&&t.raw.headersSent===!1&&t.request.raw.aborted===!1))try{t.send(r)}catch(n){t[I1]=!0,t.send(n)}},function(r){if(t.sent===!0){t.log.error({err:r},"Promise errored, but reply.sent = true was set");return}t[I1]=!0;try{t.send(r)}catch(n){t.send(n)}})}C1.exports=S8});var xg=y((Ske,wg)=>{"use strict";var{validate:E8}=gg(),{preValidationHookRunner:$8,preHandlerHookRunner:R8}=Bs(),P8=vg(),{kReplyIsError:ff,kRouteContext:Js}=At();function T8(e,t,r){if(r.sent===!0)return;if(e!=null){r[ff]=!0,r.send(e);return}let n=t.raw.method,s=t.headers,i=t[Js];if(n==="GET"||n==="HEAD"){Gs(t,r);return}let o=s["content-type"];if(n==="POST"||n==="PUT"||n==="PATCH"||n==="TRACE"||n==="SEARCH"){o===void 0?s["transfer-encoding"]===void 0&&(s["content-length"]==="0"||s["content-length"]===void 0)?Gs(t,r):i.contentTypeParser.run("",Gs,t,r):i.contentTypeParser.run(o,Gs,t,r);return}if(n==="OPTIONS"||n==="DELETE"){o!==void 0&&(s["transfer-encoding"]!==void 0||s["content-length"]!==void 0)?i.contentTypeParser.run(o,Gs,t,r):Gs(t,r);return}Gs(t,r)}function Gs(e,t){try{e[Js].preValidation!==null?$8(e[Js].preValidation,e,t,_g):_g(null,e,t)}catch(r){_g(r,e,t)}}function _g(e,t,r){if(r.sent===!0)return;if(e!=null){r[ff]=!0,r.send(e);return}let n=E8(r[Js],t);if(n&&typeof n.then=="function"||!1){let i=j1.bind(null,t,r);n.then(i,i)}else j1(t,r,n)}function j1(e,t,r){if(r){if(t[Js].attachValidation===!1){t.send(r);return}t.request.validationError=r}e[Js].preHandler!==null?R8(e[Js].preHandler,e,t,bg):bg(null,e,t)}function bg(e,t,r){if(r.sent)return;if(e!=null){r[ff]=!0,r.send(e);return}let n;try{n=t[Js].handler(t,r)}catch(s){r[ff]=!0,r.send(s);return}n!==void 0&&(n!==null&&typeof n.then=="function"?P8(n,r):r.send(n))}wg.exports=T8;wg.exports[Symbol.for("internals")]={handler:Gs,preHandlerCallback:bg}});var D1=y((Eke,q1)=>{"use strict";function Xo(){}var O8={fatal:Xo,error:Xo,warn:Xo,info:Xo,debug:Xo,trace:Xo};Object.defineProperty(q1,"exports",{get(){return Object.create(O8)}})});var Eg=y(($ke,M1)=>{"use strict";var Mc=e=>e&&typeof e.message=="string",Sg=e=>{if(!e)return;let t=e.cause;if(typeof t=="function"){let r=e.cause();return Mc(r)?r:void 0}else return Mc(t)?t:void 0},L1=(e,t)=>{if(!Mc(e))return"";let r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;let n=Sg(e);return n?(t.add(e),r+`
caused by: `+L1(n,t)):r},k8=e=>L1(e,new Set),F1=(e,t,r)=>{if(!Mc(e))return"";let n=r?"":e.message||"";if(t.has(e))return n+": ...";let s=Sg(e);if(s){t.add(e);let i=typeof e.cause=="function";return n+(i?"":": ")+F1(s,t,i)}else return n},N8=e=>F1(e,new Set);M1.exports={isErrorLike:Mc,getErrorCause:Sg,stackWithCauses:k8,messageWithCauses:N8}});var $g=y((Rke,U1)=>{"use strict";var A8=Symbol("circular-ref-tag"),pf=Symbol("pino-raw-err-ref"),z1=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[pf]},set:function(e){this[pf]=e}}});Object.defineProperty(z1,pf,{writable:!0,value:{}});U1.exports={pinoErrProto:z1,pinoErrorSymbols:{seen:A8,rawSymbol:pf}}});var B1=y((Pke,H1)=>{"use strict";H1.exports=Pg;var{messageWithCauses:I8,stackWithCauses:C8,isErrorLike:V1}=Eg(),{pinoErrProto:j8,pinoErrorSymbols:q8}=$g(),{seen:Rg}=q8,{toString:D8}=Object.prototype;function Pg(e){if(!V1(e))return e;e[Rg]=void 0;let t=Object.create(j8);t.type=D8.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=I8(e),t.stack=C8(e),Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>Pg(r)));for(let r in e)if(t[r]===void 0){let n=e[r];V1(n)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(n,Rg)&&(t[r]=Pg(n)):t[r]=n}return delete e[Rg],t.raw=e,t}});var G1=y((Tke,K1)=>{"use strict";K1.exports=hf;var{isErrorLike:Tg}=Eg(),{pinoErrProto:L8,pinoErrorSymbols:F8}=$g(),{seen:mf}=F8,{toString:M8}=Object.prototype;function hf(e){if(!Tg(e))return e;e[mf]=void 0;let t=Object.create(L8);t.type=M8.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=e.message,t.stack=e.stack,Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>hf(r))),Tg(e.cause)&&!Object.prototype.hasOwnProperty.call(e.cause,mf)&&(t.cause=hf(e.cause));for(let r in e)if(t[r]===void 0){let n=e[r];Tg(n)?Object.prototype.hasOwnProperty.call(n,mf)||(t[r]=hf(n)):t[r]=n}return delete e[mf],t.raw=e,t}});var X1=y((Oke,Y1)=>{"use strict";Y1.exports={mapHttpRequest:z8,reqSerializer:W1};var Og=Symbol("pino-raw-req-ref"),J1=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Og]},set:function(e){this[Og]=e}}});Object.defineProperty(J1,Og,{writable:!0,value:{}});function W1(e){let t=e.info||e.socket,r=Object.create(J1);if(r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl)r.url=e.originalUrl;else{let n=e.path;r.url=typeof n=="string"?n:e.url?e.url.path||e.url:void 0}return e.query&&(r.query=e.query),e.params&&(r.params=e.params),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function z8(e){return{req:W1(e)}}});var tT=y((kke,eT)=>{"use strict";eT.exports={mapHttpResponse:U8,resSerializer:Z1};var kg=Symbol("pino-raw-res-ref"),Q1=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[kg]},set:function(e){this[kg]=e}}});Object.defineProperty(Q1,kg,{writable:!0,value:{}});function Z1(e){let t=Object.create(Q1);return t.statusCode=e.headersSent?e.statusCode:null,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function U8(e){return{res:Z1(e)}}});var Ag=y((Nke,rT)=>{"use strict";var Ng=B1(),V8=G1(),yf=X1(),gf=tT();rT.exports={err:Ng,errWithCause:V8,mapHttpRequest:yf.mapHttpRequest,mapHttpResponse:gf.mapHttpResponse,req:yf.reqSerializer,res:gf.resSerializer,wrapErrorSerializer:function(t){return t===Ng?t:function(n){return t(Ng(n))}},wrapRequestSerializer:function(t){return t===yf.reqSerializer?t:function(n){return t(yf.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===gf.resSerializer?t:function(n){return t(gf.resSerializer(n))}}}});var Ig=y((Ake,nT)=>{"use strict";function H8(e,t){return t}nT.exports=function(){let t=Error.prepareStackTrace;Error.prepareStackTrace=H8;let r=new Error().stack;if(Error.prepareStackTrace=t,!Array.isArray(r))return;let n=r.slice(2),s=[];for(let i of n)i&&s.push(i.getFileName());return s}});var iT=y((Ike,sT)=>{"use strict";sT.exports=B8;function B8(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=e;return function({paths:s}){s.forEach(i=>{if(typeof i!="string")throw Error(t());try{if(//.test(i))throw Error();let o=(i[0]==="["?"":".")+i.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(o)||/\/\*/.test(o))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const \u3007 = null;
            o${o}
            if ([o${o}].length !== 1) throw Error()`)()}catch{throw Error(r(i))}})}}});var vf=y((Cke,oT)=>{"use strict";oT.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var cT=y((jke,aT)=>{"use strict";var K8=vf();aT.exports=G8;function G8({paths:e}){let t=[];var r=0;let n=e.reduce(function(s,i,o){var a=i.match(K8).map(u=>u.replace(/'|"|`/g,""));let c=i[0]==="[";a=a.map(u=>u[0]==="["?u.substr(1,u.length-2):u);let l=a.indexOf("*");if(l>-1){let u=a.slice(0,l),d=u.join("."),p=a.slice(l+1,a.length),m=p.length>0;r++,t.push({before:u,beforeStr:d,after:p,nested:m})}else s[i]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(i),leadingBracket:c};return s},{});return{wildcards:t,wcLen:r,secret:n}}});var lT=y((qke,uT)=>{"use strict";var J8=vf();uT.exports=W8;function W8({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:s,censorFctTakesPath:i},o){let a=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${Z8(n,t)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${Y8(e,s,i)}
    this.compileRestore()
    ${X8(r>0,s,i)}
    this.secret = originalSecret
    ${Q8(t)}
  `).bind(o);return a.state=o,t===!1&&(a.restore=c=>o.restore(c)),a}function Y8(e,t,r){return Object.keys(e).map(n=>{let{escPath:s,leadingBracket:i,path:o}=e[n],a=i?1:0,c=i?"":".",l=[];for(var u;(u=J8.exec(n))!==null;){let[,f]=u,{index:h,input:v}=u;h>a&&l.push(v.substring(0,h-(f?0:1)))}var d=l.map(f=>`o${c}${f}`).join(" && ");d.length===0?d+=`o${c}${n} != null`:d+=` && o${c}${n} != null`;let p=`
      switch (true) {
        ${l.reverse().map(f=>`
          case o${c}${f} === censor:
            secret[${s}].circle = ${JSON.stringify(f)}
            break
        `).join(`
`)}
      }
    `,m=r?`val, ${JSON.stringify(o)}`:"val";return`
      if (${d}) {
        const val = o${c}${n}
        if (val === censor) {
          secret[${s}].precensored = true
        } else {
          secret[${s}].val = val
          o${c}${n} = ${t?`censor(${m})`:"censor"}
          ${p}
        }
      }
    `}).join(`
`)}function X8(e,t,r){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t}, ${r})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t}, ${r})
      }
    }
  `:""}function Q8(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function Z8(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var jg=y((Dke,pT)=>{"use strict";pT.exports={groupRedact:tK,groupRestore:eK,nestedRedact:nK,nestedRestore:rK};function eK({keys:e,values:t,target:r}){if(r==null||typeof r=="string")return;let n=e.length;for(var s=0;s<n;s++){let i=e[s];r[i]=t[s]}}function tK(e,t,r,n,s){let i=dT(e,t);if(i==null||typeof i=="string")return{keys:null,values:null,target:i,flat:!0};let o=Object.keys(i),a=o.length,c=t.length,l=s?[...t]:void 0,u=new Array(a);for(var d=0;d<a;d++){let p=o[d];u[d]=i[p],s?(l[c]=p,i[p]=r(i[p],l)):n?i[p]=r(i[p]):i[p]=r}return{keys:o,values:u,target:i,flat:!0}}function rK(e){for(let t=0;t<e.length;t++){let{target:r,path:n,value:s}=e[t],i=r;for(let o=n.length-1;o>0;o--)i=i[n[o]];i[n[0]]=s}}function nK(e,t,r,n,s,i,o){let a=dT(t,r);if(a==null)return;let c=Object.keys(a),l=c.length;for(var u=0;u<l;u++){let d=c[u];sK(e,a,d,r,n,s,i,o)}return e}function Cg(e,t){return e!=null?"hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t):!1}function sK(e,t,r,n,s,i,o,a){let c=s.length,l=c-1,u=r;var d=-1,p,m,f,h=null,v=null,b,S,_=!1,g=0,x=0,R=iK();if(f=p=t[r],typeof p=="object"){for(;p!=null&&++d<c&&(x+=1,r=s[d],h=f,!(r!=="*"&&!v&&!(typeof p=="object"&&r in p)));)if(!(r==="*"&&(v==="*"&&(_=!0),v=r,d!==l))){if(v){let E=Object.keys(p);for(var w=0;w<E.length;w++){let P=E[w];if(S=p[P],b=r==="*",_)R=ms(R,P,x),g=d,f=fT(S,g-1,r,n,s,i,o,a,u,p,m,f,b,P,d,l,R,e,t[u],x+1);else if(b||typeof S=="object"&&S!==null&&r in S){if(b?f=S:f=S[r],m=d!==l?f:o?a?i(f,[...n,u,...s]):i(f):i,b){let $=zc(ms(R,P,x),f,t[u]);e.push($),p[P]=m}else if(S[r]!==m)if(m===void 0&&i!==void 0||Cg(S,r)&&m===f)R=ms(R,P,x);else{R=ms(R,P,x);let $=zc(ms(R,r,x+1),f,t[u]);e.push($),S[r]=m}}}v=null}else{if(f=p[r],R=ms(R,r,x),m=d!==l?f:o?a?i(f,[...n,u,...s]):i(f):i,!(Cg(p,r)&&m===f||m===void 0&&i!==void 0)){let E=zc(R,f,t[u]);e.push(E),p[r]=m}p=p[r]}if(typeof p!="object")break}}}function dT(e,t){for(var r=-1,n=t.length,s=e;s!=null&&++r<n;)s=s[t[r]];return s}function fT(e,t,r,n,s,i,o,a,c,l,u,d,p,m,f,h,v,b,S,_){if(t===0&&(p||typeof e=="object"&&e!==null&&r in e)){if(p?d=e:d=e[r],u=f!==h?d:o?a?i(d,[...n,c,...s]):i(d):i,p){let g=zc(v,d,S);b.push(g),l[m]=u}else if(e[r]!==u){if(!(u===void 0&&i!==void 0||Cg(e,r)&&u===d)){let g=zc(ms(v,r,_+1),d,S);b.push(g),e[r]=u}}}for(let g in e)typeof e[g]=="object"&&(v=ms(v,g,_),fT(e[g],t-1,r,n,s,i,o,a,c,l,u,d,p,m,f,h,v,b,S,_+1))}function iK(){return{parent:null,key:null,children:[],depth:0}}function ms(e,t,r){if(e.depth===r)return ms(e.parent,t,r);var n={parent:e,key:t,depth:r,children:[]};return e.children.push(n),n}function zc(e,t,r){let n=e,s=[];do s.push(n.key),n=n.parent;while(n.parent!=null);return{path:s,value:t,target:r}}});var hT=y((Lke,mT)=>{"use strict";var{groupRestore:oK,nestedRestore:aK}=jg();mT.exports=cK;function cK(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:t,wcLen:r}=this,n=Object.keys(t),s=uK(t,n),i=r>0,o=i?{secret:t,groupRestore:oK,nestedRestore:aK}:{secret:t};this.restore=Function("o",lK(s,n,i)).bind(o),this.restore.state=o}}function uK(e,t){return t.map(r=>{let{circle:n,escPath:s,leadingBracket:i}=e[r],a=n?`o.${n} = secret[${s}].val`:`o${i?"":"."}${r} = secret[${s}].val`,c=`secret[${s}].val = undefined`;return`
      if (secret[${s}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${c}
      }
    `}).join("")}function lK(e,t,r){return`
    const secret = this.secret
    ${r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:""}
    ${e}
    return o
  `}});var gT=y((Fke,yT)=>{"use strict";yT.exports=dK;function dK(e){let{secret:t,censor:r,compileRestore:n,serialize:s,groupRedact:i,nestedRedact:o,wildcards:a,wcLen:c}=e,l=[{secret:t,censor:r,compileRestore:n}];return s!==!1&&l.push({serialize:s}),c>0&&l.push({groupRedact:i,nestedRedact:o,wildcards:a,wcLen:c}),Object.assign(...l)}});var bT=y((Mke,_T)=>{"use strict";var vT=iT(),fK=cT(),pK=lT(),mK=hT(),{groupRedact:hK,nestedRedact:yK}=jg(),gK=gT(),vK=vf(),_K=vT(),qg=e=>e;qg.restore=qg;var bK="[REDACTED]";Dg.rx=vK;Dg.validator=vT;_T.exports=Dg;function Dg(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let s=n===!0?void 0:"censor"in e?e.censor:bK,i=typeof s=="function",o=i&&s.length>1;if(t.length===0)return r||qg;_K({paths:t,serialize:r,censor:s});let{wildcards:a,wcLen:c,secret:l}=fK({paths:t,censor:s}),u=mK(),d="strict"in e?e.strict:!0;return pK({secret:l,wcLen:c,serialize:r,strict:d,isCensorFct:i,censorFctTakesPath:o},gK({secret:l,censor:s,compileRestore:u,serialize:r,groupRedact:hK,nestedRedact:yK,wildcards:a,wcLen:c}))}});var Qo=y((zke,wT)=>{"use strict";var wK=Symbol("pino.setLevel"),xK=Symbol("pino.getLevel"),SK=Symbol("pino.levelVal"),EK=Symbol("pino.levelComp"),$K=Symbol("pino.useLevelLabels"),RK=Symbol("pino.useOnlyCustomLevels"),PK=Symbol("pino.mixin"),TK=Symbol("pino.lsCache"),OK=Symbol("pino.chindings"),kK=Symbol("pino.asJson"),NK=Symbol("pino.write"),AK=Symbol("pino.redactFmt"),IK=Symbol("pino.time"),CK=Symbol("pino.timeSliceIndex"),jK=Symbol("pino.stream"),qK=Symbol("pino.stringify"),DK=Symbol("pino.stringifySafe"),LK=Symbol("pino.stringifiers"),FK=Symbol("pino.end"),MK=Symbol("pino.formatOpts"),zK=Symbol("pino.messageKey"),UK=Symbol("pino.errorKey"),VK=Symbol("pino.nestedKey"),HK=Symbol("pino.nestedKeyStr"),BK=Symbol("pino.mixinMergeStrategy"),KK=Symbol("pino.msgPrefix"),GK=Symbol("pino.wildcardFirst"),JK=Symbol.for("pino.serializers"),WK=Symbol.for("pino.formatters"),YK=Symbol.for("pino.hooks"),XK=Symbol.for("pino.metadata");wT.exports={setLevelSym:wK,getLevelSym:xK,levelValSym:SK,levelCompSym:EK,useLevelLabelsSym:$K,mixinSym:PK,lsCacheSym:TK,chindingsSym:OK,asJsonSym:kK,writeSym:NK,serializersSym:JK,redactFmtSym:AK,timeSym:IK,timeSliceIndexSym:CK,streamSym:jK,stringifySym:qK,stringifySafeSym:DK,stringifiersSym:LK,endSym:FK,formatOptsSym:MK,messageKeySym:zK,errorKeySym:UK,nestedKeySym:VK,wildcardFirstSym:GK,needsMetadataGsym:XK,useOnlyCustomLevelsSym:RK,formattersSym:WK,hooksSym:YK,nestedKeyStrSym:HK,mixinMergeStrategySym:BK,msgPrefixSym:KK}});var Mg=y((Uke,$T)=>{"use strict";var Fg=bT(),{redactFmtSym:QK,wildcardFirstSym:_f}=Qo(),{rx:Lg,validator:ZK}=Fg,xT=ZK({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),ST="[Redacted]",ET=!1;function eG(e,t){let{paths:r,censor:n}=tG(e),s=r.reduce((a,c)=>{Lg.lastIndex=0;let l=Lg.exec(c),u=Lg.exec(c),d=l[1]!==void 0?l[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):l[0];if(d==="*"&&(d=_f),u===null)return a[d]=null,a;if(a[d]===null)return a;let{index:p}=u,m=`${c.substr(p,c.length-1)}`;return a[d]=a[d]||[],d!==_f&&a[d].length===0&&a[d].push(...a[_f]||[]),d===_f&&Object.keys(a).forEach(function(f){a[f]&&a[f].push(m)}),a[d].push(m),a},{}),i={[QK]:Fg({paths:r,censor:n,serialize:t,strict:ET})},o=(...a)=>t(typeof n=="function"?n(...a):n);return[...Object.keys(s),...Object.getOwnPropertySymbols(s)].reduce((a,c)=>{if(s[c]===null)a[c]=l=>o(l,[c]);else{let l=typeof n=="function"?(u,d)=>n(u,[c,...d]):n;a[c]=Fg({paths:s[c],censor:l,serialize:t,strict:ET})}return a},i)}function tG(e){if(Array.isArray(e))return e={paths:e,censor:ST},xT(e),e;let{paths:t,censor:r=ST,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),xT({paths:t,censor:r}),{paths:t,censor:r}}$T.exports=eG});var PT=y((Vke,RT)=>{"use strict";var rG=()=>"",nG=()=>`,"time":${Date.now()}`,sG=()=>`,"time":${Math.round(Date.now()/1e3)}`,iG=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;RT.exports={nullTime:rG,epochTime:nG,unixTime:sG,isoTime:iG}});var OT=y((Hke,TT)=>{"use strict";function oG(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}TT.exports=aG;function aG(e,t,r){var n=r&&r.stringify||oG,s=1;if(typeof e=="object"&&e!==null){var i=t.length+s;if(i===1)return e;var o=new Array(i);o[0]=n(e);for(var a=1;a<i;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var l="",u=1-s,d=-1,p=e&&e.length||0,m=0;m<p;){if(e.charCodeAt(m)===37&&m+1<p){switch(d=d>-1?d:0,e.charCodeAt(m+1)){case 100:case 102:if(u>=c||t[u]==null)break;d<m&&(l+=e.slice(d,m)),l+=Number(t[u]),d=m+2,m++;break;case 105:if(u>=c||t[u]==null)break;d<m&&(l+=e.slice(d,m)),l+=Math.floor(Number(t[u])),d=m+2,m++;break;case 79:case 111:case 106:if(u>=c||t[u]===void 0)break;d<m&&(l+=e.slice(d,m));var f=typeof t[u];if(f==="string"){l+="'"+t[u]+"'",d=m+2,m++;break}if(f==="function"){l+=t[u].name||"<anonymous>",d=m+2,m++;break}l+=n(t[u]),d=m+2,m++;break;case 115:if(u>=c)break;d<m&&(l+=e.slice(d,m)),l+=String(t[u]),d=m+2,m++;break;case 37:d<m&&(l+=e.slice(d,m)),l+="%",d=m+2,m++,u--;break}++u}++m}return d===-1?e:(d<p&&(l+=e.slice(d)),l)}});var Ug=y((Bke,zg)=>{"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));zg.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};zg.exports=e}});var DT=y((Kke,qT)=>{"use strict";var gt=require("fs"),cG=require("events"),uG=require("util").inherits,kT=require("path"),Hg=Ug(),bf=100,wf=Buffer.allocUnsafe(0),lG=16*1024,NT="buffer",AT="utf8";function IT(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;function r(i,o){if(i){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",i)}):t.emit("error",i);return}let a=t._reopening;t.fd=o,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t.destroyed&&(!t._writing&&t._len>t.minLength||t._flushPending?t._actualWrite():a&&process.nextTick(()=>t.emit("drain")))}let n=t.append?"a":"w",s=t.mode;if(t.sync)try{t.mkdir&&gt.mkdirSync(kT.dirname(e),{recursive:!0});let i=gt.openSync(e,n,s);r(null,i)}catch(i){throw r(i),i}else t.mkdir?gt.mkdir(kT.dirname(e),{recursive:!0},i=>{if(i)return r(i);gt.open(e,n,s,r)}):gt.open(e,n,s,r)}function mn(e){if(!(this instanceof mn))return new mn(e);let{fd:t,dest:r,minLength:n,maxLength:s,maxWrite:i,sync:o,append:a=!0,mkdir:c,retryEAGAIN:l,fsync:u,contentMode:d,mode:p}=e||{};t=t||r,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(n||0,16387),this.file=null,this.destroyed=!1,this.minLength=n||0,this.maxLength=s||0,this.maxWrite=i||lG,this.sync=o||!1,this.writable=!0,this._fsync=u||!1,this.append=a||!1,this.mode=p,this.retryEAGAIN=l||(()=>!0),this.mkdir=c||!1;let m,f;if(d===NT)this._writingBuf=wf,this.write=pG,this.flush=hG,this.flushSync=gG,this._actualWrite=_G,m=()=>gt.writeSync(this.fd,this._writingBuf),f=()=>gt.write(this.fd,this._writingBuf,this.release);else if(d===void 0||d===AT)this._writingBuf="",this.write=fG,this.flush=mG,this.flushSync=yG,this._actualWrite=vG,m=()=>gt.writeSync(this.fd,this._writingBuf,"utf8"),f=()=>gt.write(this.fd,this._writingBuf,"utf8",this.release);else throw new Error(`SonicBoom supports "${AT}" and "${NT}", but passed ${d}`);if(typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")IT(t,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(h,v)=>{if(h){if((h.code==="EAGAIN"||h.code==="EBUSY")&&this.retryEAGAIN(h,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{Hg(bf),this.release(void 0,0)}catch(_){this.release(_)}else setTimeout(f,bf);else this._writing=!1,this.emit("error",h);return}this.emit("write",v);let b=Vg(this._writingBuf,this._len,v);if(this._len=b.len,this._writingBuf=b.writingBuf,this._writingBuf.length){if(!this.sync){f();return}try{do{let _=m(),g=Vg(this._writingBuf,this._len,_);this._len=g.len,this._writingBuf=g.writingBuf}while(this._writingBuf.length)}catch(_){this.release(_);return}}this._fsync&&gt.fsyncSync(this.fd);let S=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):S>this.minLength?this._actualWrite():this._ending?S>0?this._actualWrite():(this._writing=!1,xf(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(dG,this)):this.emit("drain"))},this.on("newListener",function(h){h==="drain"&&(this._asyncDrainScheduled=!1)})}function Vg(e,t,r){return typeof e=="string"&&Buffer.byteLength(e)!==r&&(r=Buffer.from(e).subarray(0,r).toString().length),t=Math.max(t-r,0),e=e.slice(r),{writingBuf:e,len:t}}function dG(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}uG(mn,cG);function CT(e,t){return e.length===0?wf:e.length===1?e[0]:Buffer.concat(e,t)}function fG(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function pG(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs,n=this._lens;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||n[n.length-1]+e.length>this.maxWrite?(r.push([e]),n.push(e.length)):(r[r.length-1].push(e),n[n.length-1]+=e.length),this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function jT(e){this._flushPending=!0;let t=()=>{this._fsync?(this._flushPending=!1,e()):gt.fsync(this.fd,n=>{this._flushPending=!1,e(n)}),this.off("error",r)},r=n=>{this._flushPending=!1,e(n),this.off("drain",t)};this.once("drain",t),this.once("error",r)}function mG(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&jT.call(this,e),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite())}function hG(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&jT.call(this,e),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}mn.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(e&&(this.file=e),this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&gt.close(t,r=>{if(r)return this.emit("error",r)})}),IT(this.file,this)};mn.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():xf(this)))};function yG(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e;){e.length<=0&&(e=this._bufs[0]);try{let t=gt.writeSync(this.fd,e,"utf8"),r=Vg(e,this._len,t);e=r.writingBuf,this._len=r.len,e.length<=0&&this._bufs.shift()}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;Hg(bf)}}try{gt.fsyncSync(this.fd)}catch{}}function gG(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=wf);let e=wf;for(;this._bufs.length||e.length;){e.length<=0&&(e=CT(this._bufs[0],this._lens[0]));try{let t=gt.writeSync(this.fd,e);e=e.subarray(t),this._len=Math.max(this._len-t,0),e.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;Hg(bf)}}}mn.prototype.destroy=function(){this.destroyed||xf(this)};function vG(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let t=gt.writeSync(this.fd,this._writingBuf,"utf8");e(null,t)}catch(t){e(t)}else gt.write(this.fd,this._writingBuf,"utf8",e)}function _G(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:CT(this._bufs.shift(),this._lens.shift()),this.sync)try{let t=gt.writeSync(this.fd,this._writingBuf);e(null,t)}catch(t){e(t)}else gt.write(this.fd,this._writingBuf,e)}function xf(e){if(e.fd===-1){e.once("ready",xf.bind(null,e));return}e.destroyed=!0,e._bufs=[],e._lens=[],gt.fsync(e.fd,t);function t(){e.fd!==1&&e.fd!==2?gt.close(e.fd,r):r()}function r(n){if(n){e.emit("error",n);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}}mn.SonicBoom=mn;mn.default=mn;qT.exports=mn});var Bg=y((Gke,UT)=>{"use strict";var hn={exit:[],beforeExit:[]},LT={exit:xG,beforeExit:SG},Zo;function bG(){Zo===void 0&&(Zo=new FinalizationRegistry(EG))}function wG(e){hn[e].length>0||process.on(e,LT[e])}function FT(e){hn[e].length>0||(process.removeListener(e,LT[e]),hn.exit.length===0&&hn.beforeExit.length===0&&(Zo=void 0))}function xG(){MT("exit")}function SG(){MT("beforeExit")}function MT(e){for(let t of hn[e]){let r=t.deref(),n=t.fn;r!==void 0&&n(r,e)}hn[e]=[]}function EG(e){for(let t of["exit","beforeExit"]){let r=hn[t].indexOf(e);hn[t].splice(r,r+1),FT(t)}}function zT(e,t,r){if(t===void 0)throw new Error("the object can't be undefined");wG(e);let n=new WeakRef(t);n.fn=r,bG(),Zo.register(t,n),hn[e].push(n)}function $G(e,t){zT("exit",e,t)}function RG(e,t){zT("beforeExit",e,t)}function PG(e){if(Zo!==void 0){Zo.unregister(e);for(let t of["exit","beforeExit"])hn[t]=hn[t].filter(r=>{let n=r.deref();return n&&n!==e}),FT(t)}}UT.exports={register:$G,registerBeforeExit:RG,unregister:PG}});var VT=y((Jke,TG)=>{TG.exports={name:"thread-stream",version:"2.7.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^3.0.0",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^5.3.2","why-is-node-running":"^2.2.2"},scripts:{test:'standard && npm run transpile && tap "test/**/*.test.*js" && tap --ts test/*.test.*ts',"test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --timeout=120 --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var BT=y((Wke,HT)=>{"use strict";function OG(e,t,r,n,s){let i=Date.now()+n,o=Atomics.load(e,t);if(o===r){s(null,"ok");return}let a=o,c=l=>{Date.now()>i?s(null,"timed-out"):setTimeout(()=>{a=o,o=Atomics.load(e,t),o===a?c(l>=1e3?1e3:l*2):o===r?s(null,"ok"):s(null,"not-equal")},l)};c(1)}function kG(e,t,r,n,s){let i=Date.now()+n,o=Atomics.load(e,t);if(o!==r){s(null,"ok");return}let a=c=>{Date.now()>i?s(null,"timed-out"):setTimeout(()=>{o=Atomics.load(e,t),o!==r?s(null,"ok"):a(c>=1e3?1e3:c*2)},c)};a(1)}HT.exports={wait:OG,waitDiff:kG}});var GT=y((Yke,KT)=>{"use strict";KT.exports={WRITE_INDEX:4,READ_INDEX:8}});var QT=y((Xke,XT)=>{"use strict";var{version:NG}=VT(),{EventEmitter:AG}=require("events"),{Worker:IG}=require("worker_threads"),{join:CG}=require("path"),{pathToFileURL:jG}=require("url"),{wait:qG}=BT(),{WRITE_INDEX:Sr,READ_INDEX:qn}=GT(),DG=require("buffer"),LG=require("assert"),L=Symbol("kImpl"),FG=DG.constants.MAX_STRING_LENGTH,Uc=class{constructor(t){this._value=t}deref(){return this._value}},Ef=class{register(){}unregister(){}},MG=process.env.NODE_V8_COVERAGE?Ef:global.FinalizationRegistry||Ef,zG=process.env.NODE_V8_COVERAGE?Uc:global.WeakRef||Uc,JT=new MG(e=>{e.exited||e.terminate()});function UG(e,t){let{filename:r,workerData:n}=t,i=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||CG(__dirname,"lib","worker.js"),o=new IG(i,{...t.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:jG(r).href,dataBuf:e[L].dataBuf,stateBuf:e[L].stateBuf,workerData:{$context:{threadStreamVersion:NG},...n}}});return o.stream=new Uc(e),o.on("message",VG),o.on("exit",YT),JT.register(e,o),o}function WT(e){LG(!e[L].sync),e[L].needDrain&&(e[L].needDrain=!1,e.emit("drain"))}function Sf(e){let t=Atomics.load(e[L].state,Sr),r=e[L].data.length-t;if(r>0){if(e[L].buf.length===0){e[L].flushing=!1,e[L].ending?Yg(e):e[L].needDrain&&process.nextTick(WT,e);return}let n=e[L].buf.slice(0,r),s=Buffer.byteLength(n);s<=r?(e[L].buf=e[L].buf.slice(r),$f(e,n,Sf.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[L].state,qn,0),Atomics.store(e[L].state,Sr,0);s>e[L].data.length;)r=r/2,n=e[L].buf.slice(0,r),s=Buffer.byteLength(n);e[L].buf=e[L].buf.slice(r),$f(e,n,Sf.bind(null,e))}})}else if(r===0){if(t===0&&e[L].buf.length===0)return;e.flush(()=>{Atomics.store(e[L].state,qn,0),Atomics.store(e[L].state,Sr,0),Sf(e)})}else Dn(e,new Error("overwritten"))}function VG(e){let t=this.stream.deref();if(t===void 0){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new zG(t),t.flush(()=>{t[L].ready=!0,t.emit("ready")});break;case"ERROR":Dn(t,e.err);break;case"EVENT":Array.isArray(e.args)?t.emit(e.name,...e.args):t.emit(e.name,e.args);break;case"WARNING":process.emitWarning(e.err);break;default:Dn(t,new Error("this should not happen: "+e.code))}}function YT(e){let t=this.stream.deref();t!==void 0&&(JT.unregister(t),t.worker.exited=!0,t.worker.off("exit",YT),Dn(t,e!==0?new Error("the worker thread exited"):null))}var Gg=class extends AG{constructor(t={}){if(super(),t.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[L]={},this[L].stateBuf=new SharedArrayBuffer(128),this[L].state=new Int32Array(this[L].stateBuf),this[L].dataBuf=new SharedArrayBuffer(t.bufferSize||4*1024*1024),this[L].data=Buffer.from(this[L].dataBuf),this[L].sync=t.sync||!1,this[L].ending=!1,this[L].ended=!1,this[L].needDrain=!1,this[L].destroyed=!1,this[L].flushing=!1,this[L].ready=!1,this[L].finished=!1,this[L].errored=null,this[L].closed=!1,this[L].buf="",this.worker=UG(this,t),this.on("message",(r,n)=>{this.worker.postMessage(r,n)})}write(t){if(this[L].destroyed)return Jg(this,new Error("the worker has exited")),!1;if(this[L].ending)return Jg(this,new Error("the worker is ending")),!1;if(this[L].flushing&&this[L].buf.length+t.length>=FG)try{Kg(this),this[L].flushing=!0}catch(r){return Dn(this,r),!1}if(this[L].buf+=t,this[L].sync)try{return Kg(this),!0}catch(r){return Dn(this,r),!1}return this[L].flushing||(this[L].flushing=!0,setImmediate(Sf,this)),this[L].needDrain=this[L].data.length-this[L].buf.length-Atomics.load(this[L].state,Sr)<=0,!this[L].needDrain}end(){this[L].destroyed||(this[L].ending=!0,Yg(this))}flush(t){if(this[L].destroyed){typeof t=="function"&&process.nextTick(t,new Error("the worker has exited"));return}let r=Atomics.load(this[L].state,Sr);qG(this[L].state,qn,r,1/0,(n,s)=>{if(n){Dn(this,n),process.nextTick(t,n);return}if(s==="not-equal"){this.flush(t);return}process.nextTick(t)})}flushSync(){this[L].destroyed||(Kg(this),Wg(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[L].ready}get destroyed(){return this[L].destroyed}get closed(){return this[L].closed}get writable(){return!this[L].destroyed&&!this[L].ending}get writableEnded(){return this[L].ending}get writableFinished(){return this[L].finished}get writableNeedDrain(){return this[L].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[L].errored}};function Jg(e,t){setImmediate(()=>{e.emit("error",t)})}function Dn(e,t){e[L].destroyed||(e[L].destroyed=!0,t&&(e[L].errored=t,Jg(e,t)),e.worker.exited?setImmediate(()=>{e[L].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[L].closed=!0,e.emit("close")}))}function $f(e,t,r){let n=Atomics.load(e[L].state,Sr),s=Buffer.byteLength(t);return e[L].data.write(t,n),Atomics.store(e[L].state,Sr,n+s),Atomics.notify(e[L].state,Sr),r(),!0}function Yg(e){if(!(e[L].ended||!e[L].ending||e[L].flushing)){e[L].ended=!0;try{e.flushSync();let t=Atomics.load(e[L].state,qn);Atomics.store(e[L].state,Sr,-1),Atomics.notify(e[L].state,Sr);let r=0;for(;t!==-1;){if(Atomics.wait(e[L].state,qn,t,1e3),t=Atomics.load(e[L].state,qn),t===-2){Dn(e,new Error("end() failed"));return}if(++r===10){Dn(e,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{e[L].finished=!0,e.emit("finish")})}catch(t){Dn(e,t)}}}function Kg(e){let t=()=>{e[L].ending?Yg(e):e[L].needDrain&&process.nextTick(WT,e)};for(e[L].flushing=!1;e[L].buf.length!==0;){let r=Atomics.load(e[L].state,Sr),n=e[L].data.length-r;if(n===0){Wg(e),Atomics.store(e[L].state,qn,0),Atomics.store(e[L].state,Sr,0);continue}else if(n<0)throw new Error("overwritten");let s=e[L].buf.slice(0,n),i=Buffer.byteLength(s);if(i<=n)e[L].buf=e[L].buf.slice(n),$f(e,s,t);else{for(Wg(e),Atomics.store(e[L].state,qn,0),Atomics.store(e[L].state,Sr,0);i>e[L].buf.length;)n=n/2,s=e[L].buf.slice(0,n),i=Buffer.byteLength(s);e[L].buf=e[L].buf.slice(n),$f(e,s,t)}}}function Wg(e){if(e[L].flushing)throw new Error("unable to flush while flushing");let t=Atomics.load(e[L].state,Sr),r=0;for(;;){let n=Atomics.load(e[L].state,qn);if(n===-2)throw Error("_flushSync failed");if(n!==t)Atomics.wait(e[L].state,qn,n,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}XT.exports=Gg});var Zg=y((Qke,ZT)=>{"use strict";var{createRequire:HG}=require("module"),BG=Ig(),{join:Xg,isAbsolute:KG,sep:GG}=require("path"),JG=Ug(),Qg=Bg(),WG=QT();function YG(e){Qg.register(e,QG),Qg.registerBeforeExit(e,ZG),e.on("close",function(){Qg.unregister(e)})}function XG(e,t,r){let n=new WG({filename:e,workerData:t,workerOpts:r});n.on("ready",s),n.on("close",function(){process.removeListener("exit",i)}),process.on("exit",i);function s(){process.removeListener("exit",i),n.unref(),r.autoEnd!==!1&&YG(n)}function i(){n.closed||(n.flushSync(),JG(100),n.end())}return n}function QG(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}function ZG(e){e.flushSync()}function eJ(e){let{pipeline:t,targets:r,levels:n,dedupe:s,options:i={},worker:o={},caller:a=BG()}=e,c=typeof a=="string"?[a]:a,l="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},u=e.target;if(u&&r)throw new Error("only one of target or targets can be specified");return r?(u=l["pino-worker"]||Xg(__dirname,"worker.js"),i.targets=r.map(p=>({...p,target:d(p.target)}))):t&&(u=l["pino-pipeline-worker"]||Xg(__dirname,"worker-pipeline.js"),i.targets=t.map(p=>({...p,target:d(p.target)}))),n&&(i.levels=n),s&&(i.dedupe=s),i.pinoWillSendConfig=!0,XG(d(u),i,o);function d(p){if(p=l[p]||p,KG(p)||p.indexOf("file://")===0)return p;if(p==="pino/file")return Xg(__dirname,"..","file.js");let m;for(let f of c)try{let h=f==="node:repl"?process.cwd()+GG:f;m=HG(h).resolve(p);break}catch{continue}if(!m)throw new Error(`unable to determine transport target for "${p}"`);return m}}ZT.exports=eJ});var Tf=y((Zke,lO)=>{"use strict";var eO=OT(),{mapHttpRequest:tJ,mapHttpResponse:rJ}=Ag(),tv=DT(),tO=Bg(),{lsCacheSym:nJ,chindingsSym:sO,writeSym:rO,serializersSym:iO,formatOptsSym:nO,endSym:sJ,stringifiersSym:oO,stringifySym:aO,stringifySafeSym:rv,wildcardFirstSym:cO,nestedKeySym:iJ,formattersSym:uO,messageKeySym:oJ,errorKeySym:aJ,nestedKeyStrSym:cJ,msgPrefixSym:Rf}=Qo(),{isMainThread:uJ}=require("worker_threads"),lJ=Zg();function ea(){}function dJ(e,t){if(!t)return r;return function(...s){t.call(this,s,r,e)};function r(n,...s){if(typeof n=="object"){let i=n;n!==null&&(n.method&&n.headers&&n.socket?n=tJ(n):typeof n.setHeader=="function"&&(n=rJ(n)));let o;i===null&&s.length===0?o=[null]:(i=s.shift(),o=s),typeof this[Rf]=="string"&&i!==void 0&&i!==null&&(i=this[Rf]+i),this[rO](n,eO(i,o,this[nO]),e)}else{let i=n===void 0?s.shift():n;typeof this[Rf]=="string"&&i!==void 0&&i!==null&&(i=this[Rf]+i),this[rO](null,eO(i,s,this[nO]),e)}}}function ev(e){let t="",r=0,n=!1,s=255,i=e.length;if(i>100)return JSON.stringify(e);for(var o=0;o<i&&s>=32;o++)s=e.charCodeAt(o),(s===34||s===92)&&(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,s<32?JSON.stringify(e):'"'+t+'"'}function fJ(e,t,r,n){let s=this[aO],i=this[rv],o=this[oO],a=this[sJ],c=this[sO],l=this[iO],u=this[uO],d=this[oJ],p=this[aJ],m=this[nJ][r]+n;m=m+c;let f;u.log&&(e=u.log(e));let h=o[cO],v="";for(let S in e)if(f=e[S],Object.prototype.hasOwnProperty.call(e,S)&&f!==void 0){l[S]?f=l[S](f):S===p&&l.err&&(f=l.err(f));let _=o[S]||h;switch(typeof f){case"undefined":case"function":continue;case"number":Number.isFinite(f)===!1&&(f=null);case"boolean":_&&(f=_(f));break;case"string":f=(_||ev)(f);break;default:f=(_||s)(f,i)}if(f===void 0)continue;let g=ev(S);v+=","+g+":"+f}let b="";if(t!==void 0){f=l[d]?l[d](t):t;let S=o[d]||h;switch(typeof f){case"function":break;case"number":Number.isFinite(f)===!1&&(f=null);case"boolean":S&&(f=S(f)),b=',"'+d+'":'+f;break;case"string":f=(S||ev)(f),b=',"'+d+'":'+f;break;default:f=(S||s)(f,i),b=',"'+d+'":'+f}}return this[iJ]&&v?m+this[cJ]+v.slice(1)+"}"+b+a:m+v+b+a}function pJ(e,t){let r,n=e[sO],s=e[aO],i=e[rv],o=e[oO],a=o[cO],c=e[iO],l=e[uO].bindings;t=l(t);for(let u in t)if(r=t[u],(u!=="level"&&u!=="serializers"&&u!=="formatters"&&u!=="customLevels"&&t.hasOwnProperty(u)&&r!==void 0)===!0){if(r=c[u]?c[u](r):r,r=(o[u]||a||s)(r,i),r===void 0)continue;n+=',"'+u+'":'+r}return n}function mJ(e){return e.write!==e.constructor.prototype.write}var hJ=process.env.NODE_V8_COVERAGE||process.env.V8_COVERAGE;function Pf(e){let t=new tv(e);return t.on("error",r),!hJ&&!e.sync&&uJ&&(tO.register(t,yJ),t.on("close",function(){tO.unregister(t)})),t;function r(n){if(n.code==="EPIPE"){t.write=ea,t.end=ea,t.flushSync=ea,t.destroy=ea;return}t.removeListener("error",r),t.emit("error",n)}}function yJ(e,t){e.destroyed||(t==="beforeExit"?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}function gJ(e){return function(r,n,s={},i){if(typeof s=="string")i=Pf({dest:s}),s={};else if(typeof i=="string"){if(s&&s.transport)throw Error("only one of option.transport or stream can be specified");i=Pf({dest:i})}else if(s instanceof tv||s.writable||s._writableState)i=s,s={};else if(s.transport){if(s.transport instanceof tv||s.transport.writable||s.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(s.transport.targets&&s.transport.targets.length&&s.formatters&&typeof s.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let c;s.customLevels&&(c=s.useOnlyCustomLevels?s.customLevels:Object.assign({},s.levels,s.customLevels)),i=lJ({caller:n,...s.transport,levels:c})}if(s=Object.assign({},e,s),s.serializers=Object.assign({},e.serializers,s.serializers),s.formatters=Object.assign({},e.formatters,s.formatters),s.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:o,onChild:a}=s;return o===!1&&(s.level="silent"),a||(s.onChild=ea),i||(mJ(process.stdout)?i=process.stdout:i=Pf({fd:process.stdout.fd||1})),{opts:s,stream:i}}}function vJ(e,t){try{return JSON.stringify(e)}catch{try{return(t||this[rv])(e)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function _J(e,t,r){return{level:e,bindings:t,log:r}}function bJ(e){let t=Number(e);return typeof e=="string"&&Number.isFinite(t)?t:e===void 0?1:e}lO.exports={noop:ea,buildSafeSonicBoom:Pf,asChindings:pJ,asJson:fJ,genLog:dJ,createArgsNormalizer:gJ,stringify:vJ,buildFormatters:_J,normalizeDestFileDescriptor:bJ}});var Of=y((eNe,dO)=>{var wJ={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},xJ={ASC:"ASC",DESC:"DESC"};dO.exports={DEFAULT_LEVELS:wJ,SORTING_ORDER:xJ}});var iv=y((tNe,hO)=>{"use strict";var{lsCacheSym:SJ,levelValSym:nv,useOnlyCustomLevelsSym:EJ,streamSym:$J,formattersSym:RJ,hooksSym:PJ,levelCompSym:fO}=Qo(),{noop:TJ,genLog:Mi}=Tf(),{DEFAULT_LEVELS:Ln,SORTING_ORDER:pO}=Of(),mO={fatal:e=>{let t=Mi(Ln.fatal,e);return function(...r){let n=this[$J];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch{}}},error:e=>Mi(Ln.error,e),warn:e=>Mi(Ln.warn,e),info:e=>Mi(Ln.info,e),debug:e=>Mi(Ln.debug,e),trace:e=>Mi(Ln.trace,e)},sv=Object.keys(Ln).reduce((e,t)=>(e[Ln[t]]=t,e),{}),OJ=Object.keys(sv).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{});function kJ(e){let t=e[RJ].level,{labels:r}=e.levels,n={};for(let s in r){let i=t(r[s],Number(s));n[s]=JSON.stringify(i).slice(0,-1)}return e[SJ]=n,e}function NJ(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function AJ(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[nv],s=this[nv]=r[e],i=this[EJ],o=this[fO],a=this[PJ].logMethod;for(let c in r){if(o(r[c],s)===!1){this[c]=TJ;continue}this[c]=NJ(c,i)?mO[c](a):Mi(r[c],a)}this.emit("level-change",e,s,t[n],n,this)}function IJ(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function CJ(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&this[fO](r,this[nv])}function jJ(e,t,r){return e===pO.DESC?t<=r:t>=r}function qJ(e){return typeof e=="string"?jJ.bind(null,e):e}function DJ(e=null,t=!1){let r=e?Object.keys(e).reduce((i,o)=>(i[e[o]]=o,i),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:sv,r),s=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:Ln,e);return{labels:n,values:s}}function LJ(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(i=>t[i]),r?[]:Object.keys(sv).map(i=>+i),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:Ln,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function FJ(e,t){let{labels:r,values:n}=e;for(let s in t){if(s in n)throw Error("levels cannot be overridden");if(t[s]in r)throw Error("pre-existing level values cannot be used for new levels")}}function MJ(e){if(typeof e!="function"&&!(typeof e=="string"&&Object.values(pO).includes(e)))throw new Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}hO.exports={initialLsCache:OJ,genLsCache:kJ,levelMethods:mO,getLevel:IJ,setLevel:AJ,isLevelEnabled:CJ,mappings:DJ,assertNoLevelCollisions:FJ,assertDefaultLevelFound:LJ,genLevelComparison:qJ,assertLevelComparison:MJ}});var ov=y((rNe,yO)=>{"use strict";yO.exports={version:"8.21.0"}});var PO=y((sNe,RO)=>{"use strict";var{EventEmitter:zJ}=require("events"),{lsCacheSym:UJ,levelValSym:VJ,setLevelSym:cv,getLevelSym:gO,chindingsSym:uv,parsedChindingsSym:HJ,mixinSym:BJ,asJsonSym:xO,writeSym:KJ,mixinMergeStrategySym:GJ,timeSym:JJ,timeSliceIndexSym:WJ,streamSym:SO,serializersSym:zi,formattersSym:av,errorKeySym:YJ,messageKeySym:XJ,useOnlyCustomLevelsSym:QJ,needsMetadataGsym:ZJ,redactFmtSym:eW,stringifySym:tW,formatOptsSym:rW,stringifiersSym:nW,msgPrefixSym:vO}=Qo(),{getLevel:sW,setLevel:iW,isLevelEnabled:oW,mappings:aW,initialLsCache:cW,genLsCache:uW,assertNoLevelCollisions:lW}=iv(),{asChindings:EO,asJson:dW,buildFormatters:_O,stringify:bO}=Tf(),{version:fW}=ov(),pW=Mg(),mW=class{},$O={constructor:mW,child:hW,bindings:yW,setBindings:gW,flush:wW,isLevelEnabled:oW,version:fW,get level(){return this[gO]()},set level(e){this[cv](e)},get levelVal(){return this[VJ]},set levelVal(e){throw Error("levelVal is read-only")},[UJ]:cW,[KJ]:_W,[xO]:dW,[gO]:sW,[cv]:iW};Object.setPrototypeOf($O,zJ.prototype);RO.exports=function(){return Object.create($O)};var wO=e=>e;function hW(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let r=this[zi],n=this[av],s=Object.create(this);if(t.hasOwnProperty("serializers")===!0){s[zi]=Object.create(null);for(let u in r)s[zi][u]=r[u];let c=Object.getOwnPropertySymbols(r);for(var i=0;i<c.length;i++){let u=c[i];s[zi][u]=r[u]}for(let u in t.serializers)s[zi][u]=t.serializers[u];let l=Object.getOwnPropertySymbols(t.serializers);for(var o=0;o<l.length;o++){let u=l[o];s[zi][u]=t.serializers[u]}}else s[zi]=r;if(t.hasOwnProperty("formatters")){let{level:c,bindings:l,log:u}=t.formatters;s[av]=_O(c||n.level,l||wO,u||n.log)}else s[av]=_O(n.level,wO,n.log);if(t.hasOwnProperty("customLevels")===!0&&(lW(this.levels,t.customLevels),s.levels=aW(t.customLevels,s[QJ]),uW(s)),typeof t.redact=="object"&&t.redact!==null||Array.isArray(t.redact)){s.redact=t.redact;let c=pW(s.redact,bO),l={stringify:c[eW]};s[tW]=bO,s[nW]=c,s[rW]=l}typeof t.msgPrefix=="string"&&(s[vO]=(this[vO]||"")+t.msgPrefix),s[uv]=EO(s,e);let a=t.level||this.level;return s[cv](a),this.onChild(s),s}function yW(){let t=`{${this[uv].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function gW(e){let t=EO(this,e);this[uv]=t,delete this[HJ]}function vW(e,t){return Object.assign(t,e)}function _W(e,t,r){let n=this[JJ](),s=this[BJ],i=this[YJ],o=this[XJ],a=this[GJ]||vW,c;e==null?c={}:e instanceof Error?(c={[i]:e},t===void 0&&(t=e.message)):(c=e,t===void 0&&e[o]===void 0&&e[i]&&(t=e[i].message)),s&&(c=a(c,s(c,r,this)));let l=this[xO](c,t,r,n),u=this[SO];u[ZJ]===!0&&(u.lastLevel=r,u.lastObj=c,u.lastMsg=t,u.lastTime=n.slice(this[WJ]),u.lastLogger=this),u.write(l)}function bW(){}function wW(e){if(e!=null&&typeof e!="function")throw Error("callback must be a function");let t=this[SO];typeof t.flush=="function"?t.flush(e||bW):e&&e()}});var NO=y((pv,kO)=>{"use strict";var{hasOwnProperty:Vc}=Object.prototype,Vi=fv();Vi.configure=fv;Vi.stringify=Vi;Vi.default=Vi;pv.stringify=Vi;pv.configure=fv;kO.exports=Vi;var xW=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function Ws(e){return e.length<5e3&&!xW.test(e)?`"${e}"`:JSON.stringify(e)}function lv(e,t){if(e.length>200||t)return e.sort(t);for(let r=1;r<e.length;r++){let n=e[r],s=r;for(;s!==0&&e[s-1]>n;)e[s]=e[s-1],s--;e[s]=n}return e}var SW=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function dv(e){return SW.call(e)!==void 0&&e.length!==0}function TO(e,t,r){e.length<r&&(r=e.length);let n=t===","?"":" ",s=`"0":${n}${e[0]}`;for(let i=1;i<r;i++)s+=`${t}"${i}":${n}${e[i]}`;return s}function EW(e){if(Vc.call(e,"circularValue")){let t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function $W(e){let t;if(Vc.call(e,"deterministic")&&(t=e.deterministic,typeof t!="boolean"&&typeof t!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return t===void 0?!0:t}function RW(e,t){let r;if(Vc.call(e,t)&&(r=e[t],typeof r!="boolean"))throw new TypeError(`The "${t}" argument must be of type boolean`);return r===void 0?!0:r}function OO(e,t){let r;if(Vc.call(e,t)){if(r=e[t],typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}function Ui(e){return e===1?"1 item":`${e} items`}function PW(e){let t=new Set;for(let r of e)(typeof r=="string"||typeof r=="number")&&t.add(String(r));return t}function TW(e){if(Vc.call(e,"strict")){let t=e.strict;if(typeof t!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(t)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function fv(e){e={...e};let t=TW(e);t&&(e.bigint===void 0&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let r=EW(e),n=RW(e,"bigint"),s=$W(e),i=typeof s=="function"?s:void 0,o=OO(e,"maximumDepth"),a=OO(e,"maximumBreadth");function c(m,f,h,v,b,S){let _=f[m];switch(typeof _=="object"&&_!==null&&typeof _.toJSON=="function"&&(_=_.toJSON(m)),_=v.call(f,m,_),typeof _){case"string":return Ws(_);case"object":{if(_===null)return"null";if(h.indexOf(_)!==-1)return r;let g="",x=",",R=S;if(Array.isArray(_)){if(_.length===0)return"[]";if(o<h.length+1)return'"[Array]"';h.push(_),b!==""&&(S+=b,g+=`
${S}`,x=`,
${S}`);let O=Math.min(_.length,a),T=0;for(;T<O-1;T++){let F=c(String(T),_,h,v,b,S);g+=F!==void 0?F:"null",g+=x}let A=c(String(T),_,h,v,b,S);if(g+=A!==void 0?A:"null",_.length-1>a){let F=_.length-a-1;g+=`${x}"... ${Ui(F)} not stringified"`}return b!==""&&(g+=`
${R}`),h.pop(),`[${g}]`}let w=Object.keys(_),E=w.length;if(E===0)return"{}";if(o<h.length+1)return'"[Object]"';let P="",$="";b!==""&&(S+=b,x=`,
${S}`,P=" ");let j=Math.min(E,a);s&&!dv(_)&&(w=lv(w,i)),h.push(_);for(let O=0;O<j;O++){let T=w[O],A=c(T,_,h,v,b,S);A!==void 0&&(g+=`${$}${Ws(T)}:${P}${A}`,$=x)}if(E>a){let O=E-a;g+=`${$}"...":${P}"${Ui(O)} not stringified"`,$=x}return b!==""&&$.length>1&&(g=`
${S}${g}
${R}`),h.pop(),`{${g}}`}case"number":return isFinite(_)?String(_):t?t(_):"null";case"boolean":return _===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(_);default:return t?t(_):void 0}}function l(m,f,h,v,b,S){switch(typeof f=="object"&&f!==null&&typeof f.toJSON=="function"&&(f=f.toJSON(m)),typeof f){case"string":return Ws(f);case"object":{if(f===null)return"null";if(h.indexOf(f)!==-1)return r;let _=S,g="",x=",";if(Array.isArray(f)){if(f.length===0)return"[]";if(o<h.length+1)return'"[Array]"';h.push(f),b!==""&&(S+=b,g+=`
${S}`,x=`,
${S}`);let E=Math.min(f.length,a),P=0;for(;P<E-1;P++){let j=l(String(P),f[P],h,v,b,S);g+=j!==void 0?j:"null",g+=x}let $=l(String(P),f[P],h,v,b,S);if(g+=$!==void 0?$:"null",f.length-1>a){let j=f.length-a-1;g+=`${x}"... ${Ui(j)} not stringified"`}return b!==""&&(g+=`
${_}`),h.pop(),`[${g}]`}h.push(f);let R="";b!==""&&(S+=b,x=`,
${S}`,R=" ");let w="";for(let E of v){let P=l(E,f[E],h,v,b,S);P!==void 0&&(g+=`${w}${Ws(E)}:${R}${P}`,w=x)}return b!==""&&w.length>1&&(g=`
${S}${g}
${_}`),h.pop(),`{${g}}`}case"number":return isFinite(f)?String(f):t?t(f):"null";case"boolean":return f===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(f);default:return t?t(f):void 0}}function u(m,f,h,v,b){switch(typeof f){case"string":return Ws(f);case"object":{if(f===null)return"null";if(typeof f.toJSON=="function"){if(f=f.toJSON(m),typeof f!="object")return u(m,f,h,v,b);if(f===null)return"null"}if(h.indexOf(f)!==-1)return r;let S=b;if(Array.isArray(f)){if(f.length===0)return"[]";if(o<h.length+1)return'"[Array]"';h.push(f),b+=v;let P=`
${b}`,$=`,
${b}`,j=Math.min(f.length,a),O=0;for(;O<j-1;O++){let A=u(String(O),f[O],h,v,b);P+=A!==void 0?A:"null",P+=$}let T=u(String(O),f[O],h,v,b);if(P+=T!==void 0?T:"null",f.length-1>a){let A=f.length-a-1;P+=`${$}"... ${Ui(A)} not stringified"`}return P+=`
${S}`,h.pop(),`[${P}]`}let _=Object.keys(f),g=_.length;if(g===0)return"{}";if(o<h.length+1)return'"[Object]"';b+=v;let x=`,
${b}`,R="",w="",E=Math.min(g,a);dv(f)&&(R+=TO(f,x,a),_=_.slice(f.length),E-=f.length,w=x),s&&(_=lv(_,i)),h.push(f);for(let P=0;P<E;P++){let $=_[P],j=u($,f[$],h,v,b);j!==void 0&&(R+=`${w}${Ws($)}: ${j}`,w=x)}if(g>a){let P=g-a;R+=`${w}"...": "${Ui(P)} not stringified"`,w=x}return w!==""&&(R=`
${b}${R}
${S}`),h.pop(),`{${R}}`}case"number":return isFinite(f)?String(f):t?t(f):"null";case"boolean":return f===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(f);default:return t?t(f):void 0}}function d(m,f,h){switch(typeof f){case"string":return Ws(f);case"object":{if(f===null)return"null";if(typeof f.toJSON=="function"){if(f=f.toJSON(m),typeof f!="object")return d(m,f,h);if(f===null)return"null"}if(h.indexOf(f)!==-1)return r;let v="",b=f.length!==void 0;if(b&&Array.isArray(f)){if(f.length===0)return"[]";if(o<h.length+1)return'"[Array]"';h.push(f);let R=Math.min(f.length,a),w=0;for(;w<R-1;w++){let P=d(String(w),f[w],h);v+=P!==void 0?P:"null",v+=","}let E=d(String(w),f[w],h);if(v+=E!==void 0?E:"null",f.length-1>a){let P=f.length-a-1;v+=`,"... ${Ui(P)} not stringified"`}return h.pop(),`[${v}]`}let S=Object.keys(f),_=S.length;if(_===0)return"{}";if(o<h.length+1)return'"[Object]"';let g="",x=Math.min(_,a);b&&dv(f)&&(v+=TO(f,",",a),S=S.slice(f.length),x-=f.length,g=","),s&&(S=lv(S,i)),h.push(f);for(let R=0;R<x;R++){let w=S[R],E=d(w,f[w],h);E!==void 0&&(v+=`${g}${Ws(w)}:${E}`,g=",")}if(_>a){let R=_-a;v+=`${g}"...":"${Ui(R)} not stringified"`}return h.pop(),`{${v}}`}case"number":return isFinite(f)?String(f):t?t(f):"null";case"boolean":return f===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(f);default:return t?t(f):void 0}}function p(m,f,h){if(arguments.length>1){let v="";if(typeof h=="number"?v=" ".repeat(Math.min(h,10)):typeof h=="string"&&(v=h.slice(0,10)),f!=null){if(typeof f=="function")return c("",{"":m},[],f,v,"");if(Array.isArray(f))return l("",m,[],PW(f),v,"")}if(v.length!==0)return u("",m,[],v,"")}return d("",m,[])}return p}});var CO=y((iNe,IO)=>{"use strict";var mv=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:AO}=Of(),OW=AO.info;function kW(e,t){let r=0;e=e||[],t=t||{dedupe:!1};let n=Object.create(AO);n.silent=1/0,t.levels&&typeof t.levels=="object"&&Object.keys(t.levels).forEach(d=>{n[d]=t.levels[d]});let s={write:i,add:c,emit:o,flushSync:a,end:l,minLevel:0,streams:[],clone:u,[mv]:!0,streamLevels:n};return Array.isArray(e)?e.forEach(c,s):c.call(s,e),e=null,s;function i(d){let p,m=this.lastLevel,{streams:f}=this,h=0,v;for(let b=AW(f.length,t.dedupe);CW(b,f.length,t.dedupe);b=IW(b,t.dedupe))if(p=f[b],p.level<=m){if(h!==0&&h!==p.level)break;if(v=p.stream,v[mv]){let{lastTime:S,lastMsg:_,lastObj:g,lastLogger:x}=this;v.lastLevel=m,v.lastTime=S,v.lastMsg=_,v.lastObj=g,v.lastLogger=x}v.write(d),t.dedupe&&(h=p.level)}else if(!t.dedupe)break}function o(...d){for(let{stream:p}of this.streams)typeof p.emit=="function"&&p.emit(...d)}function a(){for(let{stream:d}of this.streams)typeof d.flushSync=="function"&&d.flushSync()}function c(d){if(!d)return s;let p=typeof d.write=="function"||d.stream,m=d.write?d:d.stream;if(!p)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:f,streamLevels:h}=this,v;typeof d.levelVal=="number"?v=d.levelVal:typeof d.level=="string"?v=h[d.level]:typeof d.level=="number"?v=d.level:v=OW;let b={stream:m,level:v,levelVal:void 0,id:r++};return f.unshift(b),f.sort(NW),this.minLevel=f[0].level,s}function l(){for(let{stream:d}of this.streams)typeof d.flushSync=="function"&&d.flushSync(),d.end()}function u(d){let p=new Array(this.streams.length);for(let m=0;m<p.length;m++)p[m]={level:d,stream:this.streams[m].stream};return{write:i,add:c,minLevel:d,streams:p,clone:u,emit:o,flushSync:a,[mv]:!0}}}function NW(e,t){return e.level-t.level}function AW(e,t){return t?e-1:0}function IW(e,t){return t?e-1:e+1}function CW(e,t,r){return r?e>=0:e<t}IO.exports=kW});var GO=y((oNe,Vr)=>{"use strict";var jW=require("os"),UO=Ag(),qW=Ig(),DW=Mg(),VO=PT(),LW=PO(),HO=Qo(),{configure:FW}=NO(),{assertDefaultLevelFound:MW,mappings:BO,genLsCache:zW,genLevelComparison:UW,assertLevelComparison:VW}=iv(),{DEFAULT_LEVELS:HW,SORTING_ORDER:BW}=Of(),{createArgsNormalizer:KW,asChindings:GW,buildSafeSonicBoom:jO,buildFormatters:JW,stringify:hv,normalizeDestFileDescriptor:qO,noop:WW}=Tf(),{version:YW}=ov(),{chindingsSym:DO,redactFmtSym:XW,serializersSym:LO,timeSym:QW,timeSliceIndexSym:ZW,streamSym:e7,stringifySym:FO,stringifySafeSym:yv,stringifiersSym:MO,setLevelSym:t7,endSym:r7,formatOptsSym:n7,messageKeySym:s7,errorKeySym:i7,nestedKeySym:o7,mixinSym:a7,levelCompSym:c7,useOnlyCustomLevelsSym:u7,formattersSym:zO,hooksSym:l7,nestedKeyStrSym:d7,mixinMergeStrategySym:f7,msgPrefixSym:p7}=HO,{epochTime:KO,nullTime:m7}=VO,{pid:h7}=process,y7=jW.hostname(),g7=UO.err,v7={level:"info",levelComparison:BW.ASC,levels:HW,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:h7,hostname:y7},serializers:Object.assign(Object.create(null),{err:g7}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:KO,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},_7=KW(v7),b7=Object.assign(Object.create(null),UO);function gv(...e){let t={},{opts:r,stream:n}=_7(t,qW(),...e),{redact:s,crlf:i,serializers:o,timestamp:a,messageKey:c,errorKey:l,nestedKey:u,base:d,name:p,level:m,customLevels:f,levelComparison:h,mixin:v,mixinMergeStrategy:b,useOnlyCustomLevels:S,formatters:_,hooks:g,depthLimit:x,edgeLimit:R,onChild:w,msgPrefix:E}=r,P=FW({maximumDepth:x,maximumBreadth:R}),$=JW(_.level,_.bindings,_.log),j=hv.bind({[yv]:P}),O=s?DW(s,j):{},T=s?{stringify:O[XW]}:{stringify:j},A="}"+(i?`\r
`:`
`),F=GW.bind(null,{[DO]:"",[LO]:o,[MO]:O,[FO]:hv,[yv]:P,[zO]:$}),C="";d!==null&&(p===void 0?C=F(d):C=F(Object.assign({},d,{name:p})));let I=a instanceof Function?a:a?KO:m7,D=I().indexOf(":")+1;if(S&&!f)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(v&&typeof v!="function")throw Error(`Unknown mixin type "${typeof v}" - expected "function"`);if(E&&typeof E!="string")throw Error(`Unknown msgPrefix type "${typeof E}" - expected "string"`);MW(m,f,S);let q=BO(f,S);typeof n.emit=="function"&&n.emit("message",{code:"PINO_CONFIG",config:{levels:q,messageKey:c,errorKey:l}}),VW(h);let te=UW(h);return Object.assign(t,{levels:q,[c7]:te,[u7]:S,[e7]:n,[QW]:I,[ZW]:D,[FO]:hv,[yv]:P,[MO]:O,[r7]:A,[n7]:T,[s7]:c,[i7]:l,[o7]:u,[d7]:u?`,${JSON.stringify(u)}:{`:"",[LO]:o,[a7]:v,[f7]:b,[DO]:C,[zO]:$,[l7]:g,silent:WW,onChild:w,[p7]:E}),Object.setPrototypeOf(t,LW()),zW(t),t[t7](m),t}Vr.exports=gv;Vr.exports.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=qO(e.dest||process.stdout.fd),jO(e)):jO({dest:qO(e),minLength:0});Vr.exports.transport=Zg();Vr.exports.multistream=CO();Vr.exports.levels=BO();Vr.exports.stdSerializers=b7;Vr.exports.stdTimeFunctions=Object.assign({},VO);Vr.exports.symbols=HO;Vr.exports.version=YW;Vr.exports.default=gv;Vr.exports.pino=gv});var Hc=y((aNe,QO)=>{"use strict";var w7=D1(),kf=GO(),{serializersSym:JO}=kf.symbols,{FST_ERR_LOG_INVALID_DESTINATION:x7,FST_ERR_LOG_INVALID_LOGGER:S7}=Jt();function WO(e){if(e.stream&&e.file)throw new x7;e.file&&(e.stream=kf.destination(e.file),delete e.file);let t=e.logger,r=e.genReqId,n=null;return t?(e.logger=void 0,e.genReqId=void 0,t[JO]&&(e.serializers=Object.assign({},e.serializers,t[JO])),n=t.child({},e),e.logger=t,e.genReqId=r):n=kf(e,e.stream),n}var vv={req:function(t){return{method:t.method,url:t.url,version:t.headers&&t.headers["accept-version"],hostname:t.hostname,remoteAddress:t.ip,remotePort:t.socket?t.socket.remotePort:void 0}},err:kf.stdSerializers.err,res:function(t){return{statusCode:t.statusCode}}};function E7(){let e=process.hrtime();return e[0]*1e3+e[1]/1e6}function $7(e){if(!e.logger){let n=w7;return n.child=()=>n,{logger:n,hasLogger:!1}}if(YO(e.logger))return{logger:WO({logger:e.logger,serializers:Object.assign({},vv,e.logger.serializers)}),hasLogger:!0};let t={};return Object.prototype.toString.call(e.logger)==="[object Object]"&&Reflect.ownKeys(e.logger).forEach(n=>{Object.defineProperty(t,n,{value:e.logger[n],writable:!0,enumerable:!0,configurable:!0})}),t.level=t.level||"info",t.serializers=Object.assign({},vv,t.serializers),e.logger=t,{logger:WO(e.logger),hasLogger:!0}}function YO(e,t){let r=["info","error","debug","fatal","warn","trace","child"],n=e?r.filter(s=>!e[s]||typeof e[s]!="function"):r;if(n.length){if(n.length===r.length&&!t)return!1;throw S7(n.join(","))}else return!0}function R7(e,t,r,n,s){let i={[e.requestIdLogLabel]:n},o=e.childLoggerFactory.call(e.server,t,i,s||{},r);return e.childLoggerFactory!==XO&&YO(o,!0),o}function XO(e,t,r){return e.child(t,r)}QO.exports={createLogger:$7,createChildLogger:R7,defaultChildLoggerFactory:XO,serializers:vv,now:E7}});var Nf=y((cNe,ZO)=>{"use strict";ZO.exports=P7;function ta(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function P7(e){if(e=e||{},e.circles)return T7(e);let t=new Map;if(t.set(Date,o=>new Date(o)),t.set(Map,(o,a)=>new Map(n(Array.from(o),a))),t.set(Set,(o,a)=>new Set(n(Array.from(o),a))),e.constructorHandlers)for(let o of e.constructorHandlers)t.set(o[0],o[1]);let r=null;return e.proto?i:s;function n(o,a){let c=Object.keys(o),l=new Array(c.length);for(let u=0;u<c.length;u++){let d=c[u],p=o[d];typeof p!="object"||p===null?l[d]=p:p.constructor!==Object&&(r=t.get(p.constructor))?l[d]=r(p,a):ArrayBuffer.isView(p)?l[d]=ta(p):l[d]=a(p)}return l}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return n(o,s);if(o.constructor!==Object&&(r=t.get(o.constructor)))return r(o,s);let a={};for(let c in o){if(Object.hasOwnProperty.call(o,c)===!1)continue;let l=o[c];typeof l!="object"||l===null?a[c]=l:l.constructor!==Object&&(r=t.get(l.constructor))?a[c]=r(l,s):ArrayBuffer.isView(l)?a[c]=ta(l):a[c]=s(l)}return a}function i(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return n(o,i);if(o.constructor!==Object&&(r=t.get(o.constructor)))return r(o,i);let a={};for(let c in o){let l=o[c];typeof l!="object"||l===null?a[c]=l:l.constructor!==Object&&(r=t.get(l.constructor))?a[c]=r(l,i):ArrayBuffer.isView(l)?a[c]=ta(l):a[c]=i(l)}return a}}function T7(e){let t=[],r=[],n=new Map;if(n.set(Date,c=>new Date(c)),n.set(Map,(c,l)=>new Map(i(Array.from(c),l))),n.set(Set,(c,l)=>new Set(i(Array.from(c),l))),e.constructorHandlers)for(let c of e.constructorHandlers)n.set(c[0],c[1]);let s=null;return e.proto?a:o;function i(c,l){let u=Object.keys(c),d=new Array(u.length);for(let p=0;p<u.length;p++){let m=u[p],f=c[m];if(typeof f!="object"||f===null)d[m]=f;else if(f.constructor!==Object&&(s=n.get(f.constructor)))d[m]=s(f,l);else if(ArrayBuffer.isView(f))d[m]=ta(f);else{let h=t.indexOf(f);h!==-1?d[m]=r[h]:d[m]=l(f)}}return d}function o(c){if(typeof c!="object"||c===null)return c;if(Array.isArray(c))return i(c,o);if(c.constructor!==Object&&(s=n.get(c.constructor)))return s(c,o);let l={};t.push(c),r.push(l);for(let u in c){if(Object.hasOwnProperty.call(c,u)===!1)continue;let d=c[u];if(typeof d!="object"||d===null)l[u]=d;else if(d.constructor!==Object&&(s=n.get(d.constructor)))l[u]=s(d,o);else if(ArrayBuffer.isView(d))l[u]=ta(d);else{let p=t.indexOf(d);p!==-1?l[u]=r[p]:l[u]=o(d)}}return t.pop(),r.pop(),l}function a(c){if(typeof c!="object"||c===null)return c;if(Array.isArray(c))return i(c,a);if(c.constructor!==Object&&(s=n.get(c.constructor)))return s(c,a);let l={};t.push(c),r.push(l);for(let u in c){let d=c[u];if(typeof d!="object"||d===null)l[u]=d;else if(d.constructor!==Object&&(s=n.get(d.constructor)))l[u]=s(d,a);else if(ArrayBuffer.isView(d))l[u]=ta(d);else{let p=t.indexOf(d);p!==-1?l[u]=r[p]:l[u]=a(d)}}return t.pop(),r.pop(),l}}});var Bc=y((uNe,nk)=>{"use strict";var O7=Nf()({circles:!1,proto:!0}),{kSchemaVisited:ek,kSchemaResponse:k7}=At(),bv=Symbol.for("fluent-schema-object"),{FST_ERR_SCH_MISSING_ID:N7,FST_ERR_SCH_ALREADY_PRESENT:A7,FST_ERR_SCH_DUPLICATE:I7,FST_ERR_SCH_CONTENT_MISSING_SCHEMA:C7}=Jt(),rk=["params","body","querystring","query","headers"];function Af(e){this.store=e||{}}Af.prototype.add=function(e){let t=O7(e.isFluentSchema||e.isFluentJSONSchema||e[bv]?e.valueOf():e),r=t.$id;if(!r)throw new N7;if(this.store[r])throw new A7(r);this.store[r]=t};Af.prototype.getSchemas=function(){return Object.assign({},this.store)};Af.prototype.getSchema=function(e){return this.store[e]};function tk(e){return typeof e=="object"&&Object.getPrototypeOf(e)!==Object.prototype}function j7(e,t){if(e[ek])return e;if(e.query){if(e.querystring)throw new I7("querystring");e.querystring=e.query}q7(e);for(let r of rk){let n=e[r];n&&!tk(n)&&(e[r]=_v(n,t.jsonShorthand))}if(e.response){let r=Object.keys(e.response);for(let n of r){if(tk(e.response[n]))continue;let s=e.response[n].content,i=!1;if(s){let o=Object.keys(s);for(let a=0;a<o.length;a++){let c=o[a];if(!s[c].schema){if(o.length===1)break;throw new C7(c)}e.response[n].content[c].schema=_v(s[c].schema,t.jsonShorthand),a===o.length-1&&(i=!0)}}i||(e.response[n]=_v(e.response[n],t.jsonShorthand))}}return e[ek]=!0,e}function q7(e){for(let t of rk)e[t]&&(e[t].isFluentSchema||e[t][bv])&&(e[t]=e[t].valueOf());if(e.response){let t=Object.keys(e.response);for(let r of t)(e.response[r].isFluentSchema||e.response[r][bv])&&(e.response[r]=e.response[r].valueOf())}}function _v(e,t){return!t||e.$ref||e.oneOf||e.allOf||e.anyOf||e.$merge||e.$patch?e:!e.type&&!e.properties?{type:"object",properties:e}:e}function D7(e,t,r){let n=e[k7];if(!n)return!1;if(n[t]){if(n[t].constructor===Object&&r){let i=r.split(";",1)[0];return n[t][i]?n[t][i]:!1}return n[t]}let s=(t+"")[0]+"xx";if(n[s]){if(n[s].constructor===Object&&r){let i=r.split(";",1)[0];return n[s][i]?n[s][i]:!1}return n[s]}if(n.default){if(n.default.constructor===Object&&r){let i=r.split(";",1)[0];return n.default[i]?n.default[i]:!1}return n.default}return!1}nk.exports={buildSchemas(e){return new Af(e)},getSchemaSerializer:D7,normalizeSchema:j7}});var wv=y((lNe,ik)=>{"use strict";var L7=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;ik.exports=class sk{constructor(t){switch(t&&t.rounding){case"floor":this.parseInteger=Math.floor;break;case"ceil":this.parseInteger=Math.ceil;break;case"round":this.parseInteger=Math.round;break;case"trunc":default:this.parseInteger=Math.trunc;break}this._options=t}asInteger(t){if(Number.isInteger(t))return""+t;if(typeof t=="bigint")return t.toString();let r=this.parseInteger(t);if(r===1/0||r===-1/0||r!==r)throw new Error(`The value "${t}" cannot be converted to an integer.`);return""+r}asNumber(t){let r=Number(t);if(r!==r)throw new Error(`The value "${t}" cannot be converted to a number.`);return r===1/0||r===-1/0?"null":""+r}asBoolean(t){return t&&"true"||"false"}asDateTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+t.toISOString()+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date-time.`)}asDate(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,10)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date.`)}asTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(11,19)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a time.`)}asString(t){let r=t.length;if(r<42){let s="",i=-1,o=255;for(var n=0;n<r;n++)if(o=t.charCodeAt(n),o===34||o===92)i===-1&&(i=0),s+=t.slice(i,n)+"\\",i=n;else if(o<32||o>=55296&&o<=57343)return JSON.stringify(t);return i===-1&&'"'+t+'"'||'"'+s+t.slice(i)+'"'}else return r<5e3&&L7.test(t)===!1?'"'+t+'"':JSON.stringify(t)}asUnsafeString(t){return'"'+t+'"'}getState(){return this._options}static restoreFromState(t){return new sk(t)}}});var Jc=y(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.regexpCode=qe.getEsmExportName=qe.getProperty=qe.safeStringify=qe.stringify=qe.strConcat=qe.addCodeArg=qe.str=qe._=qe.nil=qe._Code=qe.Name=qe.IDENTIFIER=qe._CodeOrName=void 0;var Kc=class{};qe._CodeOrName=Kc;qe.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Hi=class extends Kc{constructor(t){if(super(),!qe.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};qe.Name=Hi;var Hr=class extends Kc{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof Hi&&(r[n.str]=(r[n.str]||0)+1),r),{})}};qe._Code=Hr;qe.nil=new Hr("");function ok(e,...t){let r=[e[0]],n=0;for(;n<t.length;)Sv(r,t[n]),r.push(e[++n]);return new Hr(r)}qe._=ok;var xv=new Hr("+");function ak(e,...t){let r=[Gc(e[0])],n=0;for(;n<t.length;)r.push(xv),Sv(r,t[n]),r.push(xv,Gc(e[++n]));return F7(r),new Hr(r)}qe.str=ak;function Sv(e,t){t instanceof Hr?e.push(...t._items):t instanceof Hi?e.push(t):e.push(U7(t))}qe.addCodeArg=Sv;function F7(e){let t=1;for(;t<e.length-1;){if(e[t]===xv){let r=M7(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function M7(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof Hi||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof Hi))return`"${e}${t.slice(1)}`}function z7(e,t){return t.emptyStr()?e:e.emptyStr()?t:ak`${e}${t}`}qe.strConcat=z7;function U7(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:Gc(Array.isArray(e)?e.join(","):e)}function V7(e){return new Hr(Gc(e))}qe.stringify=V7;function Gc(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}qe.safeStringify=Gc;function H7(e){return typeof e=="string"&&qe.IDENTIFIER.test(e)?new Hr(`.${e}`):ok`[${e}]`}qe.getProperty=H7;function B7(e){if(typeof e=="string"&&qe.IDENTIFIER.test(e))return new Hr(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}qe.getEsmExportName=B7;function K7(e){return new Hr(e.toString())}qe.regexpCode=K7});var Rv=y($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.ValueScope=$r.ValueScopeName=$r.Scope=$r.varKinds=$r.UsedValueState=void 0;var Er=Jc(),Ev=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},If;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(If||($r.UsedValueState=If={}));$r.varKinds={const:new Er.Name("const"),let:new Er.Name("let"),var:new Er.Name("var")};var Cf=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Er.Name?t:this.name(t)}name(t){return new Er.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};$r.Scope=Cf;var jf=class extends Er.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,Er._)`.${new Er.Name(r)}[${n}]`}};$r.ValueScopeName=jf;var G7=(0,Er._)`\n`,$v=class extends Cf{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?G7:Er.nil}}get(){return this._scope}name(t){return new jf(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(t),{prefix:i}=s,o=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[i];if(a){let u=a.get(o);if(u)return u}else a=this._values[i]=new Map;a.set(o,s);let c=this._scope[i]||(this._scope[i]=[]),l=c.length;return c[l]=r.ref,s.setValue(r,{property:i,itemIndex:l}),s}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Er._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(t,r,n={},s){let i=Er.nil;for(let o in t){let a=t[o];if(!a)continue;let c=n[o]=n[o]||new Map;a.forEach(l=>{if(c.has(l))return;c.set(l,If.Started);let u=r(l);if(u){let d=this.opts.es5?$r.varKinds.var:$r.varKinds.const;i=(0,Er._)`${i}${d} ${l} = ${u};${this.opts._n}`}else if(u=s?.(l))i=(0,Er._)`${i}${u}${this.opts._n}`;else throw new Ev(l);c.set(l,If.Completed)})}return i}};$r.ValueScope=$v});var me=y(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.or=ge.and=ge.not=ge.CodeGen=ge.operators=ge.varKinds=ge.ValueScopeName=ge.ValueScope=ge.Scope=ge.Name=ge.regexpCode=ge.stringify=ge.getProperty=ge.nil=ge.strConcat=ge.str=ge._=void 0;var Oe=Jc(),yn=Rv(),Ys=Jc();Object.defineProperty(ge,"_",{enumerable:!0,get:function(){return Ys._}});Object.defineProperty(ge,"str",{enumerable:!0,get:function(){return Ys.str}});Object.defineProperty(ge,"strConcat",{enumerable:!0,get:function(){return Ys.strConcat}});Object.defineProperty(ge,"nil",{enumerable:!0,get:function(){return Ys.nil}});Object.defineProperty(ge,"getProperty",{enumerable:!0,get:function(){return Ys.getProperty}});Object.defineProperty(ge,"stringify",{enumerable:!0,get:function(){return Ys.stringify}});Object.defineProperty(ge,"regexpCode",{enumerable:!0,get:function(){return Ys.regexpCode}});Object.defineProperty(ge,"Name",{enumerable:!0,get:function(){return Ys.Name}});var Ff=Rv();Object.defineProperty(ge,"Scope",{enumerable:!0,get:function(){return Ff.Scope}});Object.defineProperty(ge,"ValueScope",{enumerable:!0,get:function(){return Ff.ValueScope}});Object.defineProperty(ge,"ValueScopeName",{enumerable:!0,get:function(){return Ff.ValueScopeName}});Object.defineProperty(ge,"varKinds",{enumerable:!0,get:function(){return Ff.varKinds}});ge.operators={GT:new Oe._Code(">"),GTE:new Oe._Code(">="),LT:new Oe._Code("<"),LTE:new Oe._Code("<="),EQ:new Oe._Code("==="),NEQ:new Oe._Code("!=="),NOT:new Oe._Code("!"),OR:new Oe._Code("||"),AND:new Oe._Code("&&"),ADD:new Oe._Code("+")};var hs=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},Pv=class extends hs{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?yn.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=na(this.rhs,t,r)),this}get names(){return this.rhs instanceof Oe._CodeOrName?this.rhs.names:{}}},qf=class extends hs{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof Oe.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=na(this.rhs,t,r),this}get names(){let t=this.lhs instanceof Oe.Name?{}:{...this.lhs.names};return Lf(t,this.rhs)}},Tv=class extends qf{constructor(t,r,n,s){super(t,n,s),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},Ov=class extends hs{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},kv=class extends hs{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},Nv=class extends hs{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},Av=class extends hs{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=na(this.code,t,r),this}get names(){return this.code instanceof Oe._CodeOrName?this.code.names:{}}},Wc=class extends hs{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(t,r)||(J7(t,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>Gi(t,r.names),{})}},ys=class extends Wc{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},Iv=class extends Wc{},ra=class extends ys{};ra.kind="else";var Bi=class e extends ys{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new ra(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(ck(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=na(this.condition,t,r),this}get names(){let t=super.names;return Lf(t,this.condition),this.else&&Gi(t,this.else.names),t}};Bi.kind="if";var Ki=class extends ys{};Ki.kind="for";var Cv=class extends Ki{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=na(this.iteration,t,r),this}get names(){return Gi(super.names,this.iteration.names)}},jv=class extends Ki{constructor(t,r,n,s){super(),this.varKind=t,this.name=r,this.from=n,this.to=s}render(t){let r=t.es5?yn.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${r} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(t)}get names(){let t=Lf(super.names,this.from);return Lf(t,this.to)}},Df=class extends Ki{constructor(t,r,n,s){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=s}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=na(this.iterable,t,r),this}get names(){return Gi(super.names,this.iterable.names)}},Yc=class extends ys{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};Yc.kind="func";var Xc=class extends Wc{render(t){return"return "+super.render(t)}};Xc.kind="return";var qv=class extends ys{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,s;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(s=this.finally)===null||s===void 0||s.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&Gi(t,this.catch.names),this.finally&&Gi(t,this.finally.names),t}},Qc=class extends ys{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};Qc.kind="catch";var Zc=class extends ys{render(t){return"finally"+super.render(t)}};Zc.kind="finally";var Dv=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new yn.Scope({parent:t}),this._nodes=[new Iv]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,s){let i=this._scope.toName(r);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new Pv(t,i,n)),i}const(t,r,n){return this._def(yn.varKinds.const,t,r,n)}let(t,r,n){return this._def(yn.varKinds.let,t,r,n)}var(t,r,n){return this._def(yn.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new qf(t,r,n))}add(t,r){return this._leafNode(new Tv(t,ge.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==Oe.nil&&this._leafNode(new Av(t)),this}object(...t){let r=["{"];for(let[n,s]of t)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,Oe.addCodeArg)(r,s));return r.push("}"),new Oe._Code(r)}if(t,r,n){if(this._blockNode(new Bi(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new Bi(t))}else(){return this._elseNode(new ra)}endIf(){return this._endBlockNode(Bi,ra)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new Cv(t),r)}forRange(t,r,n,s,i=this.opts.es5?yn.varKinds.var:yn.varKinds.let){let o=this._scope.toName(t);return this._for(new jv(i,o,r,n),()=>s(o))}forOf(t,r,n,s=yn.varKinds.const){let i=this._scope.toName(t);if(this.opts.es5){let o=r instanceof Oe.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,Oe._)`${o}.length`,a=>{this.var(i,(0,Oe._)`${o}[${a}]`),n(i)})}return this._for(new Df("of",s,i,r),()=>n(i))}forIn(t,r,n,s=this.opts.es5?yn.varKinds.var:yn.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,Oe._)`Object.keys(${r})`,n);let i=this._scope.toName(t);return this._for(new Df("in",s,i,r),()=>n(i))}endFor(){return this._endBlockNode(Ki)}label(t){return this._leafNode(new Ov(t))}break(t){return this._leafNode(new kv(t))}return(t){let r=new Xc;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Xc)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new qv;if(this._blockNode(s),this.code(t),r){let i=this.name("e");this._currNode=s.catch=new Qc(i),r(i)}return n&&(this._currNode=s.finally=new Zc,this.code(n)),this._endBlockNode(Qc,Zc)}throw(t){return this._leafNode(new Nv(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=Oe.nil,n,s){return this._blockNode(new Yc(t,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Yc)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof Bi))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};ge.CodeGen=Dv;function Gi(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function Lf(e,t){return t instanceof Oe._CodeOrName?Gi(e,t.names):e}function na(e,t,r){if(e instanceof Oe.Name)return n(e);if(!s(e))return e;return new Oe._Code(e._items.reduce((i,o)=>(o instanceof Oe.Name&&(o=n(o)),o instanceof Oe._Code?i.push(...o._items):i.push(o),i),[]));function n(i){let o=r[i.str];return o===void 0||t[i.str]!==1?i:(delete t[i.str],o)}function s(i){return i instanceof Oe._Code&&i._items.some(o=>o instanceof Oe.Name&&t[o.str]===1&&r[o.str]!==void 0)}}function J7(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function ck(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,Oe._)`!${Lv(e)}`}ge.not=ck;var W7=uk(ge.operators.AND);function Y7(...e){return e.reduce(W7)}ge.and=Y7;var X7=uk(ge.operators.OR);function Q7(...e){return e.reduce(X7)}ge.or=Q7;function uk(e){return(t,r)=>t===Oe.nil?r:r===Oe.nil?t:(0,Oe._)`${Lv(t)} ${e} ${Lv(r)}`}function Lv(e){return e instanceof Oe.Name?e:(0,Oe._)`(${e})`}});var De=y(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.checkStrictMode=we.getErrorPath=we.Type=we.useFunc=we.setEvaluated=we.evaluatedPropsToName=we.mergeEvaluated=we.eachItem=we.unescapeJsonPointer=we.escapeJsonPointer=we.escapeFragment=we.unescapeFragment=we.schemaRefOrVal=we.schemaHasRulesButRef=we.schemaHasRules=we.checkUnknownRules=we.alwaysValidSchema=we.toHash=void 0;var Je=me(),Z7=Jc();function eY(e){let t={};for(let r of e)t[r]=!0;return t}we.toHash=eY;function tY(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(fk(e,t),!pk(t,e.self.RULES.all))}we.alwaysValidSchema=tY;function fk(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let s=n.RULES.keywords;for(let i in t)s[i]||yk(e,`unknown keyword: "${i}"`)}we.checkUnknownRules=fk;function pk(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}we.schemaHasRules=pk;function rY(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}we.schemaHasRulesButRef=rY;function nY({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Je._)`${r}`}return(0,Je._)`${e}${t}${(0,Je.getProperty)(n)}`}we.schemaRefOrVal=nY;function sY(e){return mk(decodeURIComponent(e))}we.unescapeFragment=sY;function iY(e){return encodeURIComponent(Mv(e))}we.escapeFragment=iY;function Mv(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}we.escapeJsonPointer=Mv;function mk(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}we.unescapeJsonPointer=mk;function oY(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}we.eachItem=oY;function lk({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,i,o,a)=>{let c=o===void 0?i:o instanceof Je.Name?(i instanceof Je.Name?e(s,i,o):t(s,i,o),o):i instanceof Je.Name?(t(s,o,i),i):r(i,o);return a===Je.Name&&!(c instanceof Je.Name)?n(s,c):c}}we.mergeEvaluated={props:lk({mergeNames:(e,t,r)=>e.if((0,Je._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Je._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Je._)`${r} || {}`).code((0,Je._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Je._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Je._)`${r} || {}`),zv(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:hk}),items:lk({mergeNames:(e,t,r)=>e.if((0,Je._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Je._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Je._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Je._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function hk(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,Je._)`{}`);return t!==void 0&&zv(e,r,t),r}we.evaluatedPropsToName=hk;function zv(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Je._)`${t}${(0,Je.getProperty)(n)}`,!0))}we.setEvaluated=zv;var dk={};function aY(e,t){return e.scopeValue("func",{ref:t,code:dk[t.code]||(dk[t.code]=new Z7._Code(t.code))})}we.useFunc=aY;var Fv;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Fv||(we.Type=Fv={}));function cY(e,t,r){if(e instanceof Je.Name){let n=t===Fv.Num;return r?n?(0,Je._)`"[" + ${e} + "]"`:(0,Je._)`"['" + ${e} + "']"`:n?(0,Je._)`"/" + ${e}`:(0,Je._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Je.getProperty)(e).toString():"/"+Mv(e)}we.getErrorPath=cY;function yk(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}we.checkStrictMode=yk});var gs=y(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});var Yt=me(),uY={data:new Yt.Name("data"),valCxt:new Yt.Name("valCxt"),instancePath:new Yt.Name("instancePath"),parentData:new Yt.Name("parentData"),parentDataProperty:new Yt.Name("parentDataProperty"),rootData:new Yt.Name("rootData"),dynamicAnchors:new Yt.Name("dynamicAnchors"),vErrors:new Yt.Name("vErrors"),errors:new Yt.Name("errors"),this:new Yt.Name("this"),self:new Yt.Name("self"),scope:new Yt.Name("scope"),json:new Yt.Name("json"),jsonPos:new Yt.Name("jsonPos"),jsonLen:new Yt.Name("jsonLen"),jsonPart:new Yt.Name("jsonPart")};Uv.default=uY});var eu=y(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.extendErrors=Xt.resetErrorsCount=Xt.reportExtraError=Xt.reportError=Xt.keyword$DataError=Xt.keywordError=void 0;var Ae=me(),Mf=De(),dr=gs();Xt.keywordError={message:({keyword:e})=>(0,Ae.str)`must pass "${e}" keyword validation`};Xt.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Ae.str)`"${e}" keyword must be ${t} ($data)`:(0,Ae.str)`"${e}" keyword is invalid ($data)`};function lY(e,t=Xt.keywordError,r,n){let{it:s}=e,{gen:i,compositeRule:o,allErrors:a}=s,c=_k(e,t,r);n??(o||a)?gk(i,c):vk(s,(0,Ae._)`[${c}]`)}Xt.reportError=lY;function dY(e,t=Xt.keywordError,r){let{it:n}=e,{gen:s,compositeRule:i,allErrors:o}=n,a=_k(e,t,r);gk(s,a),i||o||vk(n,dr.default.vErrors)}Xt.reportExtraError=dY;function fY(e,t){e.assign(dr.default.errors,t),e.if((0,Ae._)`${dr.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Ae._)`${dr.default.vErrors}.length`,t),()=>e.assign(dr.default.vErrors,null)))}Xt.resetErrorsCount=fY;function pY({gen:e,keyword:t,schemaValue:r,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let o=e.name("err");e.forRange("i",s,dr.default.errors,a=>{e.const(o,(0,Ae._)`${dr.default.vErrors}[${a}]`),e.if((0,Ae._)`${o}.instancePath === undefined`,()=>e.assign((0,Ae._)`${o}.instancePath`,(0,Ae.strConcat)(dr.default.instancePath,i.errorPath))),e.assign((0,Ae._)`${o}.schemaPath`,(0,Ae.str)`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign((0,Ae._)`${o}.schema`,r),e.assign((0,Ae._)`${o}.data`,n))})}Xt.extendErrors=pY;function gk(e,t){let r=e.const("err",t);e.if((0,Ae._)`${dr.default.vErrors} === null`,()=>e.assign(dr.default.vErrors,(0,Ae._)`[${r}]`),(0,Ae._)`${dr.default.vErrors}.push(${r})`),e.code((0,Ae._)`${dr.default.errors}++`)}function vk(e,t){let{gen:r,validateName:n,schemaEnv:s}=e;s.$async?r.throw((0,Ae._)`new ${e.ValidationError}(${t})`):(r.assign((0,Ae._)`${n}.errors`,t),r.return(!1))}var Ji={keyword:new Ae.Name("keyword"),schemaPath:new Ae.Name("schemaPath"),params:new Ae.Name("params"),propertyName:new Ae.Name("propertyName"),message:new Ae.Name("message"),schema:new Ae.Name("schema"),parentSchema:new Ae.Name("parentSchema")};function _k(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Ae._)`{}`:mY(e,t,r)}function mY(e,t,r={}){let{gen:n,it:s}=e,i=[hY(s,r),yY(e,r)];return gY(e,t,i),n.object(...i)}function hY({errorPath:e},{instancePath:t}){let r=t?(0,Ae.str)`${e}${(0,Mf.getErrorPath)(t,Mf.Type.Str)}`:e;return[dr.default.instancePath,(0,Ae.strConcat)(dr.default.instancePath,r)]}function yY({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let s=n?t:(0,Ae.str)`${t}/${e}`;return r&&(s=(0,Ae.str)`${s}${(0,Mf.getErrorPath)(r,Mf.Type.Str)}`),[Ji.schemaPath,s]}function gY(e,{params:t,message:r},n){let{keyword:s,data:i,schemaValue:o,it:a}=e,{opts:c,propertyName:l,topSchemaRef:u,schemaPath:d}=a;n.push([Ji.keyword,s],[Ji.params,typeof t=="function"?t(e):t||(0,Ae._)`{}`]),c.messages&&n.push([Ji.message,typeof r=="function"?r(e):r]),c.verbose&&n.push([Ji.schema,o],[Ji.parentSchema,(0,Ae._)`${u}${d}`],[dr.default.data,i]),l&&n.push([Ji.propertyName,l])}});var wk=y(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.boolOrEmptySchema=sa.topBoolOrEmptySchema=void 0;var vY=eu(),_Y=me(),bY=gs(),wY={message:"boolean schema is false"};function xY(e){let{gen:t,schema:r,validateName:n}=e;r===!1?bk(e,!1):typeof r=="object"&&r.$async===!0?t.return(bY.default.data):(t.assign((0,_Y._)`${n}.errors`,null),t.return(!0))}sa.topBoolOrEmptySchema=xY;function SY(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),bk(e)):r.var(t,!0)}sa.boolOrEmptySchema=SY;function bk(e,t){let{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,vY.reportError)(s,wY,void 0,t)}});var Vv=y(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.getRules=ia.isJSONType=void 0;var EY=["string","number","integer","boolean","null","object","array"],$Y=new Set(EY);function RY(e){return typeof e=="string"&&$Y.has(e)}ia.isJSONType=RY;function PY(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ia.getRules=PY});var Hv=y(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.shouldUseRule=Xs.shouldUseGroup=Xs.schemaHasRulesForType=void 0;function TY({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&xk(e,n)}Xs.schemaHasRulesForType=TY;function xk(e,t){return t.rules.some(r=>Sk(e,r))}Xs.shouldUseGroup=xk;function Sk(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Xs.shouldUseRule=Sk});var tu=y(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.reportTypeError=Qt.checkDataTypes=Qt.checkDataType=Qt.coerceAndCheckDataType=Qt.getJSONTypes=Qt.getSchemaTypes=Qt.DataType=void 0;var OY=Vv(),kY=Hv(),NY=eu(),le=me(),Ek=De(),oa;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(oa||(Qt.DataType=oa={}));function AY(e){let t=$k(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Qt.getSchemaTypes=AY;function $k(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(OY.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Qt.getJSONTypes=$k;function IY(e,t){let{gen:r,data:n,opts:s}=e,i=CY(t,s.coerceTypes),o=t.length>0&&!(i.length===0&&t.length===1&&(0,kY.schemaHasRulesForType)(e,t[0]));if(o){let a=Kv(t,n,s.strictNumbers,oa.Wrong);r.if(a,()=>{i.length?jY(e,t,i):Gv(e)})}return o}Qt.coerceAndCheckDataType=IY;var Rk=new Set(["string","number","integer","boolean","null"]);function CY(e,t){return t?e.filter(r=>Rk.has(r)||t==="array"&&r==="array"):[]}function jY(e,t,r){let{gen:n,data:s,opts:i}=e,o=n.let("dataType",(0,le._)`typeof ${s}`),a=n.let("coerced",(0,le._)`undefined`);i.coerceTypes==="array"&&n.if((0,le._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,le._)`${s}[0]`).assign(o,(0,le._)`typeof ${s}`).if(Kv(t,s,i.strictNumbers),()=>n.assign(a,s))),n.if((0,le._)`${a} !== undefined`);for(let l of r)(Rk.has(l)||l==="array"&&i.coerceTypes==="array")&&c(l);n.else(),Gv(e),n.endIf(),n.if((0,le._)`${a} !== undefined`,()=>{n.assign(s,a),qY(e,a)});function c(l){switch(l){case"string":n.elseIf((0,le._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,le._)`"" + ${s}`).elseIf((0,le._)`${s} === null`).assign(a,(0,le._)`""`);return;case"number":n.elseIf((0,le._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(a,(0,le._)`+${s}`);return;case"integer":n.elseIf((0,le._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(a,(0,le._)`+${s}`);return;case"boolean":n.elseIf((0,le._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(a,!1).elseIf((0,le._)`${s} === "true" || ${s} === 1`).assign(a,!0);return;case"null":n.elseIf((0,le._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(a,null);return;case"array":n.elseIf((0,le._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(a,(0,le._)`[${s}]`)}}}function qY({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,le._)`${t} !== undefined`,()=>e.assign((0,le._)`${t}[${r}]`,n))}function Bv(e,t,r,n=oa.Correct){let s=n===oa.Correct?le.operators.EQ:le.operators.NEQ,i;switch(e){case"null":return(0,le._)`${t} ${s} null`;case"array":i=(0,le._)`Array.isArray(${t})`;break;case"object":i=(0,le._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=o((0,le._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=o();break;default:return(0,le._)`typeof ${t} ${s} ${e}`}return n===oa.Correct?i:(0,le.not)(i);function o(a=le.nil){return(0,le.and)((0,le._)`typeof ${t} == "number"`,a,r?(0,le._)`isFinite(${t})`:le.nil)}}Qt.checkDataType=Bv;function Kv(e,t,r,n){if(e.length===1)return Bv(e[0],t,r,n);let s,i=(0,Ek.toHash)(e);if(i.array&&i.object){let o=(0,le._)`typeof ${t} != "object"`;s=i.null?o:(0,le._)`!${t} || ${o}`,delete i.null,delete i.array,delete i.object}else s=le.nil;i.number&&delete i.integer;for(let o in i)s=(0,le.and)(s,Bv(o,t,r,n));return s}Qt.checkDataTypes=Kv;var DY={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,le._)`{type: ${e}}`:(0,le._)`{type: ${t}}`};function Gv(e){let t=LY(e);(0,NY.reportError)(t,DY)}Qt.reportTypeError=Gv;function LY(e){let{gen:t,data:r,schema:n}=e,s=(0,Ek.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}});var Tk=y(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.assignDefaults=void 0;var aa=me(),FY=De();function MY(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let s in r)Pk(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>Pk(e,i,s.default))}zf.assignDefaults=MY;function Pk(e,t,r){let{gen:n,compositeRule:s,data:i,opts:o}=e;if(r===void 0)return;let a=(0,aa._)`${i}${(0,aa.getProperty)(t)}`;if(s){(0,FY.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,aa._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,aa._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,aa._)`${a} = ${(0,aa.stringify)(r)}`)}});var Br=y(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.validateUnion=Be.validateArray=Be.usePattern=Be.callValidateCode=Be.schemaProperties=Be.allSchemaProperties=Be.noPropertyInData=Be.propertyInData=Be.isOwnProperty=Be.hasPropFunc=Be.reportMissingProp=Be.checkMissingProp=Be.checkReportMissingProp=void 0;var rt=me(),Jv=De(),Qs=gs(),zY=De();function UY(e,t){let{gen:r,data:n,it:s}=e;r.if(Yv(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,rt._)`${t}`},!0),e.error()})}Be.checkReportMissingProp=UY;function VY({gen:e,data:t,it:{opts:r}},n,s){return(0,rt.or)(...n.map(i=>(0,rt.and)(Yv(e,t,i,r.ownProperties),(0,rt._)`${s} = ${i}`)))}Be.checkMissingProp=VY;function HY(e,t){e.setParams({missingProperty:t},!0),e.error()}Be.reportMissingProp=HY;function Ok(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,rt._)`Object.prototype.hasOwnProperty`})}Be.hasPropFunc=Ok;function Wv(e,t,r){return(0,rt._)`${Ok(e)}.call(${t}, ${r})`}Be.isOwnProperty=Wv;function BY(e,t,r,n){let s=(0,rt._)`${t}${(0,rt.getProperty)(r)} !== undefined`;return n?(0,rt._)`${s} && ${Wv(e,t,r)}`:s}Be.propertyInData=BY;function Yv(e,t,r,n){let s=(0,rt._)`${t}${(0,rt.getProperty)(r)} === undefined`;return n?(0,rt.or)(s,(0,rt.not)(Wv(e,t,r))):s}Be.noPropertyInData=Yv;function kk(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Be.allSchemaProperties=kk;function KY(e,t){return kk(t).filter(r=>!(0,Jv.alwaysValidSchema)(e,t[r]))}Be.schemaProperties=KY;function GY({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:o},a,c,l){let u=l?(0,rt._)`${e}, ${t}, ${n}${s}`:t,d=[[Qs.default.instancePath,(0,rt.strConcat)(Qs.default.instancePath,i)],[Qs.default.parentData,o.parentData],[Qs.default.parentDataProperty,o.parentDataProperty],[Qs.default.rootData,Qs.default.rootData]];o.opts.dynamicRef&&d.push([Qs.default.dynamicAnchors,Qs.default.dynamicAnchors]);let p=(0,rt._)`${u}, ${r.object(...d)}`;return c!==rt.nil?(0,rt._)`${a}.call(${c}, ${p})`:(0,rt._)`${a}(${p})`}Be.callValidateCode=GY;var JY=(0,rt._)`new RegExp`;function WY({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,rt._)`${s.code==="new RegExp"?JY:(0,zY.useFunc)(e,s)}(${r}, ${n})`})}Be.usePattern=WY;function YY(e){let{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){let a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(i,!0),o(()=>t.break()),i;function o(a){let c=t.const("len",(0,rt._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:Jv.Type.Num},i),t.if((0,rt.not)(i),a)})}}Be.validateArray=YY;function XY(e){let{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Jv.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;let o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,l)=>{let u=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,rt._)`${o} || ${a}`),e.mergeValidEvaluated(u,a)||t.if((0,rt.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Be.validateUnion=XY});var Ik=y(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.validateKeywordUsage=Fn.validSchemaType=Fn.funcKeywordCode=Fn.macroKeywordCode=void 0;var fr=me(),Wi=gs(),QY=Br(),ZY=eu();function eX(e,t){let{gen:r,keyword:n,schema:s,parentSchema:i,it:o}=e,a=t.macro.call(o.self,s,i,o),c=Ak(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let l=r.name("valid");e.subschema({schema:a,schemaPath:fr.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Fn.macroKeywordCode=eX;function tX(e,t){var r;let{gen:n,keyword:s,schema:i,parentSchema:o,$data:a,it:c}=e;nX(c,t);let l=!a&&t.compile?t.compile.call(c.self,i,o,c):t.validate,u=Ak(n,s,l),d=n.let("valid");e.block$data(d,p),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function p(){if(t.errors===!1)h(),t.modifying&&Nk(e),v(()=>e.error());else{let b=t.async?m():f();t.modifying&&Nk(e),v(()=>rX(e,b))}}function m(){let b=n.let("ruleErrs",null);return n.try(()=>h((0,fr._)`await `),S=>n.assign(d,!1).if((0,fr._)`${S} instanceof ${c.ValidationError}`,()=>n.assign(b,(0,fr._)`${S}.errors`),()=>n.throw(S))),b}function f(){let b=(0,fr._)`${u}.errors`;return n.assign(b,null),h(fr.nil),b}function h(b=t.async?(0,fr._)`await `:fr.nil){let S=c.opts.passContext?Wi.default.this:Wi.default.self,_=!("compile"in t&&!a||t.schema===!1);n.assign(d,(0,fr._)`${b}${(0,QY.callValidateCode)(e,u,S,_)}`,t.modifying)}function v(b){var S;n.if((0,fr.not)((S=t.valid)!==null&&S!==void 0?S:d),b)}}Fn.funcKeywordCode=tX;function Nk(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,fr._)`${n.parentData}[${n.parentDataProperty}]`))}function rX(e,t){let{gen:r}=e;r.if((0,fr._)`Array.isArray(${t})`,()=>{r.assign(Wi.default.vErrors,(0,fr._)`${Wi.default.vErrors} === null ? ${t} : ${Wi.default.vErrors}.concat(${t})`).assign(Wi.default.errors,(0,fr._)`${Wi.default.vErrors}.length`),(0,ZY.extendErrors)(e)},()=>e.error())}function nX({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Ak(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,fr.stringify)(r)})}function sX(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Fn.validSchemaType=sX;function iX({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let o=s.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Fn.validateKeywordUsage=iX});var jk=y(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.extendSubschemaMode=Zs.extendSubschemaData=Zs.getSubschema=void 0;var Mn=me(),Ck=De();function oX(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Mn._)`${e.schemaPath}${(0,Mn.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Mn._)`${e.schemaPath}${(0,Mn.getProperty)(t)}${(0,Mn.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Ck.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Zs.getSubschema=oX;function aX(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=t;if(r!==void 0){let{errorPath:l,dataPathArr:u,opts:d}=t,p=a.let("data",(0,Mn._)`${t.data}${(0,Mn.getProperty)(r)}`,!0);c(p),e.errorPath=(0,Mn.str)`${l}${(0,Ck.getErrorPath)(r,n,d.jsPropertySyntax)}`,e.parentDataProperty=(0,Mn._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(s!==void 0){let l=s instanceof Mn.Name?s:a.let("data",s,!0);c(l),o!==void 0&&(e.propertyName=o)}i&&(e.dataTypes=i);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Zs.extendSubschemaData=aX;function cX(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}Zs.extendSubschemaMode=cX});var Kr=y(($Ne,qk)=>{"use strict";qk.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}});var Lk=y((RNe,Dk)=>{"use strict";var ei=Dk.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Uf(t,n,s,e,"",e)};ei.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ei.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ei.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ei.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Uf(e,t,r,n,s,i,o,a,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,o,a,c,l);for(var u in n){var d=n[u];if(Array.isArray(d)){if(u in ei.arrayKeywords)for(var p=0;p<d.length;p++)Uf(e,t,r,d[p],s+"/"+u+"/"+p,i,s,u,n,p)}else if(u in ei.propsKeywords){if(d&&typeof d=="object")for(var m in d)Uf(e,t,r,d[m],s+"/"+u+"/"+uX(m),i,s,u,n,m)}else(u in ei.keywords||e.allKeys&&!(u in ei.skipKeywords))&&Uf(e,t,r,d,s+"/"+u,i,s,u,n)}r(n,s,i,o,a,c,l)}}function uX(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var ru=y(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.getSchemaRefs=Rr.resolveUrl=Rr.normalizeId=Rr._getFullPath=Rr.getFullPath=Rr.inlineRef=void 0;var lX=De(),dX=Kr(),fX=Lk(),pX=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function mX(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Xv(e):t?Fk(e)<=t:!1}Rr.inlineRef=mX;var hX=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Xv(e){for(let t in e){if(hX.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(Xv)||typeof r=="object"&&Xv(r))return!0}return!1}function Fk(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!pX.has(r)&&(typeof e[r]=="object"&&(0,lX.eachItem)(e[r],n=>t+=Fk(n)),t===1/0))return 1/0}return t}function Mk(e,t="",r){r!==!1&&(t=ca(t));let n=e.parse(t);return zk(e,n)}Rr.getFullPath=Mk;function zk(e,t){return e.serialize(t).split("#")[0]+"#"}Rr._getFullPath=zk;var yX=/#\/?$/;function ca(e){return e?e.replace(yX,""):""}Rr.normalizeId=ca;function gX(e,t,r){return r=ca(r),e.resolve(t,r)}Rr.resolveUrl=gX;var vX=/^[a-z_][-a-z0-9._]*$/i;function _X(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=ca(e[r]||t),i={"":s},o=Mk(n,s,!1),a={},c=new Set;return fX(e,{allKeys:!0},(d,p,m,f)=>{if(f===void 0)return;let h=o+p,v=i[f];typeof d[r]=="string"&&(v=b.call(this,d[r])),S.call(this,d.$anchor),S.call(this,d.$dynamicAnchor),i[p]=v;function b(_){let g=this.opts.uriResolver.resolve;if(_=ca(v?g(v,_):_),c.has(_))throw u(_);c.add(_);let x=this.refs[_];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?l(d,x.schema,_):_!==ca(h)&&(_[0]==="#"?(l(d,a[_],_),a[_]=d):this.refs[_]=h),_}function S(_){if(typeof _=="string"){if(!vX.test(_))throw new Error(`invalid anchor "${_}"`);b.call(this,`#${_}`)}}}),a;function l(d,p,m){if(p!==void 0&&!dX(d,p))throw u(m)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Rr.getSchemaRefs=_X});var iu=y(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.getData=ti.KeywordCxt=ti.validateFunctionCode=void 0;var Kk=wk(),Uk=tu(),Zv=Hv(),Vf=tu(),bX=Tk(),su=Ik(),Qv=jk(),J=me(),ie=gs(),wX=ru(),vs=De(),nu=eu();function xX(e){if(Wk(e)&&(Yk(e),Jk(e))){$X(e);return}Gk(e,()=>(0,Kk.topBoolOrEmptySchema)(e))}ti.validateFunctionCode=xX;function Gk({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,J._)`${ie.default.data}, ${ie.default.valCxt}`,n.$async,()=>{e.code((0,J._)`"use strict"; ${Vk(r,s)}`),EX(e,s),e.code(i)}):e.func(t,(0,J._)`${ie.default.data}, ${SX(s)}`,n.$async,()=>e.code(Vk(r,s)).code(i))}function SX(e){return(0,J._)`{${ie.default.instancePath}="", ${ie.default.parentData}, ${ie.default.parentDataProperty}, ${ie.default.rootData}=${ie.default.data}${e.dynamicRef?(0,J._)`, ${ie.default.dynamicAnchors}={}`:J.nil}}={}`}function EX(e,t){e.if(ie.default.valCxt,()=>{e.var(ie.default.instancePath,(0,J._)`${ie.default.valCxt}.${ie.default.instancePath}`),e.var(ie.default.parentData,(0,J._)`${ie.default.valCxt}.${ie.default.parentData}`),e.var(ie.default.parentDataProperty,(0,J._)`${ie.default.valCxt}.${ie.default.parentDataProperty}`),e.var(ie.default.rootData,(0,J._)`${ie.default.valCxt}.${ie.default.rootData}`),t.dynamicRef&&e.var(ie.default.dynamicAnchors,(0,J._)`${ie.default.valCxt}.${ie.default.dynamicAnchors}`)},()=>{e.var(ie.default.instancePath,(0,J._)`""`),e.var(ie.default.parentData,(0,J._)`undefined`),e.var(ie.default.parentDataProperty,(0,J._)`undefined`),e.var(ie.default.rootData,ie.default.data),t.dynamicRef&&e.var(ie.default.dynamicAnchors,(0,J._)`{}`)})}function $X(e){let{schema:t,opts:r,gen:n}=e;Gk(e,()=>{r.$comment&&t.$comment&&Qk(e),kX(e),n.let(ie.default.vErrors,null),n.let(ie.default.errors,0),r.unevaluated&&RX(e),Xk(e),IX(e)})}function RX(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,J._)`${r}.evaluated`),t.if((0,J._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,J._)`${e.evaluated}.props`,(0,J._)`undefined`)),t.if((0,J._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,J._)`${e.evaluated}.items`,(0,J._)`undefined`))}function Vk(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,J._)`/*# sourceURL=${r} */`:J.nil}function PX(e,t){if(Wk(e)&&(Yk(e),Jk(e))){TX(e,t);return}(0,Kk.boolOrEmptySchema)(e,t)}function Jk({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function Wk(e){return typeof e.schema!="boolean"}function TX(e,t){let{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&Qk(e),NX(e),AX(e);let i=n.const("_errs",ie.default.errors);Xk(e,i),n.var(t,(0,J._)`${i} === ${ie.default.errors}`)}function Yk(e){(0,vs.checkUnknownRules)(e),OX(e)}function Xk(e,t){if(e.opts.jtd)return Hk(e,[],!1,t);let r=(0,Uk.getSchemaTypes)(e.schema),n=(0,Uk.coerceAndCheckDataType)(e,r);Hk(e,r,!n,t)}function OX(e){let{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,vs.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function kX(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,vs.checkStrictMode)(e,"default is ignored in the schema root")}function NX(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,wX.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function AX(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Qk({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){let i=r.$comment;if(s.$comment===!0)e.code((0,J._)`${ie.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let o=(0,J.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,J._)`${ie.default.self}.opts.$comment(${i}, ${o}, ${a}.schema)`)}}function IX(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,J._)`${ie.default.errors} === 0`,()=>t.return(ie.default.data),()=>t.throw((0,J._)`new ${s}(${ie.default.vErrors})`)):(t.assign((0,J._)`${n}.errors`,ie.default.vErrors),i.unevaluated&&CX(e),t.return((0,J._)`${ie.default.errors} === 0`))}function CX({gen:e,evaluated:t,props:r,items:n}){r instanceof J.Name&&e.assign((0,J._)`${t}.props`,r),n instanceof J.Name&&e.assign((0,J._)`${t}.items`,n)}function Hk(e,t,r,n){let{gen:s,schema:i,data:o,allErrors:a,opts:c,self:l}=e,{RULES:u}=l;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,vs.schemaHasRulesButRef)(i,u))){s.block(()=>eN(e,"$ref",u.all.$ref.definition));return}c.jtd||jX(e,t),s.block(()=>{for(let p of u.rules)d(p);d(u.post)});function d(p){(0,Zv.shouldUseGroup)(i,p)&&(p.type?(s.if((0,Vf.checkDataType)(p.type,o,c.strictNumbers)),Bk(e,p),t.length===1&&t[0]===p.type&&r&&(s.else(),(0,Vf.reportTypeError)(e)),s.endIf()):Bk(e,p),a||s.if((0,J._)`${ie.default.errors} === ${n||0}`))}}function Bk(e,t){let{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,bX.assignDefaults)(e,t.type),r.block(()=>{for(let i of t.rules)(0,Zv.shouldUseRule)(n,i)&&eN(e,i.keyword,i.definition,t.type)})}function jX(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(qX(e,t),e.opts.allowUnionTypes||DX(e,t),LX(e,e.dataTypes))}function qX(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Zk(e.dataTypes,r)||e_(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),MX(e,t)}}function DX(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&e_(e,"use allowUnionTypes to allow union type keyword")}function LX(e,t){let r=e.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,Zv.shouldUseRule)(e.schema,s)){let{type:i}=s.definition;i.length&&!i.some(o=>FX(t,o))&&e_(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function FX(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Zk(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function MX(e,t){let r=[];for(let n of e.dataTypes)Zk(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function e_(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,vs.checkStrictMode)(e,t,e.opts.strictTypes)}var Hf=class{constructor(t,r,n){if((0,su.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,vs.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",tN(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,su.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ie.default.errors))}result(t,r,n){this.failResult((0,J.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,J.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,J._)`${r} !== undefined && (${(0,J.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?nu.reportExtraError:nu.reportError)(this,this.def.error,r)}$dataError(){(0,nu.reportError)(this,this.def.$dataError||nu.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,nu.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=J.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=J.nil,r=J.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:o}=this;n.if((0,J.or)((0,J._)`${s} === undefined`,r)),t!==J.nil&&n.assign(t,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==J.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,J.or)(o(),a());function o(){if(n.length){if(!(r instanceof J.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,J._)`${(0,Vf.checkDataTypes)(c,r,i.opts.strictNumbers,Vf.DataType.Wrong)}`}return J.nil}function a(){if(s.validateSchema){let c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,J._)`!${c}(${r})`}return J.nil}}subschema(t,r){let n=(0,Qv.getSubschema)(this.it,t);(0,Qv.extendSubschemaData)(n,this.it,t),(0,Qv.extendSubschemaMode)(n,t);let s={...this.it,...n,items:void 0,props:void 0};return PX(s,r),s}mergeEvaluated(t,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=vs.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=vs.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,J.Name)),!0}};ti.KeywordCxt=Hf;function eN(e,t,r,n){let s=new Hf(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,su.funcKeywordCode)(s,r):"macro"in r?(0,su.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,su.funcKeywordCode)(s,r)}var zX=/^\/(?:[^~]|~0|~1)*$/,UX=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function tN(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return ie.default.rootData;if(e[0]==="/"){if(!zX.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=ie.default.rootData}else{let l=UX.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);let u=+l[1];if(s=l[2],s==="#"){if(u>=t)throw new Error(c("property/index",u));return n[t-u]}if(u>t)throw new Error(c("data",u));if(i=r[t-u],!s)return i}let o=i,a=s.split("/");for(let l of a)l&&(i=(0,J._)`${i}${(0,J.getProperty)((0,vs.unescapeJsonPointer)(l))}`,o=(0,J._)`${o} && ${i}`);return o;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${t}`}}ti.getData=tN});var Bf=y(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});var t_=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};r_.default=t_});var ou=y(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});var n_=ru(),s_=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,n_.resolveUrl)(t,r,n),this.missingSchema=(0,n_.normalizeId)((0,n_.getFullPath)(t,this.missingRef))}};i_.default=s_});var Gf=y(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.resolveSchema=Gr.getCompilingSchema=Gr.resolveRef=Gr.compileSchema=Gr.SchemaEnv=void 0;var gn=me(),VX=Bf(),Yi=gs(),vn=ru(),rN=De(),HX=iu(),ua=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,vn.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};Gr.SchemaEnv=ua;function a_(e){let t=nN.call(this,e);if(t)return t;let r=(0,vn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new gn.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),a;e.$async&&(a=o.scopeValue("Error",{ref:VX.default,code:(0,gn._)`require("ajv/dist/runtime/validation_error").default`}));let c=o.scopeName("validate");e.validateName=c;let l={gen:o,allErrors:this.opts.allErrors,data:Yi.default.data,parentData:Yi.default.parentData,parentDataProperty:Yi.default.parentDataProperty,dataNames:[Yi.default.data],dataPathArr:[gn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,gn.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:gn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,gn._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(e),(0,HX.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);let d=o.toString();u=`${o.scopeRefs(Yi.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,e));let m=new Function(`${Yi.default.self}`,`${Yi.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){let{props:f,items:h}=l;m.evaluated={props:f instanceof gn.Name?void 0:f,items:h instanceof gn.Name?void 0:h,dynamicProps:f instanceof gn.Name,dynamicItems:h instanceof gn.Name},m.source&&(m.source.evaluated=(0,gn.stringify)(m.evaluated))}return e.validate=m,e}catch(d){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(e)}}Gr.compileSchema=a_;function BX(e,t,r){var n;r=(0,vn.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let i=JX.call(this,e,r);if(i===void 0){let o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(i=new ua({schema:o,schemaId:a,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=KX.call(this,i)}Gr.resolveRef=BX;function KX(e){return(0,vn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:a_.call(this,e)}function nN(e){for(let t of this._compilations)if(GX(t,e))return t}Gr.getCompilingSchema=nN;function GX(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function JX(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Kf.call(this,e,t)}function Kf(e,t){let r=this.opts.uriResolver.parse(t),n=(0,vn._getFullPath)(this.opts.uriResolver,r),s=(0,vn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return o_.call(this,r,e);let i=(0,vn.normalizeId)(n),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){let a=Kf.call(this,e,o);return typeof a?.schema!="object"?void 0:o_.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||a_.call(this,o),i===(0,vn.normalizeId)(t)){let{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(s=(0,vn.resolveUrl)(this.opts.uriResolver,s,l)),new ua({schema:a,schemaId:c,root:e,baseId:s})}return o_.call(this,r,o)}}Gr.resolveSchema=Kf;var WX=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function o_(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,rN.unescapeFragment)(a)];if(c===void 0)return;r=c;let l=typeof r=="object"&&r[this.opts.schemaId];!WX.has(a)&&l&&(t=(0,vn.resolveUrl)(this.opts.uriResolver,t,l))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,rN.schemaHasRulesButRef)(r,this.RULES)){let a=(0,vn.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=Kf.call(this,n,a)}let{schemaId:o}=this.opts;if(i=i||new ua({schema:r,schemaId:o,root:n,baseId:t}),i.schema!==i.root.schema)return i}});var sN=y((ANe,YX)=>{YX.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var u_=y((INe,cN)=>{"use strict";var XX=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),oN=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function c_(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}var QX=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function iN(e){return e.length=0,!0}function ZX(e,t,r){if(e.length){let n=c_(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function eQ(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],i=!1,o=!1,a=ZX;for(let c=0;c<e.length;c++){let l=e[c];if(!(l==="["||l==="]"))if(l===":"){if(i===!0&&(o=!0),!a(s,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(i=!0),n.push(":");continue}else if(l==="%"){if(!a(s,n,r))break;a=iN}else{s.push(l);continue}}return s.length&&(a===iN?r.zone=s.join(""):o?n.push(s.join("")):n.push(c_(s))),r.address=n.join(""),r}function aN(e){if(tQ(e,":")<2)return{host:e,isIPV6:!1};let t=eQ(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function tQ(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function rQ(e){let t=e,r=[],n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function nQ(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function sQ(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!oN(r)){let n=aN(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}cN.exports={nonSimpleDomain:QX,recomposeAuthority:sQ,normalizeComponentEncoding:nQ,removeDotSegments:rQ,isIPv4:oN,isUUID:XX,normalizeIPv6:aN,stringArrayToHexStripped:c_}});var pN=y((CNe,fN)=>{"use strict";var{isUUID:iQ}=u_(),oQ=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,aQ=["http","https","ws","wss","urn","urn:uuid"];function cQ(e){return aQ.indexOf(e)!==-1}function l_(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function uN(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function lN(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function uQ(e){return e.secure=l_(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function lQ(e){if((e.port===(l_(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function dQ(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(oQ);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,i=d_(s);e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function fQ(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=d_(s);i&&(e=i.serialize(e,t));let o=e,a=e.nss;return o.path=`${n||t.nid}:${a}`,t.skipEscape=!0,o}function pQ(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!iQ(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function mQ(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var dN={scheme:"http",domainHost:!0,parse:uN,serialize:lN},hQ={scheme:"https",domainHost:dN.domainHost,parse:uN,serialize:lN},Jf={scheme:"ws",domainHost:!0,parse:uQ,serialize:lQ},yQ={scheme:"wss",domainHost:Jf.domainHost,parse:Jf.parse,serialize:Jf.serialize},gQ={scheme:"urn",parse:dQ,serialize:fQ,skipNormalize:!0},vQ={scheme:"urn:uuid",parse:pQ,serialize:mQ,skipNormalize:!0},Wf={http:dN,https:hQ,ws:Jf,wss:yQ,urn:gQ,"urn:uuid":vQ};Object.setPrototypeOf(Wf,null);function d_(e){return e&&(Wf[e]||Wf[e.toLowerCase()])||void 0}fN.exports={wsIsSecure:l_,SCHEMES:Wf,isValidSchemeName:cQ,getSchemeHandler:d_}});var yN=y((jNe,Xf)=>{"use strict";var{normalizeIPv6:_Q,removeDotSegments:au,recomposeAuthority:bQ,normalizeComponentEncoding:Yf,isIPv4:wQ,nonSimpleDomain:xQ}=u_(),{SCHEMES:SQ,getSchemeHandler:mN}=pN();function EQ(e,t){return typeof e=="string"?e=zn(_s(e,t),t):typeof e=="object"&&(e=_s(zn(e,t),t)),e}function $Q(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=hN(_s(e,n),_s(t,n),n,!0);return n.skipEscape=!0,zn(s,n)}function hN(e,t,r,n){let s={};return n||(e=_s(zn(e,r),r),t=_s(zn(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=au(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=au(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=au(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=au(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function RQ(e,t,r){return typeof e=="string"?(e=unescape(e),e=zn(Yf(_s(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=zn(Yf(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=zn(Yf(_s(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=zn(Yf(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function zn(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=mN(n.scheme||r.scheme);i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");let o=bQ(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(a=au(a)),o===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),s.push(a)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}var PQ=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function _s(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);let i=e.match(PQ);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host)if(wQ(n.host)===!1){let c=_Q(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=mN(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&xQ(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var f_={SCHEMES:SQ,normalize:EQ,resolve:$Q,resolveComponent:hN,equal:RQ,serialize:zn,parse:_s};Xf.exports=f_;Xf.exports.default=f_;Xf.exports.fastUri=f_});var vN=y(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});var gN=yN();gN.code='require("ajv/dist/runtime/uri").default';p_.default=gN});var RN=y(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.CodeGen=Lt.Name=Lt.nil=Lt.stringify=Lt.str=Lt._=Lt.KeywordCxt=void 0;var TQ=iu();Object.defineProperty(Lt,"KeywordCxt",{enumerable:!0,get:function(){return TQ.KeywordCxt}});var la=me();Object.defineProperty(Lt,"_",{enumerable:!0,get:function(){return la._}});Object.defineProperty(Lt,"str",{enumerable:!0,get:function(){return la.str}});Object.defineProperty(Lt,"stringify",{enumerable:!0,get:function(){return la.stringify}});Object.defineProperty(Lt,"nil",{enumerable:!0,get:function(){return la.nil}});Object.defineProperty(Lt,"Name",{enumerable:!0,get:function(){return la.Name}});Object.defineProperty(Lt,"CodeGen",{enumerable:!0,get:function(){return la.CodeGen}});var OQ=Bf(),SN=ou(),kQ=Vv(),cu=Gf(),NQ=me(),uu=ru(),Qf=tu(),h_=De(),_N=sN(),AQ=vN(),EN=(e,t)=>new RegExp(e,t);EN.code="new RegExp";var IQ=["removeAdditional","useDefaults","coerceTypes"],CQ=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),jQ={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},qQ={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},bN=200;function DQ(e){var t,r,n,s,i,o,a,c,l,u,d,p,m,f,h,v,b,S,_,g,x,R,w,E,P;let $=e.strict,j=(t=e.code)===null||t===void 0?void 0:t.optimize,O=j===!0||j===void 0?1:j||0,T=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:EN,A=(s=e.uriResolver)!==null&&s!==void 0?s:AQ.default;return{strictSchema:(o=(i=e.strictSchema)!==null&&i!==void 0?i:$)!==null&&o!==void 0?o:!0,strictNumbers:(c=(a=e.strictNumbers)!==null&&a!==void 0?a:$)!==null&&c!==void 0?c:!0,strictTypes:(u=(l=e.strictTypes)!==null&&l!==void 0?l:$)!==null&&u!==void 0?u:"log",strictTuples:(p=(d=e.strictTuples)!==null&&d!==void 0?d:$)!==null&&p!==void 0?p:"log",strictRequired:(f=(m=e.strictRequired)!==null&&m!==void 0?m:$)!==null&&f!==void 0?f:!1,code:e.code?{...e.code,optimize:O,regExp:T}:{optimize:O,regExp:T},loopRequired:(h=e.loopRequired)!==null&&h!==void 0?h:bN,loopEnum:(v=e.loopEnum)!==null&&v!==void 0?v:bN,meta:(b=e.meta)!==null&&b!==void 0?b:!0,messages:(S=e.messages)!==null&&S!==void 0?S:!0,inlineRefs:(_=e.inlineRefs)!==null&&_!==void 0?_:!0,schemaId:(g=e.schemaId)!==null&&g!==void 0?g:"$id",addUsedSchema:(x=e.addUsedSchema)!==null&&x!==void 0?x:!0,validateSchema:(R=e.validateSchema)!==null&&R!==void 0?R:!0,validateFormats:(w=e.validateFormats)!==null&&w!==void 0?w:!0,unicodeRegExp:(E=e.unicodeRegExp)!==null&&E!==void 0?E:!0,int32range:(P=e.int32range)!==null&&P!==void 0?P:!0,uriResolver:A}}var lu=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...DQ(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new NQ.ValueScope({scope:{},prefixes:CQ,es5:r,lines:n}),this.logger=VQ(t.logger);let s=t.validateFormats;t.validateFormats=!1,this.RULES=(0,kQ.getRules)(),wN.call(this,jQ,t,"NOT SUPPORTED"),wN.call(this,qQ,t,"DEPRECATED","warn"),this._metaOpts=zQ.call(this),t.formats&&FQ.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&MQ.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),LQ.call(this),t.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,s=_N;n==="id"&&(s={..._N},s.id=s.$id,delete s.$id),r&&t&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,t,r);async function s(u,d){await i.call(this,u.$schema);let p=this._addSchema(u,d);return p.validate||o.call(this,p)}async function i(u){u&&!this.getSchema(u)&&await s.call(this,{$ref:u},!0)}async function o(u){try{return this._compileSchemaEnv(u)}catch(d){if(!(d instanceof SN.default))throw d;return a.call(this,d),await c.call(this,d.missingSchema),o.call(this,u)}}function a({missingSchema:u,missingRef:d}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${d} cannot be resolved`)}async function c(u){let d=await l.call(this,u);this.refs[u]||await i.call(this,d.$schema),this.refs[u]||this.addSchema(d,u,r)}async function l(u){let d=this._loading[u];if(d)return d;try{return await(this._loading[u]=n(u))}finally{delete this._loading[u]}}}addSchema(t,r,n,s=this.opts.validateSchema){if(Array.isArray(t)){for(let o of t)this.addSchema(o,void 0,n,s);return this}let i;if(typeof t=="object"){let{schemaId:o}=this.opts;if(i=t[o],i!==void 0&&typeof i!="string")throw new Error(`schema ${o} must be string`)}return r=(0,uu.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,s,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,t);if(!s&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(t){let r;for(;typeof(r=xN.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,s=new cu.SchemaEnv({schema:{},schemaId:n});if(r=cu.resolveSchema.call(this,s,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=xN.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,uu.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(BQ.call(this,n,r),!r)return(0,h_.eachItem)(n,i=>m_.call(this,i)),this;GQ.call(this,r);let s={...r,type:(0,Qf.getJSONTypes)(r.type),schemaType:(0,Qf.getJSONTypes)(r.schemaType)};return(0,h_.eachItem)(n,s.type.length===0?i=>m_.call(this,i,s):i=>s.type.forEach(o=>m_.call(this,i,s,o))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let s=n.rules.findIndex(i=>i.keyword===t);s>=0&&n.rules.splice(s,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+r+i)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let s of r){let i=s.split("/").slice(1),o=t;for(let a of i)o=o[a];for(let a in n){let c=n[a];if(typeof c!="object")continue;let{$data:l}=c.definition,u=o[a];l&&u&&(o[a]=$N(u))}}return t}_removeAllSchemas(t,r){for(let n in t){let s=t[n];(!r||r.test(n))&&(typeof s=="string"?delete t[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete t[n]))}}_addSchema(t,r,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof t=="object")o=t[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(t);if(c!==void 0)return c;n=(0,uu.normalizeId)(o||n);let l=uu.getSchemaRefs.call(this,t,n);return c=new cu.SchemaEnv({schema:t,schemaId:a,meta:r,baseId:n,localRefs:l}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),s&&this.validateSchema(t,!0),c}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):cu.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{cu.compileSchema.call(this,t)}finally{this.opts=r}}};lu.ValidationError=OQ.default;lu.MissingRefError=SN.default;Lt.default=lu;function wN(e,t,r,n="error"){for(let s in e){let i=s;i in t&&this.logger[n](`${r}: option ${s}. ${e[i]}`)}}function xN(e){return e=(0,uu.normalizeId)(e),this.schemas[e]||this.refs[e]}function LQ(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function FQ(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function MQ(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function zQ(){let e={...this.opts};for(let t of IQ)delete e[t];return e}var UQ={log(){},warn(){},error(){}};function VQ(e){if(e===!1)return UQ;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var HQ=/^[a-z_$][a-z0-9_$:-]*$/i;function BQ(e,t){let{RULES:r}=this;if((0,h_.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!HQ.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function m_(e,t,r){var n;let s=t?.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,o=s?i.post:i.rules.find(({type:c})=>c===r);if(o||(o={type:r,rules:[]},i.rules.push(o)),i.keywords[e]=!0,!t)return;let a={keyword:e,definition:{...t,type:(0,Qf.getJSONTypes)(t.type),schemaType:(0,Qf.getJSONTypes)(t.schemaType)}};t.before?KQ.call(this,o,a,t.before):o.rules.push(a),i.all[e]=a,(n=t.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function KQ(e,t,r){let n=e.rules.findIndex(s=>s.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function GQ(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=$N(t)),e.validateSchema=this.compile(t,!0))}var JQ={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function $N(e){return{anyOf:[e,JQ]}}});var PN=y(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});var WQ={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};y_.default=WQ});var NN=y(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.callRef=Xi.getValidate=void 0;var YQ=ou(),TN=Br(),Pr=me(),da=gs(),ON=Gf(),Zf=De(),XQ={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:o,opts:a,self:c}=n,{root:l}=i;if((r==="#"||r==="#/")&&s===l.baseId)return d();let u=ON.resolveRef.call(c,l,s,r);if(u===void 0)throw new YQ.default(n.opts.uriResolver,s,r);if(u instanceof ON.SchemaEnv)return p(u);return m(u);function d(){if(i===l)return ep(e,o,i,i.$async);let f=t.scopeValue("root",{ref:l});return ep(e,(0,Pr._)`${f}.validate`,l,l.$async)}function p(f){let h=kN(e,f);ep(e,h,f,f.$async)}function m(f){let h=t.scopeValue("schema",a.code.source===!0?{ref:f,code:(0,Pr.stringify)(f)}:{ref:f}),v=t.name("valid"),b=e.subschema({schema:f,dataTypes:[],schemaPath:Pr.nil,topSchemaRef:h,errSchemaPath:r},v);e.mergeEvaluated(b),e.ok(v)}}};function kN(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Pr._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Xi.getValidate=kN;function ep(e,t,r,n){let{gen:s,it:i}=e,{allErrors:o,schemaEnv:a,opts:c}=i,l=c.passContext?da.default.this:Pr.nil;n?u():d();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let f=s.let("valid");s.try(()=>{s.code((0,Pr._)`await ${(0,TN.callValidateCode)(e,t,l)}`),m(t),o||s.assign(f,!0)},h=>{s.if((0,Pr._)`!(${h} instanceof ${i.ValidationError})`,()=>s.throw(h)),p(h),o||s.assign(f,!1)}),e.ok(f)}function d(){e.result((0,TN.callValidateCode)(e,t,l),()=>m(t),()=>p(t))}function p(f){let h=(0,Pr._)`${f}.errors`;s.assign(da.default.vErrors,(0,Pr._)`${da.default.vErrors} === null ? ${h} : ${da.default.vErrors}.concat(${h})`),s.assign(da.default.errors,(0,Pr._)`${da.default.vErrors}.length`)}function m(f){var h;if(!i.opts.unevaluated)return;let v=(h=r?.validate)===null||h===void 0?void 0:h.evaluated;if(i.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(i.props=Zf.mergeEvaluated.props(s,v.props,i.props));else{let b=s.var("props",(0,Pr._)`${f}.evaluated.props`);i.props=Zf.mergeEvaluated.props(s,b,i.props,Pr.Name)}if(i.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(i.items=Zf.mergeEvaluated.items(s,v.items,i.items));else{let b=s.var("items",(0,Pr._)`${f}.evaluated.items`);i.items=Zf.mergeEvaluated.items(s,b,i.items,Pr.Name)}}}Xi.callRef=ep;Xi.default=XQ});var AN=y(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});var QQ=PN(),ZQ=NN(),eZ=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",QQ.default,ZQ.default];g_.default=eZ});var IN=y(v_=>{"use strict";Object.defineProperty(v_,"__esModule",{value:!0});var tp=me(),ri=tp.operators,rp={maximum:{okStr:"<=",ok:ri.LTE,fail:ri.GT},minimum:{okStr:">=",ok:ri.GTE,fail:ri.LT},exclusiveMaximum:{okStr:"<",ok:ri.LT,fail:ri.GTE},exclusiveMinimum:{okStr:">",ok:ri.GT,fail:ri.LTE}},tZ={message:({keyword:e,schemaCode:t})=>(0,tp.str)`must be ${rp[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,tp._)`{comparison: ${rp[e].okStr}, limit: ${t}}`},rZ={keyword:Object.keys(rp),type:"number",schemaType:"number",$data:!0,error:tZ,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,tp._)`${r} ${rp[t].fail} ${n} || isNaN(${r})`)}};v_.default=rZ});var CN=y(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});var du=me(),nZ={message:({schemaCode:e})=>(0,du.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,du._)`{multipleOf: ${e}}`},sZ={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:nZ,code(e){let{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,o=t.let("res"),a=i?(0,du._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,du._)`${o} !== parseInt(${o})`;e.fail$data((0,du._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};__.default=sZ});var qN=y(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});function jN(e){let t=e.length,r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}b_.default=jN;jN.code='require("ajv/dist/runtime/ucs2length").default'});var DN=y(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});var Qi=me(),iZ=De(),oZ=qN(),aZ={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,Qi.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Qi._)`{limit: ${e}}`},cZ={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:aZ,code(e){let{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?Qi.operators.GT:Qi.operators.LT,o=s.opts.unicode===!1?(0,Qi._)`${r}.length`:(0,Qi._)`${(0,iZ.useFunc)(e.gen,oZ.default)}(${r})`;e.fail$data((0,Qi._)`${o} ${i} ${n}`)}};w_.default=cZ});var LN=y(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});var uZ=Br(),np=me(),lZ={message:({schemaCode:e})=>(0,np.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,np._)`{pattern: ${e}}`},dZ={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:lZ,code(e){let{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,o=i.opts.unicodeRegExp?"u":"",a=r?(0,np._)`(new RegExp(${s}, ${o}))`:(0,uZ.usePattern)(e,n);e.fail$data((0,np._)`!${a}.test(${t})`)}};x_.default=dZ});var FN=y(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});var fu=me(),fZ={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,fu.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,fu._)`{limit: ${e}}`},pZ={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:fZ,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?fu.operators.GT:fu.operators.LT;e.fail$data((0,fu._)`Object.keys(${r}).length ${s} ${n}`)}};S_.default=pZ});var MN=y(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});var pu=Br(),mu=me(),mZ=De(),hZ={message:({params:{missingProperty:e}})=>(0,mu.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,mu._)`{missingProperty: ${e}}`},yZ={keyword:"required",type:"object",schemaType:"array",$data:!0,error:hZ,code(e){let{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:o}=e,{opts:a}=o;if(!i&&r.length===0)return;let c=r.length>=a.loopRequired;if(o.allErrors?l():u(),a.strictRequired){let m=e.parentSchema.properties,{definedProperties:f}=e.it;for(let h of r)if(m?.[h]===void 0&&!f.has(h)){let v=o.schemaEnv.baseId+o.errSchemaPath,b=`required property "${h}" is not defined at "${v}" (strictRequired)`;(0,mZ.checkStrictMode)(o,b,o.opts.strictRequired)}}function l(){if(c||i)e.block$data(mu.nil,d);else for(let m of r)(0,pu.checkReportMissingProp)(e,m)}function u(){let m=t.let("missing");if(c||i){let f=t.let("valid",!0);e.block$data(f,()=>p(m,f)),e.ok(f)}else t.if((0,pu.checkMissingProp)(e,r,m)),(0,pu.reportMissingProp)(e,m),t.else()}function d(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,pu.noPropertyInData)(t,s,m,a.ownProperties),()=>e.error())})}function p(m,f){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(f,(0,pu.propertyInData)(t,s,m,a.ownProperties)),t.if((0,mu.not)(f),()=>{e.error(),t.break()})},mu.nil)}}};E_.default=yZ});var zN=y($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});var hu=me(),gZ={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,hu.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,hu._)`{limit: ${e}}`},vZ={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:gZ,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?hu.operators.GT:hu.operators.LT;e.fail$data((0,hu._)`${r}.length ${s} ${n}`)}};$_.default=vZ});var yu=y(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});var UN=Kr();UN.code='require("ajv/dist/runtime/equal").default';R_.default=UN});var VN=y(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0});var P_=tu(),Ft=me(),_Z=De(),bZ=yu(),wZ={message:({params:{i:e,j:t}})=>(0,Ft.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ft._)`{i: ${e}, j: ${t}}`},xZ={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:wZ,code(e){let{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:o,it:a}=e;if(!n&&!s)return;let c=t.let("valid"),l=i.items?(0,P_.getSchemaTypes)(i.items):[];e.block$data(c,u,(0,Ft._)`${o} === false`),e.ok(c);function u(){let f=t.let("i",(0,Ft._)`${r}.length`),h=t.let("j");e.setParams({i:f,j:h}),t.assign(c,!0),t.if((0,Ft._)`${f} > 1`,()=>(d()?p:m)(f,h))}function d(){return l.length>0&&!l.some(f=>f==="object"||f==="array")}function p(f,h){let v=t.name("item"),b=(0,P_.checkDataTypes)(l,v,a.opts.strictNumbers,P_.DataType.Wrong),S=t.const("indices",(0,Ft._)`{}`);t.for((0,Ft._)`;${f}--;`,()=>{t.let(v,(0,Ft._)`${r}[${f}]`),t.if(b,(0,Ft._)`continue`),l.length>1&&t.if((0,Ft._)`typeof ${v} == "string"`,(0,Ft._)`${v} += "_"`),t.if((0,Ft._)`typeof ${S}[${v}] == "number"`,()=>{t.assign(h,(0,Ft._)`${S}[${v}]`),e.error(),t.assign(c,!1).break()}).code((0,Ft._)`${S}[${v}] = ${f}`)})}function m(f,h){let v=(0,_Z.useFunc)(t,bZ.default),b=t.name("outer");t.label(b).for((0,Ft._)`;${f}--;`,()=>t.for((0,Ft._)`${h} = ${f}; ${h}--;`,()=>t.if((0,Ft._)`${v}(${r}[${f}], ${r}[${h}])`,()=>{e.error(),t.assign(c,!1).break(b)})))}}};T_.default=xZ});var HN=y(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});var O_=me(),SZ=De(),EZ=yu(),$Z={message:"must be equal to constant",params:({schemaCode:e})=>(0,O_._)`{allowedValue: ${e}}`},RZ={keyword:"const",$data:!0,error:$Z,code(e){let{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,O_._)`!${(0,SZ.useFunc)(t,EZ.default)}(${r}, ${s})`):e.fail((0,O_._)`${i} !== ${r}`)}};k_.default=RZ});var BN=y(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});var gu=me(),PZ=De(),TZ=yu(),OZ={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,gu._)`{allowedValues: ${e}}`},kZ={keyword:"enum",schemaType:"array",$data:!0,error:OZ,code(e){let{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let a=s.length>=o.opts.loopEnum,c,l=()=>c??(c=(0,PZ.useFunc)(t,TZ.default)),u;if(a||n)u=t.let("valid"),e.block$data(u,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let m=t.const("vSchema",i);u=(0,gu.or)(...s.map((f,h)=>p(m,h)))}e.pass(u);function d(){t.assign(u,!1),t.forOf("v",i,m=>t.if((0,gu._)`${l()}(${r}, ${m})`,()=>t.assign(u,!0).break()))}function p(m,f){let h=s[f];return typeof h=="object"&&h!==null?(0,gu._)`${l()}(${r}, ${m}[${f}])`:(0,gu._)`${r} === ${h}`}}};N_.default=kZ});var KN=y(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});var NZ=IN(),AZ=CN(),IZ=DN(),CZ=LN(),jZ=FN(),qZ=MN(),DZ=zN(),LZ=VN(),FZ=HN(),MZ=BN(),zZ=[NZ.default,AZ.default,IZ.default,CZ.default,jZ.default,qZ.default,DZ.default,LZ.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},FZ.default,MZ.default];A_.default=zZ});var C_=y(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.validateAdditionalItems=void 0;var Zi=me(),I_=De(),UZ={message:({params:{len:e}})=>(0,Zi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Zi._)`{limit: ${e}}`},VZ={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:UZ,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,I_.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}GN(e,n)}};function GN(e,t){let{gen:r,schema:n,data:s,keyword:i,it:o}=e;o.items=!0;let a=r.const("len",(0,Zi._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Zi._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,I_.alwaysValidSchema)(o,n)){let l=r.var("valid",(0,Zi._)`${a} <= ${t.length}`);r.if((0,Zi.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,a,u=>{e.subschema({keyword:i,dataProp:u,dataPropType:I_.Type.Num},l),o.allErrors||r.if((0,Zi.not)(l),()=>r.break())})}}vu.validateAdditionalItems=GN;vu.default=VZ});var j_=y(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.validateTuple=void 0;var JN=me(),sp=De(),HZ=Br(),BZ={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return WN(e,"additionalItems",t);r.items=!0,!(0,sp.alwaysValidSchema)(r,t)&&e.ok((0,HZ.validateArray)(e))}};function WN(e,t,r=e.schema){let{gen:n,parentSchema:s,data:i,keyword:o,it:a}=e;u(s),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=sp.mergeEvaluated.items(n,r.length,a.items));let c=n.name("valid"),l=n.const("len",(0,JN._)`${i}.length`);r.forEach((d,p)=>{(0,sp.alwaysValidSchema)(a,d)||(n.if((0,JN._)`${l} > ${p}`,()=>e.subschema({keyword:o,schemaProp:p,dataProp:p},c)),e.ok(c))});function u(d){let{opts:p,errSchemaPath:m}=a,f=r.length,h=f===d.minItems&&(f===d.maxItems||d[t]===!1);if(p.strictTuples&&!h){let v=`"${o}" is ${f}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,sp.checkStrictMode)(a,v,p.strictTuples)}}}_u.validateTuple=WN;_u.default=BZ});var YN=y(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});var KZ=j_(),GZ={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,KZ.validateTuple)(e,"items")};q_.default=GZ});var QN=y(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});var XN=me(),JZ=De(),WZ=Br(),YZ=C_(),XZ={message:({params:{len:e}})=>(0,XN.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,XN._)`{limit: ${e}}`},QZ={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:XZ,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,JZ.alwaysValidSchema)(n,t)&&(s?(0,YZ.validateAdditionalItems)(e,s):e.ok((0,WZ.validateArray)(e)))}};D_.default=QZ});var ZN=y(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});var Jr=me(),ip=De(),ZZ={message:({params:{min:e,max:t}})=>t===void 0?(0,Jr.str)`must contain at least ${e} valid item(s)`:(0,Jr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Jr._)`{minContains: ${e}}`:(0,Jr._)`{minContains: ${e}, maxContains: ${t}}`},eee={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ZZ,code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e,o,a,{minContains:c,maxContains:l}=n;i.opts.next?(o=c===void 0?1:c,a=l):o=1;let u=t.const("len",(0,Jr._)`${s}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,ip.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,ip.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ip.alwaysValidSchema)(i,r)){let h=(0,Jr._)`${u} >= ${o}`;a!==void 0&&(h=(0,Jr._)`${h} && ${u} <= ${a}`),e.pass(h);return}i.items=!0;let d=t.name("valid");a===void 0&&o===1?m(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),a!==void 0&&t.if((0,Jr._)`${s}.length > 0`,p)):(t.let(d,!1),p()),e.result(d,()=>e.reset());function p(){let h=t.name("_valid"),v=t.let("count",0);m(h,()=>t.if(h,()=>f(v)))}function m(h,v){t.forRange("i",0,u,b=>{e.subschema({keyword:"contains",dataProp:b,dataPropType:ip.Type.Num,compositeRule:!0},h),v()})}function f(h){t.code((0,Jr._)`${h}++`),a===void 0?t.if((0,Jr._)`${h} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,Jr._)`${h} > ${a}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,Jr._)`${h} >= ${o}`,()=>t.assign(d,!0)))}}};L_.default=eee});var rA=y(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.validateSchemaDeps=Un.validatePropertyDeps=Un.error=void 0;var F_=me(),tee=De(),bu=Br();Un.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,F_.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,F_._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var ree={keyword:"dependencies",type:"object",schemaType:"object",error:Un.error,code(e){let[t,r]=nee(e);eA(e,t),tA(e,r)}};function nee({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let s=Array.isArray(e[n])?t:r;s[n]=e[n]}return[t,r]}function eA(e,t=e.schema){let{gen:r,data:n,it:s}=e;if(Object.keys(t).length===0)return;let i=r.let("missing");for(let o in t){let a=t[o];if(a.length===0)continue;let c=(0,bu.propertyInData)(r,n,o,s.opts.ownProperties);e.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),s.allErrors?r.if(c,()=>{for(let l of a)(0,bu.checkReportMissingProp)(e,l)}):(r.if((0,F_._)`${c} && (${(0,bu.checkMissingProp)(e,a,i)})`),(0,bu.reportMissingProp)(e,i),r.else())}}Un.validatePropertyDeps=eA;function tA(e,t=e.schema){let{gen:r,data:n,keyword:s,it:i}=e,o=r.name("valid");for(let a in t)(0,tee.alwaysValidSchema)(i,t[a])||(r.if((0,bu.propertyInData)(r,n,a,i.opts.ownProperties),()=>{let c=e.subschema({keyword:s,schemaProp:a},o);e.mergeValidEvaluated(c,o)},()=>r.var(o,!0)),e.ok(o))}Un.validateSchemaDeps=tA;Un.default=ree});var sA=y(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});var nA=me(),see=De(),iee={message:"property name must be valid",params:({params:e})=>(0,nA._)`{propertyName: ${e.propertyName}}`},oee={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:iee,code(e){let{gen:t,schema:r,data:n,it:s}=e;if((0,see.alwaysValidSchema)(s,r))return;let i=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,nA.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};M_.default=oee});var U_=y(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});var op=Br(),_n=me(),aee=gs(),ap=De(),cee={message:"must NOT have additional properties",params:({params:e})=>(0,_n._)`{additionalProperty: ${e.additionalProperty}}`},uee={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:cee,code(e){let{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,ap.alwaysValidSchema)(o,r))return;let l=(0,op.allSchemaProperties)(n.properties),u=(0,op.allSchemaProperties)(n.patternProperties);d(),e.ok((0,_n._)`${i} === ${aee.default.errors}`);function d(){t.forIn("key",s,v=>{!l.length&&!u.length?f(v):t.if(p(v),()=>f(v))})}function p(v){let b;if(l.length>8){let S=(0,ap.schemaRefOrVal)(o,n.properties,"properties");b=(0,op.isOwnProperty)(t,S,v)}else l.length?b=(0,_n.or)(...l.map(S=>(0,_n._)`${v} === ${S}`)):b=_n.nil;return u.length&&(b=(0,_n.or)(b,...u.map(S=>(0,_n._)`${(0,op.usePattern)(e,S)}.test(${v})`))),(0,_n.not)(b)}function m(v){t.code((0,_n._)`delete ${s}[${v}]`)}function f(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,ap.alwaysValidSchema)(o,r)){let b=t.name("valid");c.removeAdditional==="failing"?(h(v,b,!1),t.if((0,_n.not)(b),()=>{e.reset(),m(v)})):(h(v,b),a||t.if((0,_n.not)(b),()=>t.break()))}}function h(v,b,S){let _={keyword:"additionalProperties",dataProp:v,dataPropType:ap.Type.Str};S===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,b)}}};z_.default=uee});var aA=y(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});var lee=iu(),iA=Br(),V_=De(),oA=U_(),dee={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&oA.default.code(new lee.KeywordCxt(i,oA.default,"additionalProperties"));let o=(0,iA.allSchemaProperties)(r);for(let d of o)i.definedProperties.add(d);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=V_.mergeEvaluated.props(t,(0,V_.toHash)(o),i.props));let a=o.filter(d=>!(0,V_.alwaysValidSchema)(i,r[d]));if(a.length===0)return;let c=t.name("valid");for(let d of a)l(d)?u(d):(t.if((0,iA.propertyInData)(t,s,d,i.opts.ownProperties)),u(d),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(c);function l(d){return i.opts.useDefaults&&!i.compositeRule&&r[d].default!==void 0}function u(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};H_.default=dee});var dA=y(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});var cA=Br(),cp=me(),uA=De(),lA=De(),fee={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:o}=i,a=(0,cA.allSchemaProperties)(r),c=a.filter(h=>(0,uA.alwaysValidSchema)(i,r[h]));if(a.length===0||c.length===a.length&&(!i.opts.unevaluated||i.props===!0))return;let l=o.strictSchema&&!o.allowMatchingProperties&&s.properties,u=t.name("valid");i.props!==!0&&!(i.props instanceof cp.Name)&&(i.props=(0,lA.evaluatedPropsToName)(t,i.props));let{props:d}=i;p();function p(){for(let h of a)l&&m(h),i.allErrors?f(h):(t.var(u,!0),f(h),t.if(u))}function m(h){for(let v in l)new RegExp(h).test(v)&&(0,uA.checkStrictMode)(i,`property ${v} matches pattern ${h} (use allowMatchingProperties)`)}function f(h){t.forIn("key",n,v=>{t.if((0,cp._)`${(0,cA.usePattern)(e,h)}.test(${v})`,()=>{let b=c.includes(h);b||e.subschema({keyword:"patternProperties",schemaProp:h,dataProp:v,dataPropType:lA.Type.Str},u),i.opts.unevaluated&&d!==!0?t.assign((0,cp._)`${d}[${v}]`,!0):!b&&!i.allErrors&&t.if((0,cp.not)(u),()=>t.break())})})}}};B_.default=fee});var fA=y(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});var pee=De(),mee={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,pee.alwaysValidSchema)(n,r)){e.fail();return}let s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};K_.default=mee});var pA=y(G_=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0});var hee=Br(),yee={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:hee.validateUnion,error:{message:"must match a schema in anyOf"}};G_.default=yee});var mA=y(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});var up=me(),gee=De(),vee={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,up._)`{passingSchemas: ${e.passing}}`},_ee={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:vee,code(e){let{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=r,o=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){i.forEach((u,d)=>{let p;(0,gee.alwaysValidSchema)(s,u)?t.var(c,!0):p=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&t.if((0,up._)`${c} && ${o}`).assign(o,!1).assign(a,(0,up._)`[${a}, ${d}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(a,d),p&&e.mergeEvaluated(p,up.Name)})})}}};J_.default=_ee});var hA=y(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});var bee=De(),wee={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=t.name("valid");r.forEach((i,o)=>{if((0,bee.alwaysValidSchema)(n,i))return;let a=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(a)})}};W_.default=wee});var vA=y(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});var lp=me(),gA=De(),xee={message:({params:e})=>(0,lp.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,lp._)`{failingKeyword: ${e.ifClause}}`},See={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:xee,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,gA.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=yA(n,"then"),i=yA(n,"else");if(!s&&!i)return;let o=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),s&&i){let u=t.let("ifClause");e.setParams({ifClause:u}),t.if(a,l("then",u),l("else",u))}else s?t.if(a,l("then")):t.if((0,lp.not)(a),l("else"));e.pass(o,()=>e.error(!0));function c(){let u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(u)}function l(u,d){return()=>{let p=e.subschema({keyword:u},a);t.assign(o,a),e.mergeValidEvaluated(p,o),d?t.assign(d,(0,lp._)`${u}`):e.setParams({ifClause:u})}}}};function yA(e,t){let r=e.schema[t];return r!==void 0&&!(0,gA.alwaysValidSchema)(e,r)}Y_.default=See});var _A=y(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});var Eee=De(),$ee={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Eee.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};X_.default=$ee});var bA=y(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});var Ree=C_(),Pee=YN(),Tee=j_(),Oee=QN(),kee=ZN(),Nee=rA(),Aee=sA(),Iee=U_(),Cee=aA(),jee=dA(),qee=fA(),Dee=pA(),Lee=mA(),Fee=hA(),Mee=vA(),zee=_A();function Uee(e=!1){let t=[qee.default,Dee.default,Lee.default,Fee.default,Mee.default,zee.default,Aee.default,Iee.default,Nee.default,Cee.default,jee.default];return e?t.push(Pee.default,Oee.default):t.push(Ree.default,Tee.default),t.push(kee.default),t}Q_.default=Uee});var wA=y(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});var vt=me(),Vee={message:({schemaCode:e})=>(0,vt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,vt._)`{format: ${e}}`},Hee={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Vee,code(e,t){let{gen:r,data:n,$data:s,schema:i,schemaCode:o,it:a}=e,{opts:c,errSchemaPath:l,schemaEnv:u,self:d}=a;if(!c.validateFormats)return;s?p():m();function p(){let f=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),h=r.const("fDef",(0,vt._)`${f}[${o}]`),v=r.let("fType"),b=r.let("format");r.if((0,vt._)`typeof ${h} == "object" && !(${h} instanceof RegExp)`,()=>r.assign(v,(0,vt._)`${h}.type || "string"`).assign(b,(0,vt._)`${h}.validate`),()=>r.assign(v,(0,vt._)`"string"`).assign(b,h)),e.fail$data((0,vt.or)(S(),_()));function S(){return c.strictSchema===!1?vt.nil:(0,vt._)`${o} && !${b}`}function _(){let g=u.$async?(0,vt._)`(${h}.async ? await ${b}(${n}) : ${b}(${n}))`:(0,vt._)`${b}(${n})`,x=(0,vt._)`(typeof ${b} == "function" ? ${g} : ${b}.test(${n}))`;return(0,vt._)`${b} && ${b} !== true && ${v} === ${t} && !${x}`}}function m(){let f=d.formats[i];if(!f){S();return}if(f===!0)return;let[h,v,b]=_(f);h===t&&e.pass(g());function S(){if(c.strictSchema===!1){d.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${i}" ignored in schema at path "${l}"`}}function _(x){let R=x instanceof RegExp?(0,vt.regexpCode)(x):c.code.formats?(0,vt._)`${c.code.formats}${(0,vt.getProperty)(i)}`:void 0,w=r.scopeValue("formats",{key:i,ref:x,code:R});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,vt._)`${w}.validate`]:["string",x,w]}function g(){if(typeof f=="object"&&!(f instanceof RegExp)&&f.async){if(!u.$async)throw new Error("async format in sync schema");return(0,vt._)`await ${b}(${n})`}return typeof v=="function"?(0,vt._)`${b}(${n})`:(0,vt._)`${b}.test(${n})`}}}};Z_.default=Hee});var xA=y(e0=>{"use strict";Object.defineProperty(e0,"__esModule",{value:!0});var Bee=wA(),Kee=[Bee.default];e0.default=Kee});var SA=y(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.contentVocabulary=fa.metadataVocabulary=void 0;fa.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];fa.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var $A=y(t0=>{"use strict";Object.defineProperty(t0,"__esModule",{value:!0});var Gee=AN(),Jee=KN(),Wee=bA(),Yee=xA(),EA=SA(),Xee=[Gee.default,Jee.default,(0,Wee.default)(),Yee.default,EA.metadataVocabulary,EA.contentVocabulary];t0.default=Xee});var PA=y(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.DiscrError=void 0;var RA;(function(e){e.Tag="tag",e.Mapping="mapping"})(RA||(dp.DiscrError=RA={}))});var OA=y(n0=>{"use strict";Object.defineProperty(n0,"__esModule",{value:!0});var pa=me(),r0=PA(),TA=Gf(),Qee=ou(),Zee=De(),ete={message:({params:{discrError:e,tagName:t}})=>e===r0.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,pa._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},tte={keyword:"discriminator",type:"object",schemaType:"object",error:ete,code(e){let{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:o}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let c=t.let("valid",!1),l=t.const("tag",(0,pa._)`${r}${(0,pa.getProperty)(a)}`);t.if((0,pa._)`typeof ${l} == "string"`,()=>u(),()=>e.error(!1,{discrError:r0.DiscrError.Tag,tag:l,tagName:a})),e.ok(c);function u(){let m=p();t.if(!1);for(let f in m)t.elseIf((0,pa._)`${l} === ${f}`),t.assign(c,d(m[f]));t.else(),e.error(!1,{discrError:r0.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function d(m){let f=t.name("valid"),h=e.subschema({keyword:"oneOf",schemaProp:m},f);return e.mergeEvaluated(h,pa.Name),f}function p(){var m;let f={},h=b(s),v=!0;for(let g=0;g<o.length;g++){let x=o[g];if(x?.$ref&&!(0,Zee.schemaHasRulesButRef)(x,i.self.RULES)){let w=x.$ref;if(x=TA.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,w),x instanceof TA.SchemaEnv&&(x=x.schema),x===void 0)throw new Qee.default(i.opts.uriResolver,i.baseId,w)}let R=(m=x?.properties)===null||m===void 0?void 0:m[a];if(typeof R!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(h||b(x)),S(R,g)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return f;function b({required:g}){return Array.isArray(g)&&g.includes(a)}function S(g,x){if(g.const)_(g.const,x);else if(g.enum)for(let R of g.enum)_(R,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(g,x){if(typeof g!="string"||g in f)throw new Error(`discriminator: "${a}" values must be unique strings`);f[g]=x}}}};n0.default=tte});var kA=y((SAe,rte)=>{rte.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var i0=y((nt,s0)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.MissingRefError=nt.ValidationError=nt.CodeGen=nt.Name=nt.nil=nt.stringify=nt.str=nt._=nt.KeywordCxt=nt.Ajv=void 0;var nte=RN(),ste=$A(),ite=OA(),NA=kA(),ote=["/properties"],fp="http://json-schema.org/draft-07/schema",ma=class extends nte.default{_addVocabularies(){super._addVocabularies(),ste.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(ite.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(NA,ote):NA;this.addMetaSchema(t,fp,!1),this.refs["http://json-schema.org/schema"]=fp}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(fp)?fp:void 0)}};nt.Ajv=ma;s0.exports=nt=ma;s0.exports.Ajv=ma;Object.defineProperty(nt,"__esModule",{value:!0});nt.default=ma;var ate=iu();Object.defineProperty(nt,"KeywordCxt",{enumerable:!0,get:function(){return ate.KeywordCxt}});var ha=me();Object.defineProperty(nt,"_",{enumerable:!0,get:function(){return ha._}});Object.defineProperty(nt,"str",{enumerable:!0,get:function(){return ha.str}});Object.defineProperty(nt,"stringify",{enumerable:!0,get:function(){return ha.stringify}});Object.defineProperty(nt,"nil",{enumerable:!0,get:function(){return ha.nil}});Object.defineProperty(nt,"Name",{enumerable:!0,get:function(){return ha.Name}});Object.defineProperty(nt,"CodeGen",{enumerable:!0,get:function(){return ha.CodeGen}});var cte=Bf();Object.defineProperty(nt,"ValidationError",{enumerable:!0,get:function(){return cte.default}});var ute=ou();Object.defineProperty(nt,"MissingRefError",{enumerable:!0,get:function(){return ute.default}})});var IA=y((EAe,AA)=>{"use strict";var lte={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};AA.exports={HEX:lte}});var zA=y(($Ae,MA)=>{"use strict";var{HEX:dte}=IA();function DA(e){if(FA(e,".")<3)return{host:e,isIPV4:!1};let t=e.match(/^(\b[01]?\d{1,2}|\b2[0-4]\d|\b25[0-5])(\.([01]?\d{1,2}|2[0-4]\d|25[0-5])){3}$/u)||[],[r]=t;return r?{host:pte(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function o0(e){let t="",r=!0;for(let n of e){if(n!=="0"&&r===!0&&(r=!1),dte[n]===void 0)return;r||(t+=n)}return t}function fte(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],i=!1,o=!1,a=!1;function c(){if(s.length){if(i===!1){let l=o0(s.join(""));if(l!==void 0)n.push(l);else return r.error=!0,!1}s.length=0}return!0}for(let l=0;l<e.length;l++){let u=e[l];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(a=!0),!c())break;if(t++,n.push(":"),t>7){r.error=!0;break}l-1>=0&&e[l-1]===":"&&(o=!0);continue}else if(u==="%"){if(!c())break;i=!0}else{s.push(u);continue}}return s.length&&(i?r.zone=s.join(""):a?n.push(s.join("")):n.push(o0(s.join("")))),r.address=n.join(""),r}function LA(e,t={}){if(FA(e,":")<2)return{host:e,isIPV6:!1};let r=fte(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,s=r.address;return r.zone&&(n+="%"+r.zone,s+="%25"+r.zone),{host:n,escapedHost:s,isIPV6:!0}}}function pte(e,t){let r="",n=!0,s=e.length;for(let i=0;i<s;i++){let o=e[i];o==="0"&&n?(i+1<=s&&e[i+1]===t||i+1===s)&&(r+=o,n=!1):(o===t?n=!0:n=!1,r+=o)}return r}function FA(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}var CA=/^\.\.?\//u,jA=/^\/\.(?:\/|$)/u,qA=/^\/\.\.(?:\/|$)/u,mte=/^\/?(?:.|\n)*?(?=\/|$)/u;function hte(e){let t=[];for(;e.length;)if(e.match(CA))e=e.replace(CA,"");else if(e.match(jA))e=e.replace(jA,"/");else if(e.match(qA))e=e.replace(qA,"/"),t.pop();else if(e==="."||e==="..")e="";else{let r=e.match(mte);if(r){let n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function yte(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function gte(e,t){let r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host),s=DA(n);if(s.isIPV4)n=s.host;else{let i=LA(s.host,{isIPV4:!1});i.isIPV6===!0?n=`[${i.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}MA.exports={recomposeAuthority:gte,normalizeComponentEncoding:yte,removeDotSegments:hte,normalizeIPv4:DA,normalizeIPv6:LA,stringToHexStripped:o0}});var GA=y((RAe,KA)=>{"use strict";var vte=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,_te=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function UA(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function VA(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function HA(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function bte(e){return e.secure=UA(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function wte(e){if((e.port===(UA(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function xte(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(_te);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,i=a0[s];e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Ste(e,t){let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=a0[s];i&&(e=i.serialize(e,t));let o=e,a=e.nss;return o.path=`${n||t.nid}:${a}`,t.skipEscape=!0,o}function Ete(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!vte.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function $te(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var BA={scheme:"http",domainHost:!0,parse:VA,serialize:HA},Rte={scheme:"https",domainHost:BA.domainHost,parse:VA,serialize:HA},pp={scheme:"ws",domainHost:!0,parse:bte,serialize:wte},Pte={scheme:"wss",domainHost:pp.domainHost,parse:pp.parse,serialize:pp.serialize},Tte={scheme:"urn",parse:xte,serialize:Ste,skipNormalize:!0},Ote={scheme:"urn:uuid",parse:Ete,serialize:$te,skipNormalize:!0},a0={http:BA,https:Rte,ws:pp,wss:Pte,urn:Tte,"urn:uuid":Ote};KA.exports=a0});var u0=y((PAe,hp)=>{"use strict";var{normalizeIPv6:kte,normalizeIPv4:Nte,removeDotSegments:wu,recomposeAuthority:Ate,normalizeComponentEncoding:mp}=zA(),JA=GA();function Ite(e,t){return typeof e=="string"?e=Vn(bs(e,t),t):typeof e=="object"&&(e=bs(Vn(e,t),t)),e}function Cte(e,t,r){let n=Object.assign({scheme:"null"},r),s=WA(bs(e,n),bs(t,n),n,!0);return Vn(s,{...n,skipEscape:!0})}function WA(e,t,r,n){let s={};return n||(e=bs(Vn(e,r),r),t=bs(Vn(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=wu(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=wu(t.path||""),s.query=t.query):(t.path?(t.path.charAt(0)==="/"?s.path=wu(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=wu(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function jte(e,t,r){return typeof e=="string"?(e=unescape(e),e=Vn(mp(bs(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Vn(mp(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Vn(mp(bs(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Vn(mp(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Vn(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=JA[(n.scheme||r.scheme||"").toLowerCase()];i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&(s.push(r.scheme),s.push(":"));let o=Ate(r,n);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path.charAt(0)!=="/"&&s.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(a=wu(a)),o===void 0&&(a=a.replace(/^\/\//u,"/%2F")),s.push(a)}return r.query!==void 0&&(s.push("?"),s.push(r.query)),r.fragment!==void 0&&(s.push("#"),s.push(r.fragment)),s.join("")}var qte=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function Dte(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||qte[t])return!0;return!1}var Lte=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function bs(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=e.indexOf("%")!==-1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let i=e.match(Lte);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host){let a=Nte(n.host);a.isIPV4===!1?n.host=kte(a.host,{isIPV4:!1}).host.toLowerCase():n.host=a.host}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=JA[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&Dte(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(s&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),s&&n.userinfo!==void 0&&(n.userinfo=unescape(n.userinfo)),s&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURI(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var c0={normalize:Ite,resolve:Cte,resolveComponents:WA,equal:jte,serialize:Vn,parse:bs};hp.exports=c0;hp.exports.default=c0;hp.exports.fastUri=c0});var yp=y(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.formatNames=Bn.fastFormats=Bn.fullFormats=void 0;function Hn(e,t){return{validate:e,compare:t}}Bn.fullFormats={date:Hn(ZA,p0),time:Hn(d0(!0),m0),"date-time":Hn(YA(!0),tI),"iso-time":Hn(d0(),eI),"iso-date-time":Hn(YA(),rI),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Hte,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Xte,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Bte,int32:{type:"number",validate:Jte},int64:{type:"number",validate:Wte},float:{type:"number",validate:QA},double:{type:"number",validate:QA},password:!0,binary:!0};Bn.fastFormats={...Bn.fullFormats,date:Hn(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,p0),time:Hn(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m0),"date-time":Hn(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,tI),"iso-time":Hn(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,eI),"iso-date-time":Hn(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,rI),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Bn.formatNames=Object.keys(Bn.fullFormats);function Fte(e){return e%4===0&&(e%100!==0||e%400===0)}var Mte=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,zte=[0,31,28,31,30,31,30,31,31,30,31,30,31];function ZA(e){let t=Mte.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&Fte(r)?29:zte[n])}function p0(e,t){if(e&&t)return e>t?1:e<t?-1:0}var l0=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function d0(e){return function(r){let n=l0.exec(r);if(!n)return!1;let s=+n[1],i=+n[2],o=+n[3],a=n[4],c=n[5]==="-"?-1:1,l=+(n[6]||0),u=+(n[7]||0);if(l>23||u>59||e&&!a)return!1;if(s<=23&&i<=59&&o<60)return!0;let d=i-u*c,p=s-l*c-(d<0?1:0);return(p===23||p===-1)&&(d===59||d===-1)&&o<61}}function m0(e,t){if(!(e&&t))return;let r=new Date("2020-01-01T"+e).valueOf(),n=new Date("2020-01-01T"+t).valueOf();if(r&&n)return r-n}function eI(e,t){if(!(e&&t))return;let r=l0.exec(e),n=l0.exec(t);if(r&&n)return e=r[1]+r[2]+r[3],t=n[1]+n[2]+n[3],e>t?1:e<t?-1:0}var f0=/t|\s/i;function YA(e){let t=d0(e);return function(n){let s=n.split(f0);return s.length===2&&ZA(s[0])&&t(s[1])}}function tI(e,t){if(!(e&&t))return;let r=new Date(e).valueOf(),n=new Date(t).valueOf();if(r&&n)return r-n}function rI(e,t){if(!(e&&t))return;let[r,n]=e.split(f0),[s,i]=t.split(f0),o=p0(r,s);if(o!==void 0)return o||m0(n,i)}var Ute=/\/|:/,Vte=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Hte(e){return Ute.test(e)&&Vte.test(e)}var XA=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Bte(e){return XA.lastIndex=0,XA.test(e)}var Kte=-(2**31),Gte=2**31-1;function Jte(e){return Number.isInteger(e)&&e<=Gte&&e>=Kte}function Wte(e){return Number.isInteger(e)}function QA(){return!0}var Yte=/[^\\]\\Z/;function Xte(e){if(Yte.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var nI=y(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.formatLimitDefinition=void 0;var Qte=i0(),bn=me(),ni=bn.operators,gp={formatMaximum:{okStr:"<=",ok:ni.LTE,fail:ni.GT},formatMinimum:{okStr:">=",ok:ni.GTE,fail:ni.LT},formatExclusiveMaximum:{okStr:"<",ok:ni.LT,fail:ni.GTE},formatExclusiveMinimum:{okStr:">",ok:ni.GT,fail:ni.LTE}},Zte={message:({keyword:e,schemaCode:t})=>(0,bn.str)`should be ${gp[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,bn._)`{comparison: ${gp[e].okStr}, limit: ${t}}`};ya.formatLimitDefinition={keyword:Object.keys(gp),type:"string",schemaType:"string",$data:!0,error:Zte,code(e){let{gen:t,data:r,schemaCode:n,keyword:s,it:i}=e,{opts:o,self:a}=i;if(!o.validateFormats)return;let c=new Qte.KeywordCxt(i,a.RULES.all.format.definition,"format");c.$data?l():u();function l(){let p=t.scopeValue("formats",{ref:a.formats,code:o.code.formats}),m=t.const("fmt",(0,bn._)`${p}[${c.schemaCode}]`);e.fail$data((0,bn.or)((0,bn._)`typeof ${m} != "object"`,(0,bn._)`${m} instanceof RegExp`,(0,bn._)`typeof ${m}.compare != "function"`,d(m)))}function u(){let p=c.schema,m=a.formats[p];if(!m||m===!0)return;if(typeof m!="object"||m instanceof RegExp||typeof m.compare!="function")throw new Error(`"${s}": format "${p}" does not define "compare" function`);let f=t.scopeValue("formats",{key:p,ref:m,code:o.code.formats?(0,bn._)`${o.code.formats}${(0,bn.getProperty)(p)}`:void 0});e.fail$data(d(f))}function d(p){return(0,bn._)`${p}.compare(${r}, ${n}) ${gp[s].fail} 0`}},dependencies:["format"]};var ere=e=>(e.addKeyword(ya.formatLimitDefinition),e);ya.default=ere});var aI=y((xu,oI)=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});var ga=yp(),tre=nI(),h0=me(),sI=new h0.Name("fullFormats"),rre=new h0.Name("fastFormats"),y0=(e,t={keywords:!0})=>{if(Array.isArray(t))return iI(e,t,ga.fullFormats,sI),e;let[r,n]=t.mode==="fast"?[ga.fastFormats,rre]:[ga.fullFormats,sI],s=t.formats||ga.formatNames;return iI(e,s,r,n),t.keywords&&(0,tre.default)(e),e};y0.get=(e,t="full")=>{let n=(t==="fast"?ga.fastFormats:ga.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function iI(e,t,r,n){var s,i;(s=(i=e.opts.code).formats)!==null&&s!==void 0||(i.formats=(0,h0._)`require("ajv-formats/dist/formats").${n}`);for(let o of t)e.addFormat(o,r[o])}oI.exports=xu=y0;Object.defineProperty(xu,"__esModule",{value:!0});xu.default=y0});var v0=y((kAe,cI)=>{"use strict";var nre=i0(),sre=u0(),ire=aI(),ore=Nf()({proto:!0}),g0=class e{constructor(t){this.ajv=new nre({...t,strictSchema:!1,validateSchema:!1,allowUnionTypes:!0,uriResolver:sre}),ire(this.ajv),this.ajv.addKeyword({keyword:"fjs_type",type:"object",errors:!1,validate:(r,n)=>n instanceof Date}),this._ajvSchemas={},this._ajvOptions=t||{}}addSchema(t,r){let n=t.$id||r;if(t.$id!==void 0&&t.$id[0]==="#"&&(n=r+t.$id),this.ajv.refs[n]===void 0&&this.ajv.schemas[n]===void 0){let s=ore(t);this.convertSchemaToAjvFormat(s),this.ajv.addSchema(s,n),this._ajvSchemas[n]=t}}validate(t,r){return this.ajv.validate(t,r)}convertSchemaToAjvFormat(t){if(t!==null){t.type==="string"?(t.fjs_type="string",t.type=["string","object"]):Array.isArray(t.type)&&t.type.includes("string")&&!t.type.includes("object")&&(t.fjs_type="string",t.type.push("object"));for(let r in t)typeof t[r]=="object"&&this.convertSchemaToAjvFormat(t[r])}}getState(){return{ajvOptions:this._ajvOptions,ajvSchemas:this._ajvSchemas}}static restoreFromState(t){let r=new e(t.ajvOptions);for(let[n,s]of Object.entries(t.ajvSchemas))r.ajv.addSchema(s,n);return r}};cI.exports=g0});var b0=y((NAe,_0)=>{"use strict";function are(e,t,r,n){let s="";t.validatorSchemasIds.size>0?(s+=`const Validator = require('fast-json-stringify/lib/validator')
`,s+=`const validatorState = ${JSON.stringify(n.getState())}
`,s+=`const validator = Validator.restoreFromState(validatorState)
`):s+=`const validator = null
`;let{schema:i,...o}=r.getState();return`
  'use strict'

  const Serializer = require('fast-json-stringify/lib/serializer')
  const serializerState = ${JSON.stringify(o)}
  const serializer = Serializer.restoreFromState(serializerState)

  ${s}

  module.exports = ${e.toString()}(validator, serializer)`}_0.exports=are;_0.exports.dependencies={Serializer:wv(),Validator:v0()}});var lI=y((IAe,uI)=>{"use strict";var{dependencies:cre}=b0(),{Serializer:ure,Validator:AAe}=cre,lre={mode:"standalone"},dre=ure.restoreFromState(lre),fre=null;uI.exports=function(t,r){function n(i){let o=i&&typeof i.toJSON=="function"?i.toJSON():i;if(o===null)return"{}";let a=!1,c="{";return o.statusCode!==void 0&&(!a&&(a=!0)||(c+=","),c+='"statusCode":',c+=r.asNumber(o.statusCode)),o.code!==void 0&&(!a&&(a=!0)||(c+=","),c+='"code":',c+=r.asString(o.code)),o.error!==void 0&&(!a&&(a=!0)||(c+=","),c+='"error":',c+=r.asString(o.error)),o.message!==void 0&&(!a&&(a=!0)||(c+=","),c+='"message":',c+=r.asString(o.message)),c+"}"}return n}(fre,dre)});var Su=y((CAe,mI)=>{"use strict";var dI=require("node:http").STATUS_CODES,pre=vg(),{kReplyHeaders:eo,kReplyNextErrorHandler:vp,kReplyIsRunningOnErrorHook:mre,kReplyHasStatusCode:hre,kRouteContext:pI}=At(),{FST_ERR_REP_INVALID_PAYLOAD_TYPE:yre,FST_ERR_FAILED_ERROR_SERIALIZATION:gre}=Jt(),{getSchemaSerializer:vre}=Bc(),w0=lI(),_re={func:wre,toJSON(){return this.func.name.toString()+"()"}};function bre(e,t,r){e[mre]=!1;let n=e[pI];if(e[vp]===!1){fI(t,e,function(a,c){try{a.raw.writeHead(a.raw.statusCode,a[eo])}catch(l){a.log.warn({req:a.request,res:a,err:l},l&&l.message),a.raw.writeHead(a.raw.statusCode)}a.raw.end(c)});return}let s=e[vp]||n.errorHandler;e[vp]=Object.getPrototypeOf(s),delete e[eo]["content-type"],delete e[eo]["content-length"];let i=s.func;if(!i){e[vp]=!1,fI(t,e,r);return}let o=i(t,e.request,e);o!==void 0&&(o!==null&&typeof o.then=="function"?pre(o,e):e.send(o))}function wre(e,t,r){if(Sre(e,r),!r[hre]||r.statusCode===200){let n=e.statusCode||e.status;r.code(n>=400?n:500)}r.statusCode<500?r.log.info({res:r,err:e},e&&e.message):r.log.error({req:t,res:r,err:e},e&&e.message),r.send(e)}function fI(e,t,r){let n=t.raw,s=t.statusCode;t[eo]["content-type"]=t[eo]["content-type"]??"application/json; charset=utf-8";let i;try{let o=vre(t[pI],s,t[eo]["content-type"]);i=o===!1?w0({error:dI[s+""],code:e.code,message:e.message,statusCode:s}):o(Object.create(e,{error:{value:dI[s+""]},message:{value:e.message},statusCode:{value:s}}))}catch(o){t.log.error({err:o,statusCode:n.statusCode},"The serializer for the given status code failed"),t.code(500),i=w0(new gre(o.message,e.message))}typeof i!="string"&&!Buffer.isBuffer(i)&&(i=w0(new yre(typeof i))),t[eo]["content-length"]=""+Buffer.byteLength(i),r(t,i)}function xre(e=_re,t){if(!t)return e;let r=Object.create(e);return r.func=t,r}function Sre(e,t){let r=t.raw,n=r.statusCode;n=n>=400?n:500,e!=null&&(e.headers!==void 0&&t.headers(e.headers),e.status>=400?n=e.status:e.statusCode>=400&&(n=e.statusCode)),r.statusCode=n}mI.exports={buildErrorHandler:xre,handleError:bre}});var Ep=y((jAe,Sp)=>{"use strict";var $0=require("node:stream").finished,Ere=require("node:stream").Readable,{kFourOhFourContext:hI,kPublicRouteContext:yI,kReplyErrorHandlerCalled:EI,kReplyHijacked:Eu,kReplyStartTime:$u,kReplyEndTime:P0,kReplySerializer:ws,kReplySerializerDefault:bp,kReplyIsError:wp,kReplyHeaders:Ze,kReplyTrailers:It,kReplyHasStatusCode:T0,kReplyIsRunningOnErrorHook:O0,kReplyNextErrorHandler:$re,kDisableRequestLogging:$I,kSchemaResponse:xp,kReplyCacheSerializeFns:si,kSchemaController:x0,kOptions:Rre,kRouteContext:xe}=At(),{onSendHookRunner:RI,onResponseHookRunner:Pre,preHandlerHookRunner:Tre,preSerializationHookRunner:Ore}=Bs(),gI=xg()[Symbol.for("internals")],kre=Hc(),R0=kre.now,{handleError:vI}=Su(),{getSchemaSerializer:Nre}=Bc(),S0={JSON:"application/json; charset=utf-8",PLAIN:"text/plain; charset=utf-8",OCTET:"application/octet-stream"},{FST_ERR_REP_INVALID_PAYLOAD_TYPE:Are,FST_ERR_REP_RESPONSE_BODY_CONSUMED:Ire,FST_ERR_REP_ALREADY_SENT:PI,FST_ERR_REP_SENT_VALUE:Cre,FST_ERR_SEND_INSIDE_ONERR:jre,FST_ERR_BAD_STATUS_CODE:qre,FST_ERR_BAD_TRAILER_NAME:Dre,FST_ERR_BAD_TRAILER_VALUE:Lre,FST_ERR_MISSING_SERIALIZATION_FN:Fre,FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:Mre}=Jt(),{FSTDEP010:zre,FSTDEP013:Ure,FSTDEP019:Vre,FSTDEP020:Hre}=ps(),TI=Object.prototype.toString;function We(e,t,r){this.raw=e,this[ws]=null,this[EI]=!1,this[wp]=!1,this[O0]=!1,this.request=t,this[Ze]={},this[It]=null,this[T0]=!1,this[$u]=void 0,this.log=r}We.props=[];Object.defineProperties(We.prototype,{[xe]:{get(){return this.request[xe]}},context:{get(){return Vre(),this.request[xe]}},elapsedTime:{get(){return this[$u]===void 0?0:(this[P0]||R0())-this[$u]}},server:{get(){return this.request[xe].server}},sent:{enumerable:!0,get(){return(this[Eu]||this.raw.writableEnded)===!0},set(e){if(zre(),e!==!0)throw new Cre;if(this.sent&&this[Eu])throw new PI(this.request.url,this.request.method);this[Eu]=!0}},statusCode:{get(){return this.raw.statusCode},set(e){this.code(e)}},[yI]:{get(){return this.request[yI]}}});We.prototype.hijack=function(){return this[Eu]=!0,this};We.prototype.send=function(e){if(this[O0]===!0)throw new jre;if(this.sent)return this.log.warn({err:new PI(this.request.url,this.request.method)}),this;if(e instanceof Error||this[wp]===!0)return this[wp]=!1,Ru(this,e,to),this;if(e===void 0)return to(this,e),this;let t=this.getHeader("content-type"),r=t!==void 0;if(e!==null){if(typeof e.pipe=="function"||typeof e.getReader=="function"||TI.call(e)==="[object Response]")return to(this,e),this;if(e?.buffer instanceof ArrayBuffer){r===!1&&(this[Ze]["content-type"]=S0.OCTET);let n=Buffer.isBuffer(e)?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength);return to(this,n),this}if(r===!1&&typeof e=="string")return this[Ze]["content-type"]=S0.PLAIN,to(this,e),this}if(this[ws]!==null){if(typeof e!="string")return _I(this,e),this;e=this[ws](e)}else if(r===!1||t.indexOf("json")>-1){if(r===!1)this[Ze]["content-type"]=S0.JSON;else if(t.indexOf("charset")===-1){let n=t.trim();n.endsWith(";")?this[Ze]["content-type"]=`${n} charset=utf-8`:this[Ze]["content-type"]=`${n}; charset=utf-8`}if(typeof e!="string")return _I(this,e),this}return to(this,e),this};We.prototype.getHeader=function(e){e=e.toLowerCase();let t=this.raw,r=this[Ze][e];return r===void 0&&t.hasHeader(e)&&(r=t.getHeader(e)),r};We.prototype.getHeaders=function(){return{...this.raw.getHeaders(),...this[Ze]}};We.prototype.hasHeader=function(e){return e=e.toLowerCase(),this[Ze][e]!==void 0||this.raw.hasHeader(e)};We.prototype.removeHeader=function(e){return delete this[Ze][e.toLowerCase()],this};We.prototype.header=function(e,t=""){return e=e.toLowerCase(),this[Ze][e]&&e==="set-cookie"?(typeof this[Ze][e]=="string"&&(this[Ze][e]=[this[Ze][e]]),Array.isArray(t)?Array.prototype.push.apply(this[Ze][e],t):this[Ze][e].push(t)):this[Ze][e]=t,this};We.prototype.headers=function(e){let t=Object.keys(e);for(var r=0;r!==t.length;++r){let n=t[r];this.header(n,e[n])}return this};var Bre=new Set(["transfer-encoding","content-length","host","cache-control","max-forwards","te","authorization","set-cookie","content-encoding","content-type","content-range","trailer"]);We.prototype.trailer=function(e,t){if(e=e.toLowerCase(),Bre.has(e))throw new Dre(e);if(typeof t!="function")throw new Lre(e,typeof t);return this[It]===null&&(this[It]={}),this[It][e]=t,this};We.prototype.hasTrailer=function(e){return this[It]?.[e.toLowerCase()]!==void 0};We.prototype.removeTrailer=function(e){return this[It]===null?this:(this[It][e.toLowerCase()]=void 0,this)};We.prototype.code=function(e){let t=Number(e);if(isNaN(t)||t<100||t>599)throw new qre(e||String(e));return this.raw.statusCode=t,this[T0]=!0,this};We.prototype.status=We.prototype.code;We.prototype.getSerializationFunction=function(e,t){let r;return typeof e=="string"||typeof e=="number"?typeof t=="string"?r=this[xe][xp]?.[e]?.[t]:r=this[xe][xp]?.[e]:typeof e=="object"&&(r=this[xe][si]?.get(e)),r};We.prototype.compileSerializationSchema=function(e,t=null,r=null){let{request:n}=this,{method:s,url:i}=n;if(this[xe][si]?.has(e))return this[xe][si].get(e);let a=(this[xe].serializerCompiler||this.server[x0].serializerCompiler||this.server[x0].setupSerializer(this.server[Rre])||this.server[x0].serializerCompiler)({schema:e,method:s,url:i,httpStatus:t,contentType:r});return this[xe][si]==null&&(this[xe][si]=new WeakMap),this[xe][si].set(e,a),a};We.prototype.serializeInput=function(e,t,r,n){let s=r,i;if(r=typeof t=="string"||typeof t=="number"?t:r,n=r&&s!==r?s:n,r!=null){if(n!=null?i=this[xe][xp]?.[r]?.[n]:i=this[xe][xp]?.[r],i==null)throw n?new Mre(r,n):new Fre(r)}else this[xe][si]?.has(t)?i=this[xe][si].get(t):i=this.compileSerializationSchema(t,r,n);return i(e)};We.prototype.serialize=function(e){return this[ws]!==null?this[ws](e):this[xe]&&this[xe][bp]?this[xe][bp](e,this.raw.statusCode):NI(this[xe],e,this.raw.statusCode)};We.prototype.serializer=function(e){return this[ws]=e,this};We.prototype.type=function(e){return this[Ze]["content-type"]=e,this};We.prototype.redirect=function(e,t){return typeof e=="string"&&(t=e,e=this[T0]?this.raw.statusCode:302),this.header("location",t).code(e).send()};We.prototype.callNotFound=function(){return Xre(this),this};We.prototype.getResponseTime=function(){return Hre(),this.elapsedTime};We.prototype.then=function(e,t){if(this.sent){e();return}$0(this.raw,r=>{r&&r.code!=="ERR_STREAM_PREMATURE_CLOSE"?t?t(r):this.log&&this.log.warn("unhandled rejection on reply.then"):e()})};function _I(e,t){e[xe].preSerialization!==null?Ore(e[xe].preSerialization,e.request,e,t,bI):bI(null,e.request,e,t)}function bI(e,t,r,n){if(e!=null){Ru(r,e);return}try{r[ws]!==null?n=r[ws](n):r[xe]&&r[xe][bp]?n=r[xe][bp](n,r.raw.statusCode):n=NI(r[xe],n,r.raw.statusCode,r[Ze]["content-type"])}catch(s){Kre(s,r),Ru(r,s);return}to(r,n)}function Kre(e,t){e.serialization=t[xe].config}function to(e,t){e[xe].onSend!==null?RI(e[xe].onSend,e.request,e,t,Gre):OI(e,t)}function Gre(e,t,r,n){e!=null?Ru(r,e):OI(r,n)}function E0(e,t){let r=e.raw;try{r.writeHead(t,e[Ze])}catch(n){throw n.code==="ERR_HTTP_HEADERS_SENT"&&e.log.warn(`Reply was already sent, did you forget to "return reply" in the "${e.request.raw.url}" (${e.request.raw.method}) route?`),n}}function OI(e,t){let r=e.raw,n=e.request;if(e[It]!==null){let o=Object.keys(e[It]),a="";for(let c of o)typeof e[It][c]=="function"&&(a+=" ",a+=c);e.header("Transfer-Encoding","chunked"),e.header("Trailer",a.trim())}let s=TI.call(t)==="[object Response]";s&&typeof t.status=="number"&&e.code(t.status);let i=r.statusCode;if(t==null){i>=200&&i!==204&&i!==304&&n.method!=="HEAD"&&e[It]===null&&(e[Ze]["content-length"]="0"),E0(e,i),_p(t,r,e);return}if(i>=100&&i<200||i===204){e.removeHeader("content-type"),e.removeHeader("content-length"),E0(e,i),_p(void 0,r,e),typeof t.resume=="function"&&(t.on("error",AI),t.resume());return}if(typeof t.pipe=="function"){kI(t,r,e);return}if(typeof t.getReader=="function"){xI(t,r,e);return}if(s){if(typeof t.headers=="object"&&typeof t.headers.forEach=="function")for(let[o,a]of t.headers)e.header(o,a);if(t.body!=null){if(t.bodyUsed)throw new Ire;xI(t.body,r,e)}return}if(typeof t!="string"&&!Buffer.isBuffer(t))throw new Are(typeof t);if(e[It]===null){let o=e[Ze]["content-length"];(!o||n.raw.method!=="HEAD"&&Number(o)!==Buffer.byteLength(t))&&(e[Ze]["content-length"]=""+Buffer.byteLength(t))}E0(e,i),r.write(t),_p(t,r,e)}function wI(e,t,r){t.code==="ERR_STREAM_PREMATURE_CLOSE"?e[$I]||e.info({res:r},"stream closed prematurely"):e.warn({err:t},"response terminated with an error with headers already sent")}function xI(e,t,r){let n=Ere.fromWeb(e);kI(n,t,r)}function kI(e,t,r){let n=!0,s=!1;if(Jre(e,t,r),$0(e,{readable:!0,writable:!1},function(i){n=!1,i!=null&&(t.headersSent||r.request.raw.aborted===!0?(s||(s=!0,wI(r.log,i,t)),t.destroy()):Ru(r,i))}),$0(t,function(i){n&&(i!=null&&t.headersSent&&!s&&(s=!0,wI(r.log,i,t)),typeof e.destroy=="function"?e.destroy():typeof e.close=="function"?e.close(AI):typeof e.abort=="function"?e.abort():r.log.warn("stream payload does not end properly"))}),t.headersSent)r.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let i in r[Ze])t.setHeader(i,r[Ze][i]);e.pipe(t)}function _p(e,t,r){if(r[It]===null){t.end(null,null,null);return}let n=Object.keys(r[It]),s={},i=0,o=!0;function a(){i===0&&(t.addTrailers(s),t.end(null,null,null))}for(let c of n){let l=function(d,p){i++,d?r.log.debug(d):s[c]=p,process.nextTick(a)};if(typeof r[It][c]!="function")continue;o=!1,i--;let u=r[It][c](r,e,l);typeof u=="object"&&typeof u.then=="function"?u.then(d=>l(null,d),l):u!=null&&(Ure(),l(null,u))}o&&t.end(null,null,null)}function Jre(e,t,r){r[It]!==null&&e.on("end",()=>_p(null,t,r))}function Ru(e,t,r){e[xe].onError!==null&&!e[$re]?(e[O0]=!0,RI(e[xe].onError,e.request,e,t,()=>vI(e,t,r))):vI(e,t,r)}function Wre(e){e[$u]=R0();let t=r=>{e[P0]=R0(),e.raw.removeListener("finish",t),e.raw.removeListener("error",t);let n=e[xe];n&&n.onResponse!==null?Pre(n.onResponse,e.request,e,SI):SI(r,e.request,e)};e.raw.on("finish",t),e.raw.on("error",t)}function SI(e,t,r){if(r.log[$I])return;let n=r.elapsedTime;if(e!=null){r.log.error({res:r,err:e,responseTime:n},"request errored");return}r.log.info({res:r,responseTime:n},"request completed")}function Yre(e){let t=e.props.slice();function r(n,s,i){this.raw=n,this[wp]=!1,this[EI]=!1,this[Eu]=!1,this[ws]=null,this.request=s,this[Ze]={},this[It]=null,this[$u]=void 0,this[P0]=void 0,this.log=i;for(var o,a=0;a<t.length;a++)o=t[a],this[o.key]=o.value}return Object.setPrototypeOf(r.prototype,e.prototype),Object.setPrototypeOf(r,e),r.parent=e,r.props=t,r}function Xre(e){if(e[xe][hI]===null){e.log.warn("Trying to send a NotFound error inside a 404 handler. Sending basic 404 response."),e.code(404).send("404 Not Found");return}e.request[xe]=e[xe][hI],e[xe].preHandler!==null?Tre(e[xe].preHandler,e.request,e,gI.preHandlerCallback):gI.preHandlerCallback(null,e.request,e)}function NI(e,t,r,n){let s=Nre(e,r,n);return s?s(t):JSON.stringify(t)}function AI(){}Sp.exports=We;Sp.exports.buildReply=Yre;Sp.exports.setupResponseListeners=Wre});var CI=y((qAe,II)=>{"use strict";II.exports=Qre;function Qre(e){if(!e)throw new TypeError("argument req is required");var t=ene(e.headers["x-forwarded-for"]||""),r=Zre(e),n=[r].concat(t);return n}function Zre(e){return e.socket?e.socket.remoteAddress:e.connection.remoteAddress}function ene(e){for(var t=e.length,r=[],n=e.length,s=e.length-1;s>=0;s--)switch(e.charCodeAt(s)){case 32:n===t&&(n=t=s);break;case 44:n!==t&&r.push(e.substring(n,t)),n=t=s;break;default:n=s;break}return n!==t&&r.push(e.substring(n,t)),r}});var qI=y((jI,Pu)=>{(function(){var e,t,r,n,s,i,o,a,c;t={},a=this,typeof Pu<"u"&&Pu!==null&&Pu.exports?Pu.exports=t:a.ipaddr=t,o=function(l,u,d,p){var m,f;if(l.length!==u.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(m=0;p>0;){if(f=d-p,f<0&&(f=0),l[m]>>f!==u[m]>>f)return!1;p-=d,m+=1}return!0},t.subnetMatch=function(l,u,d){var p,m,f,h,v;d==null&&(d="unicast");for(f in u)for(h=u[f],h[0]&&!(h[0]instanceof Array)&&(h=[h]),p=0,m=h.length;p<m;p++)if(v=h[p],l.kind()===v[0].kind()&&l.match.apply(l,v))return f;return d},t.IPv4=function(){function l(u){var d,p,m;if(u.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(d=0,p=u.length;d<p;d++)if(m=u[d],!(0<=m&&m<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=u}return l.prototype.kind=function(){return"ipv4"},l.prototype.toString=function(){return this.octets.join(".")},l.prototype.toNormalizedString=function(){return this.toString()},l.prototype.toByteArray=function(){return this.octets.slice(0)},l.prototype.match=function(u,d){var p;if(d===void 0&&(p=u,u=p[0],d=p[1]),u.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return o(this.octets,u.octets,8,d)},l.prototype.SpecialRanges={unspecified:[[new l([0,0,0,0]),8]],broadcast:[[new l([255,255,255,255]),32]],multicast:[[new l([224,0,0,0]),4]],linkLocal:[[new l([169,254,0,0]),16]],loopback:[[new l([127,0,0,0]),8]],carrierGradeNat:[[new l([100,64,0,0]),10]],private:[[new l([10,0,0,0]),8],[new l([172,16,0,0]),12],[new l([192,168,0,0]),16]],reserved:[[new l([192,0,0,0]),24],[new l([192,0,2,0]),24],[new l([192,88,99,0]),24],[new l([198,51,100,0]),24],[new l([203,0,113,0]),24],[new l([240,0,0,0]),4]]},l.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},l.prototype.toIPv4MappedAddress=function(){return t.IPv6.parse("::ffff:"+this.toString())},l.prototype.prefixLengthFromSubnetMask=function(){var u,d,p,m,f,h,v;for(v={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},u=0,f=!1,d=p=3;p>=0;d=p+=-1)if(m=this.octets[d],m in v){if(h=v[m],f&&h!==0)return null;h!==8&&(f=!0),u+=h}else return null;return 32-u},l}(),r="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp("^"+r+"\\."+r+"\\."+r+"\\."+r+"$","i"),longValue:new RegExp("^"+r+"$","i")},t.IPv4.parser=function(l){var u,d,p,m,f;if(d=function(h){return h[0]==="0"&&h[1]!=="x"?parseInt(h,8):parseInt(h)},u=l.match(n.fourOctet))return function(){var h,v,b,S;for(b=u.slice(1,6),S=[],h=0,v=b.length;h<v;h++)p=b[h],S.push(d(p));return S}();if(u=l.match(n.longValue)){if(f=d(u[1]),f>4294967295||f<0)throw new Error("ipaddr: address outside defined range");return function(){var h,v;for(v=[],m=h=0;h<=24;m=h+=8)v.push(f>>m&255);return v}().reverse()}else return null},t.IPv6=function(){function l(u,d){var p,m,f,h,v,b;if(u.length===16)for(this.parts=[],p=m=0;m<=14;p=m+=2)this.parts.push(u[p]<<8|u[p+1]);else if(u.length===8)this.parts=u;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(b=this.parts,f=0,h=b.length;f<h;f++)if(v=b[f],!(0<=v&&v<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");d&&(this.zoneId=d)}return l.prototype.kind=function(){return"ipv6"},l.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},l.prototype.toRFC5952String=function(){var u,d,p,m,f;for(m=/((^|:)(0(:|$)){2,})/g,f=this.toNormalizedString(),u=0,d=-1;p=m.exec(f);)p[0].length>d&&(u=p.index,d=p[0].length);return d<0?f:f.substring(0,u)+"::"+f.substring(u+d)},l.prototype.toByteArray=function(){var u,d,p,m,f;for(u=[],f=this.parts,d=0,p=f.length;d<p;d++)m=f[d],u.push(m>>8),u.push(m&255);return u},l.prototype.toNormalizedString=function(){var u,d,p;return u=function(){var m,f,h,v;for(h=this.parts,v=[],m=0,f=h.length;m<f;m++)d=h[m],v.push(d.toString(16));return v}.call(this).join(":"),p="",this.zoneId&&(p="%"+this.zoneId),u+p},l.prototype.toFixedLengthString=function(){var u,d,p;return u=function(){var m,f,h,v;for(h=this.parts,v=[],m=0,f=h.length;m<f;m++)d=h[m],v.push(d.toString(16).padStart(4,"0"));return v}.call(this).join(":"),p="",this.zoneId&&(p="%"+this.zoneId),u+p},l.prototype.match=function(u,d){var p;if(d===void 0&&(p=u,u=p[0],d=p[1]),u.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return o(this.parts,u.parts,16,d)},l.prototype.SpecialRanges={unspecified:[new l([0,0,0,0,0,0,0,0]),128],linkLocal:[new l([65152,0,0,0,0,0,0,0]),10],multicast:[new l([65280,0,0,0,0,0,0,0]),8],loopback:[new l([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new l([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new l([0,0,0,0,0,65535,0,0]),96],rfc6145:[new l([0,0,0,0,65535,0,0,0]),96],rfc6052:[new l([100,65435,0,0,0,0,0,0]),96],"6to4":[new l([8194,0,0,0,0,0,0,0]),16],teredo:[new l([8193,0,0,0,0,0,0,0]),32],reserved:[[new l([8193,3512,0,0,0,0,0,0]),32]]},l.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},l.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},l.prototype.toIPv4Address=function(){var u,d,p;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return p=this.parts.slice(-2),u=p[0],d=p[1],new t.IPv4([u>>8,u&255,d>>8,d&255])},l.prototype.prefixLengthFromSubnetMask=function(){var u,d,p,m,f,h,v;for(v={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},u=0,f=!1,d=p=7;p>=0;d=p+=-1)if(m=this.parts[d],m in v){if(h=v[m],f&&h!==0)return null;h!==16&&(f=!0),u+=h}else return null;return 128-u},l}(),s="(?:[0-9a-f]+::?)+",c="%[0-9a-z]{1,}",i={zoneIndex:new RegExp(c,"i"),native:new RegExp("^(::)?("+s+")?([0-9a-f]+)?(::)?("+c+")?$","i"),transitional:new RegExp("^((?:"+s+")|(?:::)(?:"+s+")?)"+(r+"\\."+r+"\\."+r+"\\."+r)+("("+c+")?$"),"i")},e=function(l,u){var d,p,m,f,h,v;if(l.indexOf("::")!==l.lastIndexOf("::"))return null;for(v=(l.match(i.zoneIndex)||[])[0],v&&(v=v.substring(1),l=l.replace(/%.+$/,"")),d=0,p=-1;(p=l.indexOf(":",p+1))>=0;)d++;if(l.substr(0,2)==="::"&&d--,l.substr(-2,2)==="::"&&d--,d>u)return null;for(h=u-d,f=":";h--;)f+="0:";return l=l.replace("::",f),l[0]===":"&&(l=l.slice(1)),l[l.length-1]===":"&&(l=l.slice(0,-1)),u=function(){var b,S,_,g;for(_=l.split(":"),g=[],b=0,S=_.length;b<S;b++)m=_[b],g.push(parseInt(m,16));return g}(),{parts:u,zoneId:v}},t.IPv6.parser=function(l){var u,d,p,m,f,h,v;if(i.native.test(l))return e(l,8);if((m=l.match(i.transitional))&&(v=m[6]||"",u=e(m[1].slice(0,-1)+v,6),u.parts)){for(h=[parseInt(m[2]),parseInt(m[3]),parseInt(m[4]),parseInt(m[5])],d=0,p=h.length;d<p;d++)if(f=h[d],!(0<=f&&f<=255))return null;return u.parts.push(h[0]<<8|h[1]),u.parts.push(h[2]<<8|h[3]),{parts:u.parts,zoneId:u.zoneId}}return null},t.IPv4.isIPv4=t.IPv6.isIPv6=function(l){return this.parser(l)!==null},t.IPv4.isValid=function(l){var u;try{return new this(this.parser(l)),!0}catch(d){return u=d,!1}},t.IPv4.isValidFourPartDecimal=function(l){return!!(t.IPv4.isValid(l)&&l.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},t.IPv6.isValid=function(l){var u,d;if(typeof l=="string"&&l.indexOf(":")===-1)return!1;try{return u=this.parser(l),new this(u.parts,u.zoneId),!0}catch(p){return d=p,!1}},t.IPv4.parse=function(l){var u;if(u=this.parser(l),u===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u)},t.IPv6.parse=function(l){var u;if(u=this.parser(l),u.parts===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u.parts,u.zoneId)},t.IPv4.parseCIDR=function(l){var u,d,p;if((d=l.match(/^(.+)\/(\d+)$/))&&(u=parseInt(d[2]),u>=0&&u<=32))return p=[this.parse(d[1]),u],Object.defineProperty(p,"toString",{value:function(){return this.join("/")}}),p;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},t.IPv4.subnetMaskFromPrefixLength=function(l){var u,d,p;if(l=parseInt(l),l<0||l>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(p=[0,0,0,0],d=0,u=Math.floor(l/8);d<u;)p[d]=255,d++;return u<4&&(p[u]=Math.pow(2,l%8)-1<<8-l%8),new this(p)},t.IPv4.broadcastAddressFromCIDR=function(l){var u,d,p,m,f,h;try{for(u=this.parseCIDR(l),m=u[0].toByteArray(),h=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),f=[],p=0;p<4;)f.push(parseInt(m[p],10)|parseInt(h[p],10)^255),p++;return new this(f)}catch(v){throw d=v,new Error("ipaddr: the address does not have IPv4 CIDR format")}},t.IPv4.networkAddressFromCIDR=function(l){var u,d,p,m,f,h;try{for(u=this.parseCIDR(l),m=u[0].toByteArray(),h=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),f=[],p=0;p<4;)f.push(parseInt(m[p],10)&parseInt(h[p],10)),p++;return new this(f)}catch(v){throw d=v,new Error("ipaddr: the address does not have IPv4 CIDR format")}},t.IPv6.parseCIDR=function(l){var u,d,p;if((d=l.match(/^(.+)\/(\d+)$/))&&(u=parseInt(d[2]),u>=0&&u<=128))return p=[this.parse(d[1]),u],Object.defineProperty(p,"toString",{value:function(){return this.join("/")}}),p;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},t.isValid=function(l){return t.IPv6.isValid(l)||t.IPv4.isValid(l)},t.parse=function(l){if(t.IPv6.isValid(l))return t.IPv6.parse(l);if(t.IPv4.isValid(l))return t.IPv4.parse(l);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},t.parseCIDR=function(l){var u;try{return t.IPv6.parseCIDR(l)}catch(d){u=d;try{return t.IPv4.parseCIDR(l)}catch(p){throw u=p,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},t.fromByteArray=function(l){var u;if(u=l.length,u===4)return new t.IPv4(l);if(u===16)return new t.IPv6(l);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},t.process=function(l){var u;return u=this.parse(l),u.kind()==="ipv6"&&u.isIPv4MappedAddress()?u.toIPv4Address():u}}).call(jI)});var zI=y((DAe,Pp)=>{"use strict";Pp.exports=ane;Pp.exports.all=FI;Pp.exports.compile=MI;var tne=CI(),LI=qI(),rne=/^[0-9]+$/,$p=LI.isValid,Rp=LI.parse,DI={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function FI(e,t){var r=tne(e);if(!t)return r;typeof t!="function"&&(t=MI(t));for(var n=0;n<r.length-1;n++)t(r[n],n)||(r.length=n+1);return r}function MI(e){if(!e)throw new TypeError("argument is required");var t;if(typeof e=="string")t=[e];else if(Array.isArray(e))t=e.slice();else throw new TypeError("unsupported trust argument");for(var r=0;r<t.length;r++)e=t[r],Object.prototype.hasOwnProperty.call(DI,e)&&(e=DI[e],t.splice.apply(t,[r,1].concat(e)),r+=e.length-1);return sne(nne(t))}function nne(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=ine(e[r]);return t}function sne(e){var t=e.length;return t===0?cne:t===1?lne(e[0]):une(e)}function ine(e){var t=e.lastIndexOf("/"),r=t!==-1?e.substring(0,t):e;if(!$p(r))throw new TypeError("invalid IP address: "+r);var n=Rp(r);t===-1&&n.kind()==="ipv6"&&n.isIPv4MappedAddress()&&(n=n.toIPv4Address());var s=n.kind()==="ipv6"?128:32,i=t!==-1?e.substring(t+1,e.length):null;if(i===null?i=s:rne.test(i)?i=parseInt(i,10):n.kind()==="ipv4"&&$p(i)?i=one(i):i=null,i<=0||i>s)throw new TypeError("invalid range on address: "+e);return[n,i]}function one(e){var t=Rp(e),r=t.kind();return r==="ipv4"?t.prefixLengthFromSubnetMask():null}function ane(e,t){if(!e)throw new TypeError("req argument is required");if(!t)throw new TypeError("trust argument is required");var r=FI(e,t),n=r[r.length-1];return n}function cne(){return!1}function une(e){return function(r){if(!$p(r))return!1;for(var n=Rp(r),s,i=n.kind(),o=0;o<e.length;o++){var a=e[o],c=a[0],l=c.kind(),u=a[1],d=n;if(i!==l){if(l==="ipv4"&&!n.isIPv4MappedAddress())continue;s||(s=l==="ipv4"?n.toIPv4Address():n.toIPv4MappedAddress()),d=s}if(d.match(c,u))return!0}return!1}}function lne(e){var t=e[0],r=t.kind(),n=r==="ipv4",s=e[1];return function(o){if(!$p(o))return!1;var a=Rp(o),c=a.kind();if(c!==r){if(n&&!a.isIPv4MappedAddress())return!1;a=n?a.toIPv4Address():a.toIPv4MappedAddress()}return a.match(t,s)}}});var Tu=y((LAe,UI)=>{"use strict";var dne="2.0.0",fne=Number.MAX_SAFE_INTEGER||9007199254740991,pne=16,mne=250,hne=["major","premajor","minor","preminor","patch","prepatch","prerelease"];UI.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:pne,MAX_SAFE_BUILD_LENGTH:mne,MAX_SAFE_INTEGER:fne,RELEASE_TYPES:hne,SEMVER_SPEC_VERSION:dne,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ou=y((FAe,VI)=>{"use strict";var yne=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};VI.exports=yne});var va=y((Kn,HI)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:k0,MAX_SAFE_BUILD_LENGTH:gne,MAX_LENGTH:vne}=Tu(),_ne=Ou();Kn=HI.exports={};var bne=Kn.re=[],wne=Kn.safeRe=[],H=Kn.src=[],xne=Kn.safeSrc=[],B=Kn.t={},Sne=0,N0="[a-zA-Z0-9-]",Ene=[["\\s",1],["\\d",vne],[N0,gne]],$ne=e=>{for(let[t,r]of Ene)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},ue=(e,t,r)=>{let n=$ne(t),s=Sne++;_ne(e,s,t),B[e]=s,H[s]=t,xne[s]=n,bne[s]=new RegExp(t,r?"g":void 0),wne[s]=new RegExp(n,r?"g":void 0)};ue("NUMERICIDENTIFIER","0|[1-9]\\d*");ue("NUMERICIDENTIFIERLOOSE","\\d+");ue("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${N0}*`);ue("MAINVERSION",`(${H[B.NUMERICIDENTIFIER]})\\.(${H[B.NUMERICIDENTIFIER]})\\.(${H[B.NUMERICIDENTIFIER]})`);ue("MAINVERSIONLOOSE",`(${H[B.NUMERICIDENTIFIERLOOSE]})\\.(${H[B.NUMERICIDENTIFIERLOOSE]})\\.(${H[B.NUMERICIDENTIFIERLOOSE]})`);ue("PRERELEASEIDENTIFIER",`(?:${H[B.NONNUMERICIDENTIFIER]}|${H[B.NUMERICIDENTIFIER]})`);ue("PRERELEASEIDENTIFIERLOOSE",`(?:${H[B.NONNUMERICIDENTIFIER]}|${H[B.NUMERICIDENTIFIERLOOSE]})`);ue("PRERELEASE",`(?:-(${H[B.PRERELEASEIDENTIFIER]}(?:\\.${H[B.PRERELEASEIDENTIFIER]})*))`);ue("PRERELEASELOOSE",`(?:-?(${H[B.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${H[B.PRERELEASEIDENTIFIERLOOSE]})*))`);ue("BUILDIDENTIFIER",`${N0}+`);ue("BUILD",`(?:\\+(${H[B.BUILDIDENTIFIER]}(?:\\.${H[B.BUILDIDENTIFIER]})*))`);ue("FULLPLAIN",`v?${H[B.MAINVERSION]}${H[B.PRERELEASE]}?${H[B.BUILD]}?`);ue("FULL",`^${H[B.FULLPLAIN]}$`);ue("LOOSEPLAIN",`[v=\\s]*${H[B.MAINVERSIONLOOSE]}${H[B.PRERELEASELOOSE]}?${H[B.BUILD]}?`);ue("LOOSE",`^${H[B.LOOSEPLAIN]}$`);ue("GTLT","((?:<|>)?=?)");ue("XRANGEIDENTIFIERLOOSE",`${H[B.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ue("XRANGEIDENTIFIER",`${H[B.NUMERICIDENTIFIER]}|x|X|\\*`);ue("XRANGEPLAIN",`[v=\\s]*(${H[B.XRANGEIDENTIFIER]})(?:\\.(${H[B.XRANGEIDENTIFIER]})(?:\\.(${H[B.XRANGEIDENTIFIER]})(?:${H[B.PRERELEASE]})?${H[B.BUILD]}?)?)?`);ue("XRANGEPLAINLOOSE",`[v=\\s]*(${H[B.XRANGEIDENTIFIERLOOSE]})(?:\\.(${H[B.XRANGEIDENTIFIERLOOSE]})(?:\\.(${H[B.XRANGEIDENTIFIERLOOSE]})(?:${H[B.PRERELEASELOOSE]})?${H[B.BUILD]}?)?)?`);ue("XRANGE",`^${H[B.GTLT]}\\s*${H[B.XRANGEPLAIN]}$`);ue("XRANGELOOSE",`^${H[B.GTLT]}\\s*${H[B.XRANGEPLAINLOOSE]}$`);ue("COERCEPLAIN",`(^|[^\\d])(\\d{1,${k0}})(?:\\.(\\d{1,${k0}}))?(?:\\.(\\d{1,${k0}}))?`);ue("COERCE",`${H[B.COERCEPLAIN]}(?:$|[^\\d])`);ue("COERCEFULL",H[B.COERCEPLAIN]+`(?:${H[B.PRERELEASE]})?(?:${H[B.BUILD]})?(?:$|[^\\d])`);ue("COERCERTL",H[B.COERCE],!0);ue("COERCERTLFULL",H[B.COERCEFULL],!0);ue("LONETILDE","(?:~>?)");ue("TILDETRIM",`(\\s*)${H[B.LONETILDE]}\\s+`,!0);Kn.tildeTrimReplace="$1~";ue("TILDE",`^${H[B.LONETILDE]}${H[B.XRANGEPLAIN]}$`);ue("TILDELOOSE",`^${H[B.LONETILDE]}${H[B.XRANGEPLAINLOOSE]}$`);ue("LONECARET","(?:\\^)");ue("CARETTRIM",`(\\s*)${H[B.LONECARET]}\\s+`,!0);Kn.caretTrimReplace="$1^";ue("CARET",`^${H[B.LONECARET]}${H[B.XRANGEPLAIN]}$`);ue("CARETLOOSE",`^${H[B.LONECARET]}${H[B.XRANGEPLAINLOOSE]}$`);ue("COMPARATORLOOSE",`^${H[B.GTLT]}\\s*(${H[B.LOOSEPLAIN]})$|^$`);ue("COMPARATOR",`^${H[B.GTLT]}\\s*(${H[B.FULLPLAIN]})$|^$`);ue("COMPARATORTRIM",`(\\s*)${H[B.GTLT]}\\s*(${H[B.LOOSEPLAIN]}|${H[B.XRANGEPLAIN]})`,!0);Kn.comparatorTrimReplace="$1$2$3";ue("HYPHENRANGE",`^\\s*(${H[B.XRANGEPLAIN]})\\s+-\\s+(${H[B.XRANGEPLAIN]})\\s*$`);ue("HYPHENRANGELOOSE",`^\\s*(${H[B.XRANGEPLAINLOOSE]})\\s+-\\s+(${H[B.XRANGEPLAINLOOSE]})\\s*$`);ue("STAR","(<|>)?=?\\s*\\*");ue("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ue("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Tp=y((MAe,BI)=>{"use strict";var Rne=Object.freeze({loose:!0}),Pne=Object.freeze({}),Tne=e=>e?typeof e!="object"?Rne:e:Pne;BI.exports=Tne});var A0=y((zAe,JI)=>{"use strict";var KI=/^[0-9]+$/,GI=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;let r=KI.test(e),n=KI.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},One=(e,t)=>GI(t,e);JI.exports={compareIdentifiers:GI,rcompareIdentifiers:One}});var Zt=y((UAe,YI)=>{"use strict";var Op=Ou(),{MAX_LENGTH:WI,MAX_SAFE_INTEGER:kp}=Tu(),{safeRe:Np,t:Ap}=va(),kne=Tp(),{compareIdentifiers:I0}=A0(),C0=class e{constructor(t,r){if(r=kne(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>WI)throw new TypeError(`version is longer than ${WI} characters`);Op("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?Np[Ap.LOOSE]:Np[Ap.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>kp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>kp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>kp||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<kp)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Op("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=t.prerelease[r];if(Op("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return I0(n,s)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],s=t.build[r];if(Op("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return I0(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let s=`-${r}`.match(this.options.loose?Np[Ap.PRERELEASELOOSE]:Np[Ap.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),I0(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};YI.exports=C0});var ro=y((VAe,QI)=>{"use strict";var XI=Zt(),Nne=(e,t,r=!1)=>{if(e instanceof XI)return e;try{return new XI(e,t)}catch(n){if(!r)return null;throw n}};QI.exports=Nne});var eC=y((HAe,ZI)=>{"use strict";var Ane=ro(),Ine=(e,t)=>{let r=Ane(e,t);return r?r.version:null};ZI.exports=Ine});var rC=y((BAe,tC)=>{"use strict";var Cne=ro(),jne=(e,t)=>{let r=Cne(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};tC.exports=jne});var iC=y((KAe,sC)=>{"use strict";var nC=Zt(),qne=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new nC(e instanceof nC?e.version:e,r).inc(t,n,s).version}catch{return null}};sC.exports=qne});var cC=y((GAe,aC)=>{"use strict";var oC=ro(),Dne=(e,t)=>{let r=oC(e,null,!0),n=oC(t,null,!0),s=r.compare(n);if(s===0)return null;let i=s>0,o=i?r:n,a=i?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};aC.exports=Dne});var lC=y((JAe,uC)=>{"use strict";var Lne=Zt(),Fne=(e,t)=>new Lne(e,t).major;uC.exports=Fne});var fC=y((WAe,dC)=>{"use strict";var Mne=Zt(),zne=(e,t)=>new Mne(e,t).minor;dC.exports=zne});var mC=y((YAe,pC)=>{"use strict";var Une=Zt(),Vne=(e,t)=>new Une(e,t).patch;pC.exports=Vne});var yC=y((XAe,hC)=>{"use strict";var Hne=ro(),Bne=(e,t)=>{let r=Hne(e,t);return r&&r.prerelease.length?r.prerelease:null};hC.exports=Bne});var Wr=y((QAe,vC)=>{"use strict";var gC=Zt(),Kne=(e,t,r)=>new gC(e,r).compare(new gC(t,r));vC.exports=Kne});var bC=y((ZAe,_C)=>{"use strict";var Gne=Wr(),Jne=(e,t,r)=>Gne(t,e,r);_C.exports=Jne});var xC=y((eIe,wC)=>{"use strict";var Wne=Wr(),Yne=(e,t)=>Wne(e,t,!0);wC.exports=Yne});var Ip=y((tIe,EC)=>{"use strict";var SC=Zt(),Xne=(e,t,r)=>{let n=new SC(e,r),s=new SC(t,r);return n.compare(s)||n.compareBuild(s)};EC.exports=Xne});var RC=y((rIe,$C)=>{"use strict";var Qne=Ip(),Zne=(e,t)=>e.sort((r,n)=>Qne(r,n,t));$C.exports=Zne});var TC=y((nIe,PC)=>{"use strict";var ese=Ip(),tse=(e,t)=>e.sort((r,n)=>ese(n,r,t));PC.exports=tse});var ku=y((sIe,OC)=>{"use strict";var rse=Wr(),nse=(e,t,r)=>rse(e,t,r)>0;OC.exports=nse});var Cp=y((iIe,kC)=>{"use strict";var sse=Wr(),ise=(e,t,r)=>sse(e,t,r)<0;kC.exports=ise});var j0=y((oIe,NC)=>{"use strict";var ose=Wr(),ase=(e,t,r)=>ose(e,t,r)===0;NC.exports=ase});var q0=y((aIe,AC)=>{"use strict";var cse=Wr(),use=(e,t,r)=>cse(e,t,r)!==0;AC.exports=use});var jp=y((cIe,IC)=>{"use strict";var lse=Wr(),dse=(e,t,r)=>lse(e,t,r)>=0;IC.exports=dse});var qp=y((uIe,CC)=>{"use strict";var fse=Wr(),pse=(e,t,r)=>fse(e,t,r)<=0;CC.exports=pse});var D0=y((lIe,jC)=>{"use strict";var mse=j0(),hse=q0(),yse=ku(),gse=jp(),vse=Cp(),_se=qp(),bse=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return mse(e,r,n);case"!=":return hse(e,r,n);case">":return yse(e,r,n);case">=":return gse(e,r,n);case"<":return vse(e,r,n);case"<=":return _se(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};jC.exports=bse});var DC=y((dIe,qC)=>{"use strict";var wse=Zt(),xse=ro(),{safeRe:Dp,t:Lp}=va(),Sse=(e,t)=>{if(e instanceof wse)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Dp[Lp.COERCEFULL]:Dp[Lp.COERCE]);else{let c=t.includePrerelease?Dp[Lp.COERCERTLFULL]:Dp[Lp.COERCERTL],l;for(;(l=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return xse(`${n}.${s}.${i}${o}${a}`,t)};qC.exports=Sse});var FC=y((fIe,LC)=>{"use strict";var L0=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}};LC.exports=L0});var Yr=y((pIe,VC)=>{"use strict";var Ese=/\s+/g,F0=class e{constructor(t,r){if(r=Rse(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof M0)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(Ese," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!zC(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Ise(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&Nse)|(this.options.loose&&Ase))+":"+t,s=MC.get(n);if(s)return s;let i=this.options.loose,o=i?pr[er.HYPHENRANGELOOSE]:pr[er.HYPHENRANGE];t=t.replace(o,Vse(this.options.includePrerelease)),st("hyphen replace",t),t=t.replace(pr[er.COMPARATORTRIM],Tse),st("comparator trim",t),t=t.replace(pr[er.TILDETRIM],Ose),st("tilde trim",t),t=t.replace(pr[er.CARETTRIM],kse),st("caret trim",t);let a=t.split(" ").map(d=>Cse(d,this.options)).join(" ").split(/\s+/).map(d=>Use(d,this.options));i&&(a=a.filter(d=>(st("loose invalid filter",d,this.options),!!d.match(pr[er.COMPARATORLOOSE])))),st("range list",a);let c=new Map,l=a.map(d=>new M0(d,this.options));for(let d of l){if(zC(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return MC.set(n,u),u}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>UC(n,r)&&t.set.some(s=>UC(s,r)&&n.every(i=>s.every(o=>i.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new Pse(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Hse(this.set[r],t,this.options))return!0;return!1}};VC.exports=F0;var $se=FC(),MC=new $se,Rse=Tp(),M0=Nu(),st=Ou(),Pse=Zt(),{safeRe:pr,t:er,comparatorTrimReplace:Tse,tildeTrimReplace:Ose,caretTrimReplace:kse}=va(),{FLAG_INCLUDE_PRERELEASE:Nse,FLAG_LOOSE:Ase}=Tu(),zC=e=>e.value==="<0.0.0-0",Ise=e=>e.value==="",UC=(e,t)=>{let r=!0,n=e.slice(),s=n.pop();for(;r&&n.length;)r=n.every(i=>s.intersects(i,t)),s=n.pop();return r},Cse=(e,t)=>(e=e.replace(pr[er.BUILD],""),st("comp",e,t),e=Dse(e,t),st("caret",e),e=jse(e,t),st("tildes",e),e=Fse(e,t),st("xrange",e),e=zse(e,t),st("stars",e),e),mr=e=>!e||e.toLowerCase()==="x"||e==="*",jse=(e,t)=>e.trim().split(/\s+/).map(r=>qse(r,t)).join(" "),qse=(e,t)=>{let r=t.loose?pr[er.TILDELOOSE]:pr[er.TILDE];return e.replace(r,(n,s,i,o,a)=>{st("tilde",e,n,s,i,o,a);let c;return mr(s)?c="":mr(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:mr(o)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(st("replaceTilde pr",a),c=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,st("tilde return",c),c})},Dse=(e,t)=>e.trim().split(/\s+/).map(r=>Lse(r,t)).join(" "),Lse=(e,t)=>{st("caret",e,t);let r=t.loose?pr[er.CARETLOOSE]:pr[er.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(s,i,o,a,c)=>{st("caret",e,s,i,o,a,c);let l;return mr(i)?l="":mr(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:mr(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:c?(st("replaceCaret pr",c),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${c} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${c} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${c} <${+i+1}.0.0-0`):(st("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),st("caret return",l),l})},Fse=(e,t)=>(st("replaceXRanges",e,t),e.split(/\s+/).map(r=>Mse(r,t)).join(" ")),Mse=(e,t)=>{e=e.trim();let r=t.loose?pr[er.XRANGELOOSE]:pr[er.XRANGE];return e.replace(r,(n,s,i,o,a,c)=>{st("xRange",e,n,s,i,o,a,c);let l=mr(i),u=l||mr(o),d=u||mr(a),p=d;return s==="="&&p&&(s=""),c=t.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&p?(u&&(o=0),a=0,s===">"?(s=">=",u?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",u?i=+i+1:o=+o+1),s==="<"&&(c="-0"),n=`${s+i}.${o}.${a}${c}`):u?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),st("xRange return",n),n})},zse=(e,t)=>(st("replaceStars",e,t),e.trim().replace(pr[er.STAR],"")),Use=(e,t)=>(st("replaceGTE0",e,t),e.trim().replace(pr[t.includePrerelease?er.GTE0PRE:er.GTE0],"")),Vse=e=>(t,r,n,s,i,o,a,c,l,u,d,p)=>(mr(n)?r="":mr(s)?r=`>=${n}.0.0${e?"-0":""}`:mr(i)?r=`>=${n}.${s}.0${e?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,mr(l)?c="":mr(u)?c=`<${+l+1}.0.0-0`:mr(d)?c=`<${l}.${+u+1}.0-0`:p?c=`<=${l}.${u}.${d}-${p}`:e?c=`<${l}.${u}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),Hse=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(st(e[n].semver),e[n].semver!==M0.ANY&&e[n].semver.prerelease.length>0){let s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}});var Nu=y((mIe,WC)=>{"use strict";var Au=Symbol("SemVer ANY"),V0=class e{static get ANY(){return Au}constructor(t,r){if(r=HC(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),U0("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Au?this.value="":this.value=this.operator+this.semver.version,U0("comp",this)}parse(t){let r=this.options.loose?BC[KC.COMPARATORLOOSE]:BC[KC.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new GC(n[2],this.options.loose):this.semver=Au}toString(){return this.value}test(t){if(U0("Comparator.test",t,this.options.loose),this.semver===Au||t===Au)return!0;if(typeof t=="string")try{t=new GC(t,this.options)}catch{return!1}return z0(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new JC(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new JC(this.value,r).test(t.semver):(r=HC(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||z0(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||z0(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};WC.exports=V0;var HC=Tp(),{safeRe:BC,t:KC}=va(),z0=D0(),U0=Ou(),GC=Zt(),JC=Yr()});var Iu=y((hIe,YC)=>{"use strict";var Bse=Yr(),Kse=(e,t,r)=>{try{t=new Bse(t,r)}catch{return!1}return t.test(e)};YC.exports=Kse});var QC=y((yIe,XC)=>{"use strict";var Gse=Yr(),Jse=(e,t)=>new Gse(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));XC.exports=Jse});var ej=y((gIe,ZC)=>{"use strict";var Wse=Zt(),Yse=Yr(),Xse=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Yse(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new Wse(n,r))}),n};ZC.exports=Xse});var rj=y((vIe,tj)=>{"use strict";var Qse=Zt(),Zse=Yr(),eie=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Zse(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new Qse(n,r))}),n};tj.exports=eie});var ij=y((_Ie,sj)=>{"use strict";var H0=Zt(),tie=Yr(),nj=ku(),rie=(e,t)=>{e=new tie(e,t);let r=new H0("0.0.0");if(e.test(r)||(r=new H0("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let s=e.set[n],i=null;s.forEach(o=>{let a=new H0(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||nj(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||nj(r,i))&&(r=i)}return r&&e.test(r)?r:null};sj.exports=rie});var aj=y((bIe,oj)=>{"use strict";var nie=Yr(),sie=(e,t)=>{try{return new nie(e,t).range||"*"}catch{return null}};oj.exports=sie});var Fp=y((wIe,dj)=>{"use strict";var iie=Zt(),lj=Nu(),{ANY:oie}=lj,aie=Yr(),cie=Iu(),cj=ku(),uj=Cp(),uie=qp(),lie=jp(),die=(e,t,r,n)=>{e=new iie(e,n),t=new aie(t,n);let s,i,o,a,c;switch(r){case">":s=cj,i=uie,o=uj,a=">",c=">=";break;case"<":s=uj,i=lie,o=cj,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(cie(e,t,n))return!1;for(let l=0;l<t.set.length;++l){let u=t.set[l],d=null,p=null;if(u.forEach(m=>{m.semver===oie&&(m=new lj(">=0.0.0")),d=d||m,p=p||m,s(m.semver,d.semver,n)?d=m:o(m.semver,p.semver,n)&&(p=m)}),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===c&&o(e,p.semver))return!1}return!0};dj.exports=die});var pj=y((xIe,fj)=>{"use strict";var fie=Fp(),pie=(e,t,r)=>fie(e,t,">",r);fj.exports=pie});var hj=y((SIe,mj)=>{"use strict";var mie=Fp(),hie=(e,t,r)=>mie(e,t,"<",r);mj.exports=hie});var vj=y((EIe,gj)=>{"use strict";var yj=Yr(),yie=(e,t,r)=>(e=new yj(e,r),t=new yj(t,r),e.intersects(t,r));gj.exports=yie});var bj=y(($Ie,_j)=>{"use strict";var gie=Iu(),vie=Wr();_j.exports=(e,t,r)=>{let n=[],s=null,i=null,o=e.sort((u,d)=>vie(u,d,r));for(let u of o)gie(u,t,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[u,d]of n)u===d?a.push(u):!d&&u===o[0]?a.push("*"):d?u===o[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t}});var Rj=y((RIe,$j)=>{"use strict";var wj=Yr(),K0=Nu(),{ANY:B0}=K0,Cu=Iu(),G0=Wr(),_ie=(e,t,r={})=>{if(e===t)return!0;e=new wj(e,r),t=new wj(t,r);let n=!1;e:for(let s of e.set){for(let i of t.set){let o=wie(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},bie=[new K0(">=0.0.0-0")],xj=[new K0(">=0.0.0")],wie=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===B0){if(t.length===1&&t[0].semver===B0)return!0;r.includePrerelease?e=bie:e=xj}if(t.length===1&&t[0].semver===B0){if(r.includePrerelease)return!0;t=xj}let n=new Set,s,i;for(let m of e)m.operator===">"||m.operator===">="?s=Sj(s,m,r):m.operator==="<"||m.operator==="<="?i=Ej(i,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(s&&i){if(o=G0(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let m of n){if(s&&!Cu(m,String(s),r)||i&&!Cu(m,String(i),r))return null;for(let f of t)if(!Cu(m,String(f),r))return!1;return!0}let a,c,l,u,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,p=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let m of t){if(u=u||m.operator===">"||m.operator===">=",l=l||m.operator==="<"||m.operator==="<=",s){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(a=Sj(s,m,r),a===m&&a!==s)return!1}else if(s.operator===">="&&!Cu(s.semver,String(m),r))return!1}if(i){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(c=Ej(i,m,r),c===m&&c!==i)return!1}else if(i.operator==="<="&&!Cu(i.semver,String(m),r))return!1}if(!m.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&u&&!s&&o!==0||p||d)},Sj=(e,t,r)=>{if(!e)return t;let n=G0(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Ej=(e,t,r)=>{if(!e)return t;let n=G0(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};$j.exports=_ie});var W0=y((PIe,Oj)=>{"use strict";var J0=va(),Pj=Tu(),xie=Zt(),Tj=A0(),Sie=ro(),Eie=eC(),$ie=rC(),Rie=iC(),Pie=cC(),Tie=lC(),Oie=fC(),kie=mC(),Nie=yC(),Aie=Wr(),Iie=bC(),Cie=xC(),jie=Ip(),qie=RC(),Die=TC(),Lie=ku(),Fie=Cp(),Mie=j0(),zie=q0(),Uie=jp(),Vie=qp(),Hie=D0(),Bie=DC(),Kie=Nu(),Gie=Yr(),Jie=Iu(),Wie=QC(),Yie=ej(),Xie=rj(),Qie=ij(),Zie=aj(),eoe=Fp(),toe=pj(),roe=hj(),noe=vj(),soe=bj(),ioe=Rj();Oj.exports={parse:Sie,valid:Eie,clean:$ie,inc:Rie,diff:Pie,major:Tie,minor:Oie,patch:kie,prerelease:Nie,compare:Aie,rcompare:Iie,compareLoose:Cie,compareBuild:jie,sort:qie,rsort:Die,gt:Lie,lt:Fie,eq:Mie,neq:zie,gte:Uie,lte:Vie,cmp:Hie,coerce:Bie,Comparator:Kie,Range:Gie,satisfies:Jie,toComparators:Wie,maxSatisfying:Yie,minSatisfying:Xie,minVersion:Qie,validRange:Zie,outside:eoe,gtr:toe,ltr:roe,intersects:noe,simplifyRange:soe,subset:ioe,SemVer:xie,re:J0.re,src:J0.src,tokens:J0.t,SEMVER_SPEC_VERSION:Pj.SEMVER_SPEC_VERSION,RELEASE_TYPES:Pj.RELEASE_TYPES,compareIdentifiers:Tj.compareIdentifiers,rcompareIdentifiers:Tj.rcompareIdentifiers}});var zp=y((TIe,Z0)=>{"use strict";var Mp=zI(),ooe=W0(),{FSTDEP005:aoe,FSTDEP012:coe,FSTDEP015:uoe,FSTDEP016:loe,FSTDEP017:doe,FSTDEP018:foe}=ps(),{kHasBeenDecorated:poe,kSchemaBody:moe,kSchemaHeaders:hoe,kSchemaParams:yoe,kSchemaQuerystring:kj,kSchemaController:Y0,kOptions:goe,kRequestCacheValidateFns:ii,kRouteContext:_t,kPublicRouteContext:Nj,kRequestOriginalUrl:X0}=At(),{FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:voe}=Jt(),Aj={body:moe,headers:hoe,params:yoe,querystring:kj,query:kj};function Q0(e,t,r,n,s,i){this.id=e,this[_t]=i,this.params=t,this.raw=r,this.query=n,this.log=s,this.body=void 0}Q0.props=[];function _oe(e){if(typeof e=="function")return e;if(e===!0)return function(){return!0};if(typeof e=="number")return function(t,r){return r<e};if(typeof e=="string"){let t=e.split(",").map(r=>r.trim());return Mp.compile(t)}return Mp.compile(e)}function boe(e,t){return t?woe(e,t):Cj(e)}function Cj(e){let t=e.props.slice();function r(n,s,i,o,a,c){this.id=n,this[_t]=c,this.params=s,this.raw=i,this.query=o,this.log=a,this.body=void 0;for(var l,u=0;u<t.length;u++)l=t[u],this[l.key]=l.value}return Object.setPrototypeOf(r.prototype,e.prototype),Object.setPrototypeOf(r,e),r.props=t,r.parent=e,r}function Ij(e){let t=e.lastIndexOf(",");return t===-1?e.trim():e.slice(t+1).trim()}function woe(e,t){let r=Cj(e),n=_oe(t);return r[poe]=!0,Object.defineProperties(r.prototype,{ip:{get(){return Mp(this.raw,n)}},ips:{get(){return Mp.all(this.raw,n)}},hostname:{get(){return this.ip!==void 0&&this.headers["x-forwarded-host"]?Ij(this.headers["x-forwarded-host"]):this.headers.host||this.headers[":authority"]}},protocol:{get(){if(this.headers["x-forwarded-proto"])return Ij(this.headers["x-forwarded-proto"]);if(this.socket)return this.socket.encrypted?"https":"http"}}}),r}Object.defineProperties(Q0.prototype,{server:{get(){return this[_t].server}},url:{get(){return this.raw.url}},originalUrl:{get(){return this[X0]||(this[X0]=this.raw.originalUrl||this.raw.url),this[X0]}},method:{get(){return this.raw.method}},context:{get(){return coe(),this[_t]}},routerPath:{get(){return doe(),this[_t].config?.url}},routeOptions:{get(){let e=this[_t],t=e._parserOptions.limit,r=e.server.initialConfig.bodyLimit,n=e.server.hasConstraintStrategy("version")?this.raw.headers["accept-version"]:void 0,s={method:e.config?.method,url:e.config?.url,bodyLimit:t||r,attachValidation:e.attachValidation,logLevel:e.logLevel,exposeHeadRoute:e.exposeHeadRoute,prefixTrailingSlash:e.prefixTrailingSlash,handler:e.handler,version:n};return Object.defineProperties(s,{config:{get:()=>e.config},schema:{get:()=>e.schema}}),Object.freeze(s)}},routerMethod:{get(){return foe(),this[_t].config?.method}},routeConfig:{get(){return loe(),this[_t][Nj]?.config}},routeSchema:{get(){return uoe(),this[_t][Nj].schema}},is404:{get(){return this[_t].config?.url===void 0}},connection:{get(){return ooe.gte(process.versions.node,"13.0.0")&&aoe(),this.raw.connection}},socket:{get(){return this.raw.socket}},ip:{get(){if(this.socket)return this.socket.remoteAddress}},hostname:{get(){return this.raw.headers.host||this.raw.headers[":authority"]}},protocol:{get(){if(this.socket)return this.socket.encrypted?"https":"http"}},headers:{get(){return this.additionalHeaders?Object.assign({},this.raw.headers,this.additionalHeaders):this.raw.headers},set(e){this.additionalHeaders=e}},getValidationFunction:{value:function(e){if(typeof e=="string"){let t=Aj[e];return this[_t][t]}else if(typeof e=="object")return this[_t][ii]?.get(e)}},compileValidationSchema:{value:function(e,t=null){let{method:r,url:n}=this;if(this[_t][ii]?.has(e))return this[_t][ii].get(e);let i=(this[_t].validatorCompiler||this.server[Y0].validatorCompiler||this.server[Y0].setupValidator(this.server[goe])||this.server[Y0].validatorCompiler)({schema:e,method:r,url:n,httpPart:t});return this[_t][ii]==null&&(this[_t][ii]=new WeakMap),this[_t][ii].set(e,i),i}},validateInput:{value:function(e,t,r){r=typeof t=="string"?t:r;let n=r!=null&&typeof r=="string"&&Aj[r],s;if(n&&(s=this[_t][n]),s==null&&(t==null||typeof t!="object"||Array.isArray(t)))throw new voe(r);return s==null&&(this[_t][ii]?.has(t)?s=this[_t][ii].get(t):s=this.compileValidationSchema(t,r)),s(e)}}});Z0.exports=Q0;Z0.exports.buildRequest=boe});var Up=y((OIe,jj)=>{"use strict";var{kFourOhFourContext:xoe,kReplySerializerDefault:Soe,kSchemaErrorFormatter:Eoe,kErrorHandler:$oe,kChildLoggerFactory:Roe,kOptions:Poe,kReply:Toe,kRequest:Ooe,kBodyLimit:koe,kLogLevel:Noe,kContentTypeParser:Aoe,kRouteByFastify:Ioe,kRequestCacheValidateFns:Coe,kReplyCacheSerializeFns:joe,kPublicRouteContext:qoe}=At();function Doe({schema:e,handler:t,config:r,requestIdLogLabel:n,childLoggerFactory:s,errorHandler:i,bodyLimit:o,logLevel:a,logSerializers:c,attachValidation:l,validatorCompiler:u,serializerCompiler:d,replySerializer:p,schemaErrorFormatter:m,exposeHeadRoute:f,prefixTrailingSlash:h,server:v,isFastify:b}){this.schema=e,this.handler=t,this.Reply=v[Toe],this.Request=v[Ooe],this.contentTypeParser=v[Aoe],this.onRequest=null,this.onSend=null,this.onError=null,this.onTimeout=null,this.preHandler=null,this.onResponse=null,this.preSerialization=null,this.onRequestAbort=null,this.config=r,this.errorHandler=i||v[$oe],this.requestIdLogLabel=n||v[Poe].requestIdLogLabel,this.childLoggerFactory=s||v[Roe],this._middie=null,this._parserOptions={limit:o||v[koe]},this.exposeHeadRoute=f,this.prefixTrailingSlash=h,this.logLevel=a||v[Noe],this.logSerializers=c,this[xoe]=null,this.attachValidation=l,this[Soe]=p,this.schemaErrorFormatter=m||v[Eoe]||Foe,this[Ioe]=b,this[Coe]=null,this[joe]=null,this.validatorCompiler=u||null,this.serializerCompiler=d||null,this[qoe]=Loe(this),this.server=v}function Loe(e){return Object.create(null,{schema:{enumerable:!0,get(){return e.schema}},config:{enumerable:!0,get(){return e.config}}})}function Foe(e,t){let r="",n=", ";for(var s=0;s!==e.length;++s){let i=e[s];r+=t+(i.instancePath||"")+" "+i.message+n}return new Error(r.slice(0,-n.length))}jj.exports=Doe});var eb=y((kIe,qj)=>{"use strict";qj.exports={supportedMethods:["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS","PROPFIND","PROPPATCH","MKCOL","COPY","MOVE","LOCK","UNLOCK","TRACE","SEARCH"]}});var ib=y((NIe,Mj)=>{"use strict";var{kReply:tb,kRequest:rb,kState:Moe,kHasBeenDecorated:zoe}=At(),{FST_ERR_DEC_ALREADY_PRESENT:Dj,FST_ERR_DEC_MISSING_DEPENDENCY:Uoe,FST_ERR_DEC_AFTER_START:Voe,FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:Hoe}=Jt(),{FSTDEP006:Boe}=ps();function Koe(e,t,r,n){if(Object.prototype.hasOwnProperty.call(e,t))throw new Dj(t);nb(e,t,n),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(e,t,{get:r.getter,set:r.setter}):e[t]=r}function Lj(e,t,r,n){let s=e.prototype;if(Object.prototype.hasOwnProperty.call(s,t)||Hp(e,t))throw new Dj(t);e[zoe]=!0,nb(e,t,n),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(s,t,{get:r.getter,set:r.setter}):typeof r=="function"?s[t]=r:e.props.push({key:t,value:r})}function Fj(e,t){typeof t=="object"&&t&&!(typeof t.getter=="function"||typeof t.setter=="function")&&Boe(e)}function Goe(e,t,r){return sb(this,e),Koe(this,e,t,r),this}function Vp(e,t){return t?t in e||e.prototype&&t in e.prototype||Hp(e,t):e in this}function Hp(e,t){return e.props?e.props.find(({key:r})=>r===t):!1}function Joe(e){return e&&Hp(this[rb],e)?!0:Vp(this[rb].prototype,e)}function Woe(e){return e&&Hp(this[tb],e)?!0:Vp(this[tb].prototype,e)}function nb(e,t,r){if(r!=null){if(!Array.isArray(r))throw new Hoe(t);for(var n=0;n!==r.length;++n)if(!Vp(e,r[n]))throw new Uoe(r[n])}}function Yoe(e,t,r){return sb(this,e),Fj(e,t),Lj(this[tb],e,t,r),this}function Xoe(e,t,r){return sb(this,e),Fj(e,t),Lj(this[rb],e,t,r),this}function sb(e,t){if(e[Moe].started)throw new Voe(t)}Mj.exports={add:Goe,exist:Vp,existRequest:Joe,existReply:Woe,dependencies:nb,decorateReply:Yoe,decorateRequest:Xoe}});var Uj=y(Gn=>{"use strict";var ob=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=t,this.ttl=r}get size(){return this.items.size}clear(){this.items=new Map,this.first=null,this.last=null}delete(t){if(this.items.has(t)){let r=this.items.get(t);this.items.delete(t),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;this.items.delete(t.key),this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(this.items.has(t))return this.items.get(t).expiry}get(t){if(this.items.has(t)){let r=this.items.get(t);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return this.items.keys()}set(t,r){if(this.items.has(t)){let s=this.items.get(t);s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items.set(t,n),this.size===1?this.first=n:this.last.next=n,this.last=n}},ab=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=t,this.ttl=r}get size(){return this.items.size}bumpLru(t){if(this.last===t)return;let r=this.last,n=t.next,s=t.prev;this.first===t&&(this.first=n),t.next=null,t.prev=r,r.next=t,s!==null&&(s.next=n),n!==null&&(n.prev=s),this.last=t}clear(){this.items=new Map,this.first=null,this.last=null}delete(t){if(this.items.has(t)){let r=this.items.get(t);this.items.delete(t),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;this.items.delete(t.key),this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(this.items.has(t))return this.items.get(t).expiry}get(t){if(this.items.has(t)){let r=this.items.get(t);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return this.bumpLru(r),r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return this.items.keys()}set(t,r){if(this.items.has(t)){let s=this.items.get(t);s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==s&&this.bumpLru(s);return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items.set(t,n),this.size===1?this.first=n:this.last.next=n,this.last=n}},ju=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=t,this.ttl=r}bumpLru(t){if(this.last===t)return;let r=this.last,n=t.next,s=t.prev;this.first===t&&(this.first=n),t.next=null,t.prev=r,r.next=t,s!==null&&(s.next=n),n!==null&&(n.prev=s),this.last=t}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];delete this.items[t],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;delete this.items[t.key],--this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(Object.prototype.hasOwnProperty.call(this.items,t))return this.items[t].expiry}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return this.bumpLru(r),r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return Object.keys(this.items)}set(t,r){if(Object.prototype.hasOwnProperty.call(this.items,t)){let s=this.items[t];s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==s&&this.bumpLru(s);return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items[t]=n,++this.size===1?this.first=n:this.last.next=n,this.last=n}},Bp=class{constructor(){this.records={}}initForCache(t,r){this.records[t]={[r]:{cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}}resetForCache(t){for(let r of Object.keys(this.records[t]))this.records[t][r]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}getStatistics(){return this.records}};function zj(e){return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}var cb=class{constructor(t,r,n){this.cacheId=t,this.statisticTtlInHours=r,this.collectionStart=new Date,this.currentTimeStamp=zj(this.collectionStart),this.records=n||new Bp,this.records.initForCache(this.cacheId,this.currentTimeStamp)}get currentRecord(){return this.records.records[this.cacheId][this.currentTimeStamp]||(this.records.records[this.cacheId][this.currentTimeStamp]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,sets:0,invalidateOne:0,invalidateAll:0}),this.records.records[this.cacheId][this.currentTimeStamp]}hoursPassed(){return(Date.now()-this.collectionStart)/1e3/60/60}addHit(){this.archiveIfNeeded(),this.currentRecord.hits++}addFalsyHit(){this.archiveIfNeeded(),this.currentRecord.falsyHits++}addEmptyHit(){this.archiveIfNeeded(),this.currentRecord.emptyHits++}addMiss(){this.archiveIfNeeded(),this.currentRecord.misses++}addEviction(){this.archiveIfNeeded(),this.currentRecord.evictions++}setCacheSize(t){this.archiveIfNeeded(),this.currentRecord.cacheSize=t}addExpiration(){this.archiveIfNeeded(),this.currentRecord.expirations++}addSet(){this.archiveIfNeeded(),this.currentRecord.sets++}addInvalidateOne(){this.archiveIfNeeded(),this.currentRecord.invalidateOne++}addInvalidateAll(){this.archiveIfNeeded(),this.currentRecord.invalidateAll++}getStatistics(){return this.records.getStatistics()}archiveIfNeeded(){this.hoursPassed()>=this.statisticTtlInHours&&(this.collectionStart=new Date,this.currentTimeStamp=zj(this.collectionStart),this.records.initForCache(this.cacheId,this.currentTimeStamp))}},Kp=class extends ju{constructor(t,r,n,s,i){if(super(t||1e3,r||0),!n)throw new Error("Cache id is mandatory");this.hitStatistics=new cb(n,i!==void 0?i:24,s)}getStatistics(){return this.hitStatistics.getStatistics()}set(t,r){super.set(t,r),this.hitStatistics.addSet(),this.hitStatistics.setCacheSize(this.size)}evict(){super.evict(),this.hitStatistics.addEviction(),this.hitStatistics.setCacheSize(this.size)}delete(t,r=!1){super.delete(t),r||this.hitStatistics.addInvalidateOne(),this.hitStatistics.setCacheSize(this.size)}clear(){super.clear(),this.hitStatistics.addInvalidateAll(),this.hitStatistics.setCacheSize(this.size)}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t,!0),this.hitStatistics.addExpiration();return}return this.bumpLru(r),r.value||this.hitStatistics.addFalsyHit(),(r.value===void 0||r.value===null||r.value==="")&&this.hitStatistics.addEmptyHit(),this.hitStatistics.addHit(),r.value}this.hitStatistics.addMiss()}},Gp=class{constructor(t=1e3,r=0){if(isNaN(t)||t<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=t,this.ttl=r}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];delete this.items[t],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(t){for(var r=0;r<t.length;r++)this.delete(t[r])}evict(){if(this.size>0){let t=this.first;delete this.items[t.key],--this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}}expiresAt(t){if(Object.prototype.hasOwnProperty.call(this.items,t))return this.items[t].expiry}get(t){if(Object.prototype.hasOwnProperty.call(this.items,t)){let r=this.items[t];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(t);return}return r.value}}getMany(t){let r=[];for(var n=0;n<t.length;n++)r.push(this.get(t[n]));return r}keys(){return Object.keys(this.items)}set(t,r){if(Object.prototype.hasOwnProperty.call(this.items,t)){let s=this.items[t];s.value=r,s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r};this.items[t]=n,++this.size===1?this.first=n:this.last.next=n,this.last=n}};Gn.Fifo=Gp;Gn.FifoMap=ob;Gn.FifoObject=Gp;Gn.HitStatisticsRecord=Bp;Gn.Lru=ju;Gn.LruHitStatistics=Kp;Gn.LruMap=ab;Gn.LruObject=ju;Gn.LruObjectHitStatistics=Kp});var Kj=y((IIe,qu)=>{"use strict";var Yp=function(){};Yp.prototype=Object.create(null);var Jp=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,Wp=/\\([\v\u0020-\u00ff])/gu,Vj=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,no={type:"",parameters:new Yp};Object.freeze(no.parameters);Object.freeze(no);function Hj(e){if(typeof e!="string")throw new TypeError("argument header is required and must be a string");let t=e.indexOf(";"),r=t!==-1?e.slice(0,t).trim():e.trim();if(Vj.test(r)===!1)throw new TypeError("invalid media type");let n={type:r.toLowerCase(),parameters:new Yp};if(t===-1)return n;let s,i,o;for(Jp.lastIndex=t;i=Jp.exec(e);){if(i.index!==t)throw new TypeError("invalid parameter format");t+=i[0].length,s=i[1].toLowerCase(),o=i[2],o[0]==='"'&&(o=o.slice(1,o.length-1),Wp.test(o)&&(o=o.replace(Wp,"$1"))),n.parameters[s]=o}if(t!==e.length)throw new TypeError("invalid parameter format");return n}function Bj(e){if(typeof e!="string")return no;let t=e.indexOf(";"),r=t!==-1?e.slice(0,t).trim():e.trim();if(Vj.test(r)===!1)return no;let n={type:r.toLowerCase(),parameters:new Yp};if(t===-1)return n;let s,i,o;for(Jp.lastIndex=t;i=Jp.exec(e);){if(i.index!==t)return no;t+=i[0].length,s=i[1].toLowerCase(),o=i[2],o[0]==='"'&&(o=o.slice(1,o.length-1),Wp.test(o)&&(o=o.replace(Wp,"$1"))),n.parameters[s]=o}return t!==e.length?no:n}qu.exports.default={parse:Hj,safeParse:Bj};qu.exports.parse=Hj;qu.exports.safeParse=Bj;qu.exports.defaultContentType=no});var Xj=y((CIe,_a)=>{"use strict";var Qoe=typeof Buffer<"u",Gj=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Jj=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function Wj(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),Qoe&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let s=r&&r.protoAction||"error",i=r&&r.constructorAction||"error";if(s==="ignore"&&i==="ignore")return n;if(s!=="ignore"&&i!=="ignore"){if(Gj.test(e)===!1&&Jj.test(e)===!1)return n}else if(s!=="ignore"&&i==="ignore"){if(Gj.test(e)===!1)return n}else if(Jj.test(e)===!1)return n;return Yj(n,{protoAction:s,constructorAction:i,safe:r&&r.safe})}function Yj(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let s=[e];for(;s.length;){let i=s;s=[];for(let o of i){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let a in o){let c=o[a];c&&typeof c=="object"&&s.push(c)}}}return e}function ub(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Wj(e,t,r)}finally{Error.stackTraceLimit=n}}function Zoe(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Wj(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}_a.exports=ub;_a.exports.default=ub;_a.exports.parse=ub;_a.exports.safeParse=Zoe;_a.exports.scan=Yj});var mb=y((jIe,Lu)=>{"use strict";var{AsyncResource:eae}=require("node:async_hooks"),{Fifo:Zj}=Uj(),{safeParse:eq,defaultContentType:tae}=Kj(),rae=Xj(),{kDefaultJsonParse:Du,kContentTypeParser:ba,kBodyLimit:nae,kRequestPayloadStream:tq,kState:db,kTestInternals:sae,kReplyIsError:rq,kRouteContext:iae}=At(),{FST_ERR_CTP_INVALID_TYPE:nq,FST_ERR_CTP_EMPTY_TYPE:oae,FST_ERR_CTP_ALREADY_PRESENT:aae,FST_ERR_CTP_INVALID_HANDLER:cae,FST_ERR_CTP_INVALID_PARSE_TYPE:uae,FST_ERR_CTP_BODY_TOO_LARGE:Qj,FST_ERR_CTP_INVALID_MEDIA_TYPE:lae,FST_ERR_CTP_INVALID_CONTENT_LENGTH:dae,FST_ERR_CTP_EMPTY_JSON_BODY:fae,FST_ERR_CTP_INSTANCE_ALREADY_STARTED:fb}=Jt();function xs(e,t,r){this[Du]=iq(t,r),this.customParsers=new Map,this.customParsers.set("application/json",new lb(!0,!1,e,this[Du])),this.customParsers.set("text/plain",new lb(!0,!1,e,pb)),this.parserList=[new Xp("application/json"),new Xp("text/plain")],this.parserRegExpList=[],this.cache=new Zj(100)}xs.prototype.add=function(e,t,r){let n=typeof e=="string";if(!n&&!(e instanceof RegExp))throw new nq;if(n&&e.length===0)throw new oae;if(typeof r!="function")throw new cae;if(this.existingParser(e))throw new aae(e);if(t.parseAs!==void 0&&t.parseAs!=="string"&&t.parseAs!=="buffer")throw new uae(t.parseAs);let s=new lb(t.parseAs==="string",t.parseAs==="buffer",t.bodyLimit,r);n&&e==="*"?this.customParsers.set("",s):(n?this.parserList.unshift(new Xp(e)):(e.isEssence=e.source.indexOf(";")===-1,this.parserRegExpList.unshift(e)),this.customParsers.set(e.toString(),s))};xs.prototype.hasParser=function(e){return this.customParsers.has(typeof e=="string"?e:e.toString())};xs.prototype.existingParser=function(e){return e==="application/json"&&this.customParsers.has(e)?this.customParsers.get(e).fn!==this[Du]:e==="text/plain"&&this.customParsers.has(e)?this.customParsers.get(e).fn!==pb:this.hasParser(e)};xs.prototype.getParser=function(e){if(this.hasParser(e))return this.customParsers.get(e);let t=this.cache.get(e);if(t!==void 0)return t;let r=eq(e);if(r===tae)return this.customParsers.get("");for(var n=0;n!==this.parserList.length;++n){let i=this.parserList[n];if(vae(r,i)){let o=this.customParsers.get(i.name);return this.cache.set(e,o),o}}for(var s=0;s!==this.parserRegExpList.length;++s){let i=this.parserRegExpList[s];if(_ae(e,r.type,i)){let o=this.customParsers.get(i.toString());return this.cache.set(e,o),o}}return this.customParsers.get("")};xs.prototype.removeAll=function(){this.customParsers=new Map,this.parserRegExpList=[],this.parserList=[],this.cache=new Zj(100)};xs.prototype.remove=function(e){if(!(typeof e=="string"||e instanceof RegExp))throw new nq;let t=this.customParsers.delete(e.toString()),r=typeof e=="string"?this.parserList:this.parserRegExpList,n=r.findIndex(s=>s.toString()===e.toString());return n>-1&&r.splice(n,1),t||n>-1};xs.prototype.run=function(e,t,r,n){let s=this.getParser(e);if(s===void 0){r.is404?t(r,n):n.send(new lae(e||void 0));return}let i=new eae("content-type-parser:run",r);if(s.asString===!0||s.asBuffer===!0)sq(r,n,n[iae]._parserOptions,s,o);else{let a=s.fn(r,r[tq],o);a&&typeof a.then=="function"&&a.then(c=>o(null,c),o)}function o(a,c){i.runInAsyncScope(()=>{i.emitDestroy(),a?(n[rq]=!0,n.send(a)):(r.body=c,t(r,n))})}};function sq(e,t,r,n,s){let i=n.asString,o=r.limit===null?n.bodyLimit:r.limit,a=e.headers["content-length"]===void 0?NaN:Number(e.headers["content-length"]);if(a>o){t.header("connection","close"),t.send(new Qj);return}let c=0,l=i===!0?"":[],u=e[tq]||e.raw;i===!0&&u.setEncoding("utf8"),u.on("data",d),u.on("end",p),u.on("error",p),u.resume();function d(m){c+=m.length;let{receivedEncodedLength:f=0}=u;if(c>o||f>o){u.removeListener("data",d),u.removeListener("end",p),u.removeListener("error",p),t.send(new Qj);return}i===!0?l+=m:l.push(m)}function p(m){if(u.removeListener("data",d),u.removeListener("end",p),u.removeListener("error",p),m!==void 0){typeof m.statusCode=="number"&&m.statusCode>=400||(m.statusCode=400),t[rq]=!0,t.code(m.statusCode).send(m);return}if(i===!0&&(c=Buffer.byteLength(l)),!Number.isNaN(a)&&(u.receivedEncodedLength||c)!==a){t.header("connection","close"),t.send(new dae);return}i===!1&&(l=Buffer.concat(l));let f=n.fn(e,l,s);f&&typeof f.then=="function"&&f.then(h=>s(null,h),s)}}function iq(e,t){return r;function r(n,s,i){if(s===""||s==null||Buffer.isBuffer(s)&&s.length===0)return i(new fae,void 0);let o;try{o=rae.parse(s,{protoAction:e,constructorAction:t})}catch(a){return a.statusCode=400,i(a,void 0)}i(null,o)}}function pb(e,t,r){r(null,t)}function lb(e,t,r,n){this.asString=e,this.asBuffer=t,this.bodyLimit=r,this.fn=n}function pae(e){let t=new xs;return t[Du]=e[Du],t.customParsers=new Map(e.customParsers.entries()),t.parserList=e.parserList.slice(),t.parserRegExpList=e.parserRegExpList.slice(),t}function mae(e,t,r){if(this[db].started)throw new fb("addContentTypeParser");return typeof t=="function"&&(r=t,t={}),t||(t={}),t.bodyLimit||(t.bodyLimit=this[nae]),Array.isArray(e)?e.forEach(n=>this[ba].add(n,t,r)):this[ba].add(e,t,r),this}function hae(e){return this[ba].hasParser(e)}function yae(e){if(this[db].started)throw new fb("removeContentTypeParser");if(Array.isArray(e))for(let t of e)this[ba].remove(t);else this[ba].remove(e)}function gae(){if(this[db].started)throw new fb("removeAllContentTypeParsers");this[ba].removeAll()}function vae(e,t){if(t.isEssence)return e.type.indexOf(t)!==-1;if(e.type.indexOf(t.type)===-1)return!1;for(let r of t.parameterKeys)if(!(r in e.parameters)||e.parameters[r]!==t.parameters[r])return!1;return!0}function _ae(e,t,r){return r.isEssence?r.test(t):r.test(e)}function Xp(e){this.name=e;let t=eq(e);if(this.isEssence=e.indexOf(";")===-1,this.isEssence===!1&&t.type===""){let r=e.split(";",1)[0];this.type=r===""?e:r}else this.type=t.type;this.parameters=t.parameters,this.parameterKeys=Object.keys(t.parameters)}Xp.prototype.toString=function(){return this.name};Lu.exports=xs;Lu.exports.helpers={buildContentTypeParser:pae,addContentTypeParser:mae,hasContentTypeParser:hae,removeContentTypeParser:yae,removeAllContentTypeParsers:gae};Lu.exports.defaultParsers={getDefaultJsonParser:iq,defaultTextParser:pb};Lu.exports[sae]={rawBody:sq}});var uq=y((qIe,cq)=>{"use strict";var oq=Kr(),bae=Symbol.for("json-schema-ref"),hb=class{#e;#t;#n;#s;#i;constructor(t={}){this.#e={},this.#t={},this.#n=t.insertRefSymbol??!1,this.#s=t.allowEqualDuplicates??!0,this.#i=t.cloneSchemaWithoutRefs??!1}addSchema(t,r){t.$id!==void 0&&t.$id.charAt(0)!=="#"?r=t.$id:this.#u(t,r),this.#a(t,r)}getSchema(t,r="#"){let n=this.#e[t];if(n===void 0)throw new Error(`Cannot resolve ref "${t}${r}". Schema with id "${t}" is not found.`);return n.anchors[r]!==void 0?n.anchors[r]:aq(n.schema,r)}hasSchema(t){return this.#e[t]!==void 0}getSchemaRefs(t){let r=this.#e[t];if(r===void 0)throw new Error(`Schema with id "${t}" is not found.`);return r.refs}getSchemaDependencies(t,r={}){let n=this.#e[t];for(let s of n.refs){let i=s.schemaId;r[i]===void 0&&(r[i]=this.getSchema(i),this.getSchemaDependencies(i,r))}return r}derefSchema(t){if(this.#t[t]!==void 0)return;let r=this.#e[t];if(r===void 0)throw new Error(`Schema with id "${t}" is not found.`);!this.#i&&r.refs.length===0&&(this.#t[t]={schema:r.schema,anchors:r.anchors});let n=[];this.#r(r.schema,t,n);let s=this.getSchemaDependencies(t);for(let i in s){let o=s[i];this.#r(o,i,n)}for(let i of n){let{refSchemaId:o,refJsonPointer:a}=this.#o(i.ref,i.sourceSchemaId),c=this.getDerefSchema(o,a);if(c===null)throw new Error(`Cannot resolve ref "${i.ref}". Ref "${a}" is not found in schema "${o}".`);i.targetSchema=c,i.targetSchemaId=o}for(let i of n)this.#c(i,n)}getDerefSchema(t,r="#"){let n=this.#t[t];return n===void 0&&(this.derefSchema(t),n=this.#t[t]),n.anchors[r]!==void 0?n.anchors[r]:aq(n.schema,r)}#o(t,r){let n=t.indexOf("#");return n===-1?{refSchemaId:t,refJsonPointer:"#"}:n===0?{refSchemaId:r,refJsonPointer:t}:{refSchemaId:t.slice(0,n),refJsonPointer:t.slice(n)}}#a(t,r){let n=t.$id;n!==void 0&&typeof n=="string"&&(n.charAt(0)==="#"?this.#l(t,r,n):(this.#u(t,n),r=n));let s=t.$ref;if(s!==void 0&&typeof s=="string"){let{refSchemaId:i,refJsonPointer:o}=this.#o(s,r);this.#e[r].refs.push({schemaId:i,jsonPointer:o})}for(let i in t)typeof t[i]=="object"&&t[i]!==null&&this.#a(t[i],r)}#r(t,r,n=[]){let s=Array.isArray(t)?[...t]:{...t},i=s.$id;i!==void 0&&typeof i=="string"&&(i.charAt(0)==="#"?this.#f(s,r,i):(this.#d(s,i),r=i)),s.$ref!==void 0&&n.push({ref:s.$ref,sourceSchemaId:r,sourceSchema:s});for(let o in s){let a=s[o];typeof a=="object"&&a!==null&&(s[o]=this.#r(a,r,n))}return s}#c(t,r){let{sourceSchema:n,targetSchema:s}=t;if(n.$ref){if(this.#n&&(n[bae]=n.$ref),delete n.$ref,s.$ref){let i=r.find(o=>o.sourceSchema===s);this.#c(i,r)}for(let i in s)if(i!=="$id"){if(n[i]!==void 0){if(oq(n[i],s[i]))continue;throw new Error(`Cannot resolve ref "${t.ref}". Property "${i}" is already exist in schema "${t.sourceSchemaId}".`)}n[i]=s[i]}t.isResolved=!0}}#u(t,r){let n=this.#e[r];if(n!==void 0){if(this.#s&&oq(t,n.schema))return;throw new Error(`There is already another schema with id "${r}".`)}this.#e[r]={schema:t,anchors:{},refs:[]}}#l(t,r,n){let{anchors:s}=this.#e[r];if(s[n]!==void 0)throw new Error(`There is already another anchor "${n}" in a schema "${r}".`);s[n]=t}#d(t,r){this.#t[r]===void 0&&(this.#t[r]={schema:t,anchors:{}})}#f(t,r,n){let{anchors:s}=this.#t[r];s[n]=t}};function aq(e,t){let r=t.split("/"),n=e;for(let s of r)if(!(s===""||s==="#")){if(typeof n!="object"||n===null)return null;n=n[s]}return n??null}cq.exports={RefResolver:hb}});var dq=y((DIe,lq)=>{"use strict";var yb=class e{constructor(t,r,n="#"){this.schema=t,this.schemaId=r,this.jsonPointer=n}getPropertyLocation(t){return new e(this.schema[t],this.schemaId,this.jsonPointer+"/"+t)}getSchemaRef(){return this.schemaId+this.jsonPointer}};lq.exports=yb});var yq=y((LIe,vb)=>{"use strict";vb.exports=z;vb.exports.default=z;var wae={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},fq={enum:["array","boolean","integer","null","number","object","string"]},pq=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,xae=yp().fullFormats.uri,mq=yp().fullFormats.regex;function Xr(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let i=null,o=0,a=o;return typeof e=="number"&&!(e%1)&&!isNaN(e)&&isFinite(e)?o===a&&typeof e=="number"&&isFinite(e)&&(e<0||isNaN(e))?(Xr.errors=[{instancePath:t,schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1):(Xr.errors=i,o===0):(Xr.errors=[{instancePath:t,schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1)}var gb={validate:z};function hr(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let i=null,o=0;if(o===0)if(Array.isArray(e)){if(e.length<1)return hr.errors=[{instancePath:t,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var a=!0;let c=e.length;for(let l=0;l<c;l++){let u=o;gb.validate(e[l],{instancePath:t+"/"+l,parentData:e,parentDataProperty:l,rootData:s})||(i=i===null?gb.validate.errors:i.concat(gb.validate.errors),o=i.length);var a=u===o;if(!a)break}}}else return hr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;return hr.errors=i,o===0}var hq=yu().default;function z(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let i=null,o=0;if(!(e&&typeof e=="object"&&!Array.isArray(e))&&typeof e!="boolean")return z.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:wae.type},message:"must be object,boolean"}],!1;if(o===0&&e&&typeof e=="object"&&!Array.isArray(e)){if(e.$id!==void 0){let _=e.$id,g=o;if(o===g&&o===g)if(typeof _=="string"){if(!pq.test(_))return z.errors=[{instancePath:t+"/$id",schemaPath:"#/properties/%24id/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return z.errors=[{instancePath:t+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.$schema!==void 0){let _=e.$schema,g=o;if(o===g&&o===g)if(typeof _=="string"){if(!xae(_))return z.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/format",keyword:"format",params:{format:"uri"},message:'must match format "uri"'}],!1}else return z.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.$ref!==void 0){let _=e.$ref,g=o;if(o===g&&o===g)if(typeof _=="string"){if(!pq.test(_))return z.errors=[{instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return z.errors=[{instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.$comment!==void 0){let _=o;if(typeof e.$comment!="string")return z.errors=[{instancePath:t+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(e.title!==void 0){let _=o;if(typeof e.title!="string")return z.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(e.description!==void 0){let _=o;if(typeof e.description!="string")return z.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(e.readOnly!==void 0){let _=o;if(typeof e.readOnly!="boolean")return z.errors=[{instancePath:t+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=_===o}else var a=!0;if(a){if(e.examples!==void 0){let _=o;if(o===_&&!Array.isArray(e.examples))return z.errors=[{instancePath:t+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=_===o}else var a=!0;if(a){if(e.multipleOf!==void 0){let _=e.multipleOf,g=o;if(o===g)if(typeof _=="number"&&isFinite(_)){if(_<=0||isNaN(_))return z.errors=[{instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0"}],!1}else return z.errors=[{instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=g===o}else var a=!0;if(a){if(e.maximum!==void 0){let _=e.maximum,g=o;if(!(typeof _=="number"&&isFinite(_)))return z.errors=[{instancePath:t+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=g===o}else var a=!0;if(a){if(e.exclusiveMaximum!==void 0){let _=e.exclusiveMaximum,g=o;if(!(typeof _=="number"&&isFinite(_)))return z.errors=[{instancePath:t+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=g===o}else var a=!0;if(a){if(e.minimum!==void 0){let _=e.minimum,g=o;if(!(typeof _=="number"&&isFinite(_)))return z.errors=[{instancePath:t+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=g===o}else var a=!0;if(a){if(e.exclusiveMinimum!==void 0){let _=e.exclusiveMinimum,g=o;if(!(typeof _=="number"&&isFinite(_)))return z.errors=[{instancePath:t+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=g===o}else var a=!0;if(a){if(e.maxLength!==void 0){let _=e.maxLength,g=o,x=o;if(!(typeof _=="number"&&!(_%1)&&!isNaN(_)&&isFinite(_)))return z.errors=[{instancePath:t+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===x&&typeof _=="number"&&isFinite(_)&&(_<0||isNaN(_)))return z.errors=[{instancePath:t+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=g===o}else var a=!0;if(a){if(e.minLength!==void 0){let _=o;Xr(e.minLength,{instancePath:t+"/minLength",parentData:e,parentDataProperty:"minLength",rootData:s})||(i=i===null?Xr.errors:i.concat(Xr.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.pattern!==void 0){let _=e.pattern,g=o;if(o===g&&o===g)if(typeof _=="string"){if(!mq(_))return z.errors=[{instancePath:t+"/pattern",schemaPath:"#/properties/pattern/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"'}],!1}else return z.errors=[{instancePath:t+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.additionalItems!==void 0){let _=o;z(e.additionalItems,{instancePath:t+"/additionalItems",parentData:e,parentDataProperty:"additionalItems",rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.items!==void 0){let _=e.items,g=o,x=o,R=!1,w=o;z(_,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var c=w===o;if(R=R||c,!R){let P=o;hr(_,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:s})||(i=i===null?hr.errors:i.concat(hr.errors),o=i.length);var c=P===o;R=R||c}if(R)o=x,i!==null&&(x?i.length=x:i=null);else{let P={instancePath:t+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[P]:i.push(P),o++,z.errors=i,!1}var a=g===o}else var a=!0;if(a){if(e.maxItems!==void 0){let _=e.maxItems,g=o,x=o;if(!(typeof _=="number"&&!(_%1)&&!isNaN(_)&&isFinite(_)))return z.errors=[{instancePath:t+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===x&&typeof _=="number"&&isFinite(_)&&(_<0||isNaN(_)))return z.errors=[{instancePath:t+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=g===o}else var a=!0;if(a){if(e.minItems!==void 0){let _=o;Xr(e.minItems,{instancePath:t+"/minItems",parentData:e,parentDataProperty:"minItems",rootData:s})||(i=i===null?Xr.errors:i.concat(Xr.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.uniqueItems!==void 0){let _=o;if(typeof e.uniqueItems!="boolean")return z.errors=[{instancePath:t+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=_===o}else var a=!0;if(a){if(e.contains!==void 0){let _=o;z(e.contains,{instancePath:t+"/contains",parentData:e,parentDataProperty:"contains",rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.maxProperties!==void 0){let _=e.maxProperties,g=o,x=o;if(!(typeof _=="number"&&!(_%1)&&!isNaN(_)&&isFinite(_)))return z.errors=[{instancePath:t+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===x&&typeof _=="number"&&isFinite(_)&&(_<0||isNaN(_)))return z.errors=[{instancePath:t+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=g===o}else var a=!0;if(a){if(e.minProperties!==void 0){let _=o;Xr(e.minProperties,{instancePath:t+"/minProperties",parentData:e,parentDataProperty:"minProperties",rootData:s})||(i=i===null?Xr.errors:i.concat(Xr.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.required!==void 0){let _=e.required,g=o;if(o===o)if(Array.isArray(_)){var l=!0;let w=_.length;for(let E=0;E<w;E++){let P=o;if(typeof _[E]!="string")return z.errors=[{instancePath:t+"/required/"+E,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=P===o;if(!l)break}if(l){let E=_.length,P;if(E>1){let $={};for(;E--;){let j=_[E];if(typeof j=="string"){if(typeof $[j]=="number"){return P=$[j],z.errors=[{instancePath:t+"/required",schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:E,j:P},message:"must NOT have duplicate items (items ## "+P+" and "+E+" are identical)"}],!1;break}$[j]=E}}}}}else return z.errors=[{instancePath:t+"/required",schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=g===o}else var a=!0;if(a){if(e.additionalProperties!==void 0){let _=o;z(e.additionalProperties,{instancePath:t+"/additionalProperties",parentData:e,parentDataProperty:"additionalProperties",rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.definitions!==void 0){let _=e.definitions,g=o;if(o===g)if(_&&typeof _=="object"&&!Array.isArray(_))for(let R in _){let w=o;z(_[R],{instancePath:t+"/definitions/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:_,parentDataProperty:R,rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var u=w===o;if(!u)break}else return z.errors=[{instancePath:t+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0;if(a){if(e.properties!==void 0){let _=e.properties,g=o;if(o===g)if(_&&typeof _=="object"&&!Array.isArray(_))for(let R in _){let w=o;z(_[R],{instancePath:t+"/properties/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:_,parentDataProperty:R,rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var d=w===o;if(!d)break}else return z.errors=[{instancePath:t+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0;if(a){if(e.patternProperties!==void 0){let _=e.patternProperties,g=o;if(o===g)if(_&&typeof _=="object"&&!Array.isArray(_)){for(let R in _){let w=o;if(o===w&&typeof R=="string"&&!mq(R)){let E={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"',propertyName:R};i===null?i=[E]:i.push(E),o++}var p=w===o;if(!p){let E={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:R},message:"property name must be valid"};return i===null?i=[E]:i.push(E),o++,z.errors=i,!1;break}}if(p)for(let R in _){let w=o;z(_[R],{instancePath:t+"/patternProperties/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:_,parentDataProperty:R,rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var m=w===o;if(!m)break}}else return z.errors=[{instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0;if(a){if(e.dependencies!==void 0){let _=e.dependencies,g=o;if(o===g)if(_&&typeof _=="object"&&!Array.isArray(_))for(let R in _){let w=_[R],E=o,P=o,$=!1,j=o;z(w,{instancePath:t+"/dependencies/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:_,parentDataProperty:R,rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var f=j===o;if($=$||f,!$){let O=o;if(o===o)if(Array.isArray(w)){var h=!0;let F=w.length;for(let C=0;C<F;C++){let I=o;if(typeof w[C]!="string"){let q={instancePath:t+"/dependencies/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+C,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[q]:i.push(q),o++}var h=I===o;if(!h)break}if(h){let C=w.length,I;if(C>1){let D={};for(;C--;){let q=w[C];if(typeof q=="string"){if(typeof D[q]=="number"){I=D[q];let te={instancePath:t+"/dependencies/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:C,j:I},message:"must NOT have duplicate items (items ## "+I+" and "+C+" are identical)"};i===null?i=[te]:i.push(te),o++;break}D[q]=C}}}}}else{let F={instancePath:t+"/dependencies/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"};i===null?i=[F]:i.push(F),o++}var f=O===o;$=$||f}if($)o=P,i!==null&&(P?i.length=P:i=null);else{let O={instancePath:t+"/dependencies/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[O]:i.push(O),o++,z.errors=i,!1}var v=E===o;if(!v)break}else return z.errors=[{instancePath:t+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0;if(a){if(e.propertyNames!==void 0){let _=o;z(e.propertyNames,{instancePath:t+"/propertyNames",parentData:e,parentDataProperty:"propertyNames",rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.enum!==void 0){let _=e.enum,g=o;if(o===g)if(Array.isArray(_)){if(_.length<1)return z.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let R=_.length,w;if(R>1){e:for(;R--;)for(w=R;w--;)if(hq(_[R],_[w])){return z.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:R,j:w},message:"must NOT have duplicate items (items ## "+w+" and "+R+" are identical)"}],!1;break e}}}}else return z.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=g===o}else var a=!0;if(a){if(e.type!==void 0){let _=e.type,g=o,x=o,R=!1,w=o;if(!(_==="array"||_==="boolean"||_==="integer"||_==="null"||_==="number"||_==="object"||_==="string")){let P={instancePath:t+"/type",schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:fq.enum},message:"must be equal to one of the allowed values"};i===null?i=[P]:i.push(P),o++}var b=w===o;if(R=R||b,!R){let P=o;if(o===P)if(Array.isArray(_))if(_.length<1){let j={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};i===null?i=[j]:i.push(j),o++}else{var S=!0;let j=_.length;for(let O=0;O<j;O++){let T=_[O],A=o;if(!(T==="array"||T==="boolean"||T==="integer"||T==="null"||T==="number"||T==="object"||T==="string")){let C={instancePath:t+"/type/"+O,schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:fq.enum},message:"must be equal to one of the allowed values"};i===null?i=[C]:i.push(C),o++}var S=A===o;if(!S)break}if(S){let O=_.length,T;if(O>1){e:for(;O--;)for(T=O;T--;)if(hq(_[O],_[T])){let A={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:O,j:T},message:"must NOT have duplicate items (items ## "+T+" and "+O+" are identical)"};i===null?i=[A]:i.push(A),o++;break e}}}}else{let j={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};i===null?i=[j]:i.push(j),o++}var b=P===o;R=R||b}if(R)o=x,i!==null&&(x?i.length=x:i=null);else{let P={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[P]:i.push(P),o++,z.errors=i,!1}var a=g===o}else var a=!0;if(a){if(e.format!==void 0){let _=o;if(typeof e.format!="string")return z.errors=[{instancePath:t+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(e.contentMediaType!==void 0){let _=o;if(typeof e.contentMediaType!="string")return z.errors=[{instancePath:t+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(e.contentEncoding!==void 0){let _=o;if(typeof e.contentEncoding!="string")return z.errors=[{instancePath:t+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=_===o}else var a=!0;if(a){if(e.if!==void 0){let _=o;z(e.if,{instancePath:t+"/if",parentData:e,parentDataProperty:"if",rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.then!==void 0){let _=o;z(e.then,{instancePath:t+"/then",parentData:e,parentDataProperty:"then",rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.else!==void 0){let _=o;z(e.else,{instancePath:t+"/else",parentData:e,parentDataProperty:"else",rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.allOf!==void 0){let _=o;hr(e.allOf,{instancePath:t+"/allOf",parentData:e,parentDataProperty:"allOf",rootData:s})||(i=i===null?hr.errors:i.concat(hr.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.anyOf!==void 0){let _=o;hr(e.anyOf,{instancePath:t+"/anyOf",parentData:e,parentDataProperty:"anyOf",rootData:s})||(i=i===null?hr.errors:i.concat(hr.errors),o=i.length);var a=_===o}else var a=!0;if(a){if(e.oneOf!==void 0){let _=o;hr(e.oneOf,{instancePath:t+"/oneOf",parentData:e,parentDataProperty:"oneOf",rootData:s})||(i=i===null?hr.errors:i.concat(hr.errors),o=i.length);var a=_===o}else var a=!0;if(a)if(e.not!==void 0){let _=o;z(e.not,{instancePath:t+"/not",parentData:e,parentDataProperty:"not",rootData:s})||(i=i===null?z.errors:i.concat(z.errors),o=i.length);var a=_===o}else var a=!0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return z.errors=i,o===0}});var xb=y((FIe,gq)=>{"use strict";var _b=class extends Error{constructor(t,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Failed to merge "${t}" keyword schemas.`,this.schemas=r}},bb=class extends Error{constructor(t,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Resolver for "${t}" keyword not found.`,this.schemas=r}},wb=class extends Error{constructor(t){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Invalid "onConflict" option: "${t}".`}};gq.exports={MergeError:_b,ResolverNotFoundError:bb,InvalidOnConflictOptionError:wb}});var bq=y((MIe,_q)=>{"use strict";var Sae=Kr(),{MergeError:Sb}=xb();function vq(e){let t=e[0];for(let r=1;r<e.length;r++)t=t.filter(n=>e[r].includes(n));return t}function Eae(e,t,r){let n=vq(t);if(n.length===0)throw new Sb(e,t);r[e]=n}function $ae(e,t,r){for(let s=0;s<t.length;s++)Array.isArray(t[s])||(t[s]=[t[s]]);let n=vq(t);if(n.length===0)throw new Sb(e,t);n.length===1?r[e]=n[0]:r[e]=n}function Rae(e,t,r){let n=[];for(let s of t)for(let i of s)n.includes(i)||n.push(i);r[e]=n}function Pae(e,t,r){r[e]=Math.min(...t)}function Tae(e,t,r){r[e]=Math.max(...t)}function Oae(e,t,r){let n=(a,c)=>c?n(c,a%c):a,s=(a,c)=>a*c/n(a,c),i=1;for(let a of t)for(;a*i%1!==0;)i*=10;let o=t[0]*i;for(let a of t)o=s(o,a*i);r[e]=o/i}function kae(e,t,r){let n=t[0];for(let s=1;s<t.length;s++)if(!Sae(t[s],n))throw new Sb(e,t);r[e]=n}function Nae(){}function Aae(e,t,r){for(let n of t)if(n===!1){r[e]=!1;return}r[e]=!0}function Iae(e,t,r){for(let n of t)if(n===!0){r[e]=!0;return}r[e]=!1}_q.exports={arraysIntersection:Eae,hybridArraysIntersection:$ae,arraysUnion:Rae,minNumber:Pae,maxNumber:Tae,commonMultiple:Oae,allEqual:kae,booleanAnd:Aae,booleanOr:Iae,skip:Nae}});var Rq=y((zIe,$q)=>{"use strict";var Cae=Kr(),dt=bq(),em=xb(),Sq={$id:dt.skip,type:dt.hybridArraysIntersection,enum:dt.arraysIntersection,minLength:dt.maxNumber,maxLength:dt.minNumber,minimum:dt.maxNumber,maximum:dt.minNumber,multipleOf:dt.commonMultiple,exclusiveMinimum:dt.maxNumber,exclusiveMaximum:dt.minNumber,minItems:dt.maxNumber,maxItems:dt.minNumber,maxProperties:dt.minNumber,minProperties:dt.maxNumber,const:dt.allEqual,default:dt.allEqual,format:dt.allEqual,required:dt.arraysUnion,properties:Mae,patternProperties:Zp,additionalProperties:Qp,items:Dae,additionalItems:Lae,definitions:Zp,$defs:Zp,nullable:dt.booleanAnd,oneOf:wq,anyOf:wq,allOf:dt.arraysUnion,not:Qp,if:zae,then:dt.skip,else:dt.skip,dependencies:xq,dependentRequired:xq,dependentSchemas:Zp,propertyNames:Qp,uniqueItems:dt.booleanOr,contains:Qp};function Qp(e,t,r,n,s){r[e]=wn(t,s)}function jae(e){let t=[[]];for(let r of e){let n=[];for(let s of t)for(let i of r)n.push([...s,i]);t=n}return t}function wq(e,t,r,n,s){if(t.length===1){r[e]=t[0];return}let i=jae(t),o=[];for(let a of i)try{let c=wn(a,s);c!==void 0&&o.push(c)}catch(c){if(c instanceof em.MergeError)continue;throw c}r[e]=o}function qae(e,t){let{items:r,additionalItems:n}=e;return Array.isArray(r)?t<r.length?r[t]:n:r!==void 0?r:n}function Dae(e,t,r,n,s){let i=0;for(let a of t)Array.isArray(a)&&(i=Math.max(i,a.length));if(i===0){r[e]=wn(t,s);return}let o=[];for(let a=0;a<i;a++){let c=[];for(let l of n){let u=qae(l,a);u!==void 0&&c.push(u)}o[a]=wn(c,s)}r[e]=o}function Lae(e,t,r,n,s){let i=!1;for(let a of n)if(Array.isArray(a.items)){i=!0;break}if(!i){r[e]=wn(t,s);return}let o=[];for(let a of n){let c=a.additionalItems;c===void 0&&!Array.isArray(a.items)&&(c=a.items),c!==void 0&&o.push(c)}r[e]=wn(o,s)}function Fae(e,t){let{properties:r,patternProperties:n,additionalProperties:s}=e;if(r?.[t]!==void 0)return r[t];for(let i of Object.keys(n??{}))if(new RegExp(i).test(t))return n[i];return s}function Mae(e,t,r,n,s){let i={};for(let a of n){let c=a.properties??{};for(let l of Object.keys(c)){if(i[l]!==void 0)continue;let u=c[l];i[l]=[u];for(let d of n){if(a===d)continue;let p=Fae(d,l);p!==void 0&&i[l].push(p)}}}let o={};for(let a of Object.keys(i)){let c=i[a];o[a]=wn(c,s)}r[e]=o}function Zp(e,t,r,n,s){let i={};for(let a of t)for(let c of Object.keys(a))i[c]===void 0&&(i[c]=[]),i[c].push(a[c]);let o={};for(let a of Object.keys(i)){let c=i[a],l=wn(c,s);o[a]=l}r[e]=o}function zae(e,t,r,n,s){for(let i=0;i<n.length;i++){let o={if:n[i].if,then:n[i].then,else:n[i].else};if(o.if!==void 0){if(r.if===void 0){r.if=o.if,o.then!==void 0&&(r.then=o.then),o.else!==void 0&&(r.else=o.else);continue}r.then!==void 0&&(r.then=wn([r.then,o],s)),r.else!==void 0&&(r.else=wn([r.else,o],s))}}}function xq(e,t,r){let n={};for(let s of t)for(let i of Object.keys(s)){n[i]===void 0&&(n[i]=[]);let o=n[i];for(let a of s[i])o.includes(a)||o.push(a)}r[e]=n}function wn(e,t){if(e.length===0)return{};if(e.length===1)return e[0];let r={},n={},s=!0;for(let i of e){if(i===!1)return!1;if(i!==!0){s=!1;for(let o of Object.keys(i))n[o]===void 0&&(n[o]=[]),n[o].push(i[o])}}if(s)return!0;for(let i of Object.keys(n)){let o=n[i];(t.resolvers[i]??t.defaultResolver)(i,o,r,e,t)}return r}function Eq(e,t,r,n,s){let i=s.onConflict??"throw";if(t.length===1||i==="first"){r[e]=t[0];return}let o=!0;for(let a=1;a<t.length;a++)if(!Cae(t[a],t[0])){o=!1;break}if(o){r[e]=t[0];return}if(i==="throw")throw new em.ResolverNotFoundError(e,t);if(i!=="skip")throw new em.InvalidOnConflictOptionError(i)}function Uae(e,t={}){return t.defaultResolver===void 0&&(t.defaultResolver=Eq),t.resolvers={...Sq,...t.resolvers},wn(e,t)}$q.exports={mergeSchemas:Uae,keywordsResolvers:Sq,defaultResolver:Eq,...em}});var Tq=y((UIe,Pq)=>{"use strict";var{mergeSchemas:Vae}=Rq();function Hae(e){return Vae(e,{onConflict:"skip"})}Pq.exports=Hae});var Dq=y((VIe,wa)=>{"use strict";var{RefResolver:Bae}=uq(),Kae=wv(),Gae=v0(),so=dq(),Oq=yq(),Jae=Tq(),Wae=/'/g,tm=2e4,Nq="default",Yae=["floor","ceil","round","trunc"],Aq=["default","json-stringify"],Fu=0;function Eb(e,t){if(!Oq(e)){t?t=`"${t}" `:t="";let r=Oq.errors[0],n=new Error(`${t}schema is invalid: data${r.instancePath} ${r.message}`);throw n.errors=Eb.errors,n}}function Mu(e,t){let r=t.schema.$ref,n=r.indexOf("#");n===-1&&(n=r.length);let s=r.slice(0,n)||t.schemaId,i=r.slice(n)||"#",o=e.refResolver.getSchema(s,i);if(o===null)throw new Error(`Cannot find reference "${r}"`);let a=new so(o,s,i);return o.$ref!==void 0?Mu(e,a):a}function rm(e,t){let r=e.refResolver.getSchema(t,"#");return new so(r,t,"#")}function kq(e,t){return e.$id&&e.$id.charAt(0)!=="#"?e.$id:t}function $b(e,t){Eb(e),t=t||{};let r={functions:[],functionsCounter:0,functionsNamesBySchema:new Map,options:t,refResolver:new Bae,rootSchemaId:e.$id||`__fjs_root_${Fu++}`,validatorSchemasIds:new Set,mergedSchemasIds:new Map},n=kq(e,r.rootSchemaId);if(r.refResolver.hasSchema(n)||r.refResolver.addSchema(e,r.rootSchemaId),t.schema)for(let u in t.schema){let d=t.schema[u],p=kq(d,u);r.refResolver.hasSchema(p)||(Eb(d,u),r.refResolver.addSchema(d,u))}if(t.rounding&&!Yae.includes(t.rounding))throw new Error(`Unsupported integer rounding method ${t.rounding}`);if(t.largeArrayMechanism)if(Aq.includes(t.largeArrayMechanism))Nq=t.largeArrayMechanism;else throw new Error(`Unsupported large array mechanism ${t.largeArrayMechanism}`);if(t.largeArraySize)if(typeof t.largeArraySize=="string"&&Number.isFinite(Number.parseInt(t.largeArraySize,10)))tm=Number.parseInt(t.largeArraySize,10);else if(typeof t.largeArraySize=="number"&&Number.isInteger(t.largeArraySize))tm=t.largeArraySize;else if(typeof t.largeArraySize=="bigint")tm=Number(t.largeArraySize);else throw new Error(`Unsupported large array size. Expected integer-like, got ${typeof t.largeArraySize} with value ${t.largeArraySize}`);let s=new so(e,r.rootSchemaId),i=zr(r,s,"input"),o=`
    const JSON_STR_BEGIN_OBJECT = '{'
    const JSON_STR_END_OBJECT = '}'
    const JSON_STR_BEGIN_ARRAY = '['
    const JSON_STR_END_ARRAY = ']'
    const JSON_STR_COMMA = ','
    const JSON_STR_COLONS = ':'
    const JSON_STR_QUOTE = '"'
    const JSON_STR_EMPTY_OBJECT = JSON_STR_BEGIN_OBJECT + JSON_STR_END_OBJECT
    const JSON_STR_EMPTY_ARRAY = JSON_STR_BEGIN_ARRAY + JSON_STR_END_ARRAY
    const JSON_STR_EMPTY_STRING = JSON_STR_QUOTE + JSON_STR_QUOTE
    const JSON_STR_NULL = 'null'
  `;i==="json += anonymous0(input)"?o+=`
    ${r.functions.join(`
`)}
    const main = anonymous0
    return main
    `:o+=`
    function main (input) {
      let json = ''
      ${i}
      return json
    }
    ${r.functions.join(`
`)}
    return main
    `;let a=new Kae(t),c=new Gae(t.ajv);for(let u of r.validatorSchemasIds){let d=r.refResolver.getSchema(u);c.addSchema(d,u);let p=r.refResolver.getSchemaDependencies(u);for(let[m,f]of Object.entries(p))c.addSchema(f,m)}if(t.debugMode&&(t.mode="debug"),t.mode==="debug")return{validator:c,serializer:a,code:`validator
serializer
${o}`,ajv:c.ajv};let l=new Function("validator","serializer",o);return t.mode==="standalone"?b0()(l,r,a,c):l(c,a)}var Xae=["properties","required","additionalProperties","patternProperties","maxProperties","minProperties","dependencies"],Qae=["items","additionalItems","maxItems","minItems","uniqueItems","contains"],Zae=["maxLength","minLength","pattern"],ece=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"];function tce(e){for(var t of Xae)if(t in e)return"object";for(var t of Qae)if(t in e)return"array";for(var t of Zae)if(t in e)return"string";for(var t of ece)if(t in e)return"number";return e.type}function rce(e,t,r){let n=t.schema,s=Object.keys(n.properties||{}),i=`
    const propertiesKeys = ${JSON.stringify(s)}
    for (const [key, value] of Object.entries(obj)) {
      if (
        propertiesKeys.includes(key) ||
        value === undefined ||
        typeof value === 'function' ||
        typeof value === 'symbol'
      ) continue
  `,o=t.getPropertyLocation("patternProperties"),a=o.schema;if(a!==void 0)for(let u in a){let d=o.getPropertyLocation(u);i+=`
        if (/${u.replace(/\\*\//g,"\\/")}/.test(key)) {
          ${r}
          json += serializer.asString(key) + JSON_STR_COLONS
          ${zr(e,d,"value")}
          continue
        }
      `}let l=t.getPropertyLocation("additionalProperties").schema;if(l!==void 0)if(l===!0)i+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS + JSON.stringify(value)
      `;else{let u=t.getPropertyLocation("additionalProperties");i+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS
        ${zr(e,u,"value")}
      `}return i+=`
    }
  `,i}function nce(e,t){let r=t.schema,n=t.getPropertyLocation("properties"),s=r.required||[],i=Object.keys(r.properties||{}).sort((l,u)=>{let d=s.includes(l),p=s.includes(u);return d===p?0:d?-1:1}),o=s.includes(i[0]),a=`let value
`;for(let l of s)if(!i.includes(l)){let u=JSON.stringify(l);a+=`if (obj[${u}] === undefined) throw new Error('${u.replace(/'/g,"\\'")} is required!')
`}a+=`let json = JSON_STR_BEGIN_OBJECT
`;let c="";o||(a+=`let addComma = false
`,c="!addComma && (addComma = true) || (json += JSON_STR_COMMA)");for(let l of i){let u=n.getPropertyLocation(l);u.schema.$ref&&(u=Mu(e,u));let d=JSON.stringify(l),p=u.schema.default,m=s.includes(l);a+=`
      value = obj[${d}]
      if (value !== undefined) {
        ${c}
        json += ${JSON.stringify(d+":")}
        ${zr(e,u,"value")}
      }`,p!==void 0?a+=` else {
        ${c}
        json += ${JSON.stringify(d+":"+JSON.stringify(p))}
      }
      `:m?a+=` else {
        throw new Error('${d.replace(/'/g,"\\'")} is required!')
      }
      `:a+=`
`,o&&(c="json += ','")}return(r.patternProperties||r.additionalProperties)&&(a+=rce(e,t,c)),a+=`
    return json + JSON_STR_END_OBJECT
  `,a}function nm(e,t,r){for(let o=0;o<r.length;o++){let a=r[o];a.schema.$ref&&(r[o]=Mu(e,a))}let n=[];for(let o of r){let a=Iq(e,o.schema,o.schemaId);delete a.$id,n.push(a)}let s=Jae(n),i=new so(s,t);return e.refResolver.addSchema(s,t),i}function Iq(e,t,r){let n=Array.isArray(t)?[]:{};t.$id!==void 0&&t.$id.charAt(0)!=="#"&&(r=t.$id);let s=e.mergedSchemasIds.get(t);s&&e.mergedSchemasIds.set(n,s);for(let i in t){let o=t[i];i==="$ref"&&typeof o=="string"&&o.charAt(0)==="#"&&(o=r+o),typeof o=="object"&&o!==null&&(o=Iq(e,o,r)),n[i]=o}return n}function sce(e){return`(${e} && typeof ${e}.toJSON === 'function')
    ? ${e}.toJSON()
    : ${e}
  `}function ice(e,t){let r=t.schema;if(e.functionsNamesBySchema.has(r))return e.functionsNamesBySchema.get(r);let n=jq(e);e.functionsNamesBySchema.set(r,n);let s=t.getSchemaRef();s.startsWith(e.rootSchemaId)&&(s=s.replace(e.rootSchemaId,""));let i=`
  `,o=r.nullable===!0;return i+=`
    // ${s}
    function ${n} (input) {
      const obj = ${sce("input")}
      ${o?"":"if (obj === null) return JSON_STR_EMPTY_OBJECT"}

      ${nce(e,t)}
    }
  `,e.functions.push(i),n}function oce(e,t){let r=t.schema,n=t.getPropertyLocation("items");n.schema=n.schema||{},n.schema.$ref&&(n=Mu(e,n));let s=n.schema;if(e.functionsNamesBySchema.has(r))return e.functionsNamesBySchema.get(r);let i=jq(e);e.functionsNamesBySchema.set(r,i);let o=t.getSchemaRef();o.startsWith(e.rootSchemaId)&&(o=o.replace(e.rootSchemaId,""));let a=`
    function ${i} (obj) {
      // ${o}
  `,c=r.nullable===!0;if(a+=`
    ${c?"":"if (obj === null) return JSON_STR_EMPTY_ARRAY"}
    if (!Array.isArray(obj)) {
      throw new TypeError(\`The value of '${o}' does not match schema definition.\`)
    }
    const arrayLength = obj.length
  `,!r.additionalItems&&Array.isArray(s)&&(a+=`
      if (arrayLength > ${s.length}) {
        throw new Error(\`Item at ${s.length} does not match schema definition.\`)
      }
    `),Nq==="json-stringify"&&(a+=`if (arrayLength >= ${tm}) return JSON.stringify(obj)
`),a+=`
    const arrayEnd = arrayLength - 1
    let value
    let json = ''
  `,Array.isArray(s)){for(let l=0;l<s.length;l++){let u=s[l];a+=`value = obj[${l}]`;let d=zr(e,n.getPropertyLocation(l),"value");a+=`
        if (${l} < arrayLength) {
          if (${Cq(u.type,`[${l}]`)}) {
            ${d}
            if (${l} < arrayEnd) {
              json += JSON_STR_COMMA
            }
          } else {
            throw new Error(\`Item at ${l} does not match schema definition.\`)
          }
        }
        `}r.additionalItems&&(a+=`
        for (let i = ${s.length}; i < arrayLength; i++) {
          json += JSON.stringify(obj[i])
          if (i < arrayEnd) {
            json += JSON_STR_COMMA
          }
        }`)}else{let l=zr(e,n,"obj[i]");a+=`
      for (let i = 0; i < arrayLength; i++) {
        ${l}
        if (i < arrayEnd) {
          json += JSON_STR_COMMA
        }
      }`}return a+=`
    return JSON_STR_BEGIN_ARRAY + json + JSON_STR_END_ARRAY
  }`,e.functions.push(a),i}function Cq(e,t){let r;switch(e){case"null":r="value === null";break;case"string":r=`typeof value === 'string' ||
      value === null ||
      value instanceof Date ||
      value instanceof RegExp ||
      (
        typeof value === "object" &&
        typeof value.toString === "function" &&
        value.toString !== Object.prototype.toString
      )`;break;case"integer":r="Number.isInteger(value)";break;case"number":r="Number.isFinite(value)";break;case"boolean":r="typeof value === 'boolean'";break;case"object":r="value && typeof value === 'object' && value.constructor === Object";break;case"array":r="Array.isArray(value)";break;default:Array.isArray(e)&&(r=`(${e.map(s=>Cq(s,t)).join(" || ")})`)}return r}function jq(e){return"anonymous"+e.functionsCounter++}function ace(e,t,r){let s=t.schema.type.sort(a=>a==="null"?-1:1),i="";s.forEach((a,c)=>{t.schema={...t.schema,type:a};let l=qq(e,t,r),u=c===0?"if":"else if";switch(a){case"null":i+=`
          ${u} (${r} === null)
            ${l}
          `;break;case"string":{i+=`
          ${u}(
            typeof ${r} === "string" ||
            ${r} === null ||
            ${r} instanceof Date ||
            ${r} instanceof RegExp ||
            (
              typeof ${r} === "object" &&
              typeof ${r}.toString === "function" &&
              ${r}.toString !== Object.prototype.toString
            )
          )
            ${l}
        `;break}case"array":{i+=`
          ${u}(Array.isArray(${r}))
            ${l}
        `;break}case"integer":{i+=`
          ${u}(Number.isInteger(${r}) || ${r} === null)
            ${l}
        `;break}default:{i+=`
          ${u}(typeof ${r} === "${a}" || ${r} === null)
            ${l}
        `;break}}});let o=t.getSchemaRef();return o.startsWith(e.rootSchemaId)&&(o=o.replace(e.rootSchemaId,"")),i+=`
    else throw new TypeError(\`The value of '${o}' does not match schema definition.\`)
  `,i}function qq(e,t,r){let n=t.schema;switch(n.type){case"null":return"json += JSON_STR_NULL";case"string":return n.format==="date-time"?`json += serializer.asDateTime(${r})`:n.format==="date"?`json += serializer.asDate(${r})`:n.format==="time"?`json += serializer.asTime(${r})`:n.format==="unsafe"?`json += serializer.asUnsafeString(${r})`:`
        if (typeof ${r} !== 'string') {
          if (${r} === null) {
            json += JSON_STR_EMPTY_STRING
          } else if (${r} instanceof Date) {
            json += JSON_STR_QUOTE + ${r}.toISOString() + JSON_STR_QUOTE
          } else if (${r} instanceof RegExp) {
            json += serializer.asString(${r}.source)
          } else {
            json += serializer.asString(${r}.toString())
          }
        } else {
          json += serializer.asString(${r})
        }
        `;case"integer":return`json += serializer.asInteger(${r})`;case"number":return`json += serializer.asNumber(${r})`;case"boolean":return`json += serializer.asBoolean(${r})`;case"object":return`json += ${ice(e,t)}(${r})`;case"array":return`json += ${oce(e,t)}(${r})`;case void 0:return`json += JSON.stringify(${r})`;default:throw new Error(`${n.type} unsupported`)}}function cce(e,t){let r=e.schema,n=r.type,s=Array.isArray(n)&&n.includes("null"),i="";return s&&(i+=`
      if (${t} === null) {
        json += JSON_STR_NULL
      } else {
    `),i+=`json += '${JSON.stringify(r.const).replace(Wae,"\\'")}'`,s&&(i+=`
      }
    `),i}function uce(e,t,r){let n=t.schema,s=e.mergedSchemasIds.get(n);if(s){let u=rm(e,s);return zr(e,u,r)}s=`__fjs_merged_${Fu++}`,e.mergedSchemasIds.set(n,s);let{allOf:i,...o}=t.schema,a=[new so(o,t.schemaId,t.jsonPointer)],c=t.getPropertyLocation("allOf");for(let u=0;u<i.length;u++)a.push(c.getPropertyLocation(u));let l=nm(e,s,a);return zr(e,l,r)}function lce(e,t,r){e.validatorSchemasIds.add(t.schemaId);let s=t.schema.anyOf?"anyOf":"oneOf",{[s]:i,...o}=t.schema,a=new so(o,t.schemaId,t.jsonPointer),c=t.getPropertyLocation(s),l="";for(let d=0;d<i.length;d++){let p=c.getPropertyLocation(d),m=p.schema,f=e.mergedSchemasIds.get(m),h=null;f?h=rm(e,f):(f=`__fjs_merged_${Fu++}`,e.mergedSchemasIds.set(m,f),h=nm(e,f,[a,p]));let v=zr(e,h,r),b=p.getSchemaRef();l+=`
      ${d===0?"if":"else if"}(validator.validate("${b}", ${r}))
        ${v}
    `}let u=t.getSchemaRef();return u.startsWith(e.rootSchemaId)&&(u=u.replace(e.rootSchemaId,"")),l+=`
    else throw new TypeError(\`The value of '${u}' does not match schema definition.\`)
  `,l}function dce(e,t,r){e.validatorSchemasIds.add(t.schemaId);let{if:n,then:s,else:i,...o}=t.schema,a=new so(o,t.schemaId,t.jsonPointer),l=t.getPropertyLocation("if").getSchemaRef(),u=t.getPropertyLocation("then"),d=e.mergedSchemasIds.get(s),p=null;if(d?p=rm(e,d):(d=`__fjs_merged_${Fu++}`,e.mergedSchemasIds.set(s,d),p=nm(e,d,[a,u])),!i)return`
      if (validator.validate("${l}", ${r})) {
        ${zr(e,p,r)}
      } else {
        ${zr(e,a,r)}
      }
    `;let m=t.getPropertyLocation("else"),f=e.mergedSchemasIds.get(i),h=null;return f?h=rm(e,f):(f=`__fjs_merged_${Fu++}`,e.mergedSchemasIds.set(i,f),h=nm(e,f,[a,m])),`
    if (validator.validate("${l}", ${r})) {
      ${zr(e,p,r)}
    } else {
      ${zr(e,h,r)}
    }
  `}function zr(e,t,r){let n=t.schema;if(typeof n=="boolean")return`json += JSON.stringify(${r})`;if(n.$ref&&(t=Mu(e,t),n=t.schema),n.allOf)return uce(e,t,r);if(n.anyOf||n.oneOf)return lce(e,t,r);if(n.if&&n.then)return dce(e,t,r);if(n.type===void 0){let a=tce(n);a&&(n.type=a)}let s="",i=n.type,o=n.nullable===!0;return o&&(s+=`
      if (${r} === null) {
        json += JSON_STR_NULL
      } else {
    `),n.const!==void 0?s+=cce(t,r):Array.isArray(i)?s+=ace(e,t,r):s+=qq(e,t,r),o&&(s+=`
      }
    `),s}wa.exports=$b;wa.exports.default=$b;wa.exports.build=$b;wa.exports.validLargeArrayMechanisms=Aq;wa.exports.restore=function({code:e,validator:t,serializer:r}){return Function.apply(null,["validator","serializer",e]).apply(null,[t,r])}});var Fq=y((HIe,Rb)=>{"use strict";var fce=Pb();function Lq(e={readMode:!0}){if(e.readMode===!0&&typeof e.restoreFunction!="function")throw new Error("You must provide a function for the restoreFunction-option when readMode ON");if(e.readMode!==!0&&typeof e.storeFunction!="function")throw new Error("You must provide a function for the storeFunction-option when readMode OFF");if(e.readMode===!0)return function(){return function(n){return e.restoreFunction(n)}};let t=fce();return function(n,s={}){s.mode="standalone";let i=t(n,s);return function(o){let a=i(o);return e.storeFunction(o,a),new Function(a)}}}Rb.exports=Lq;Rb.exports.default=Lq});var Pb=y((BIe,zu)=>{"use strict";var pce=Dq();function Tb(){return function(t,r){let n=Object.assign({},r,{schema:t});return mce.bind(null,n)}}function mce(e,{schema:t}){return e.schema&&t.$id&&e.schema[t.$id]&&(e.schema={...e.schema},delete e.schema[t.$id]),pce(t,e)}zu.exports=Tb;zu.exports.default=Tb;zu.exports.SerializerSelector=Tb;zu.exports.StandaloneSerializer=Fq()});var xa=y(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.regexpCode=Le.getEsmExportName=Le.getProperty=Le.safeStringify=Le.stringify=Le.strConcat=Le.addCodeArg=Le.str=Le._=Le.nil=Le._Code=Le.Name=Le.IDENTIFIER=Le._CodeOrName=void 0;var Uu=class{};Le._CodeOrName=Uu;Le.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var io=class extends Uu{constructor(t){if(super(),!Le.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Le.Name=io;var Qr=class extends Uu{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof io&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Le._Code=Qr;Le.nil=new Qr("");function Mq(e,...t){let r=[e[0]],n=0;for(;n<t.length;)kb(r,t[n]),r.push(e[++n]);return new Qr(r)}Le._=Mq;var Ob=new Qr("+");function zq(e,...t){let r=[Vu(e[0])],n=0;for(;n<t.length;)r.push(Ob),kb(r,t[n]),r.push(Ob,Vu(e[++n]));return hce(r),new Qr(r)}Le.str=zq;function kb(e,t){t instanceof Qr?e.push(...t._items):t instanceof io?e.push(t):e.push(vce(t))}Le.addCodeArg=kb;function hce(e){let t=1;for(;t<e.length-1;){if(e[t]===Ob){let r=yce(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function yce(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof io||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof io))return`"${e}${t.slice(1)}`}function gce(e,t){return t.emptyStr()?e:e.emptyStr()?t:zq`${e}${t}`}Le.strConcat=gce;function vce(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:Vu(Array.isArray(e)?e.join(","):e)}function _ce(e){return new Qr(Vu(e))}Le.stringify=_ce;function Vu(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Le.safeStringify=Vu;function bce(e){return typeof e=="string"&&Le.IDENTIFIER.test(e)?new Qr(`.${e}`):Mq`[${e}]`}Le.getProperty=bce;function wce(e){if(typeof e=="string"&&Le.IDENTIFIER.test(e))return new Qr(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}Le.getEsmExportName=wce;function xce(e){return new Qr(e.toString())}Le.regexpCode=xce});var am=y(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.ValueScope=Or.ValueScopeName=Or.Scope=Or.varKinds=Or.UsedValueState=void 0;var Tr=xa(),Nb=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},sm;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(sm||(Or.UsedValueState=sm={}));Or.varKinds={const:new Tr.Name("const"),let:new Tr.Name("let"),var:new Tr.Name("var")};var im=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Tr.Name?t:this.name(t)}name(t){return new Tr.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};Or.Scope=im;var om=class extends Tr.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,Tr._)`.${new Tr.Name(r)}[${n}]`}};Or.ValueScopeName=om;var Sce=(0,Tr._)`\n`,Ab=class extends im{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?Sce:Tr.nil}}get(){return this._scope}name(t){return new om(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(t),{prefix:i}=s,o=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[i];if(a){let u=a.get(o);if(u)return u}else a=this._values[i]=new Map;a.set(o,s);let c=this._scope[i]||(this._scope[i]=[]),l=c.length;return c[l]=r.ref,s.setValue(r,{property:i,itemIndex:l}),s}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Tr._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(t,r,n={},s){let i=Tr.nil;for(let o in t){let a=t[o];if(!a)continue;let c=n[o]=n[o]||new Map;a.forEach(l=>{if(c.has(l))return;c.set(l,sm.Started);let u=r(l);if(u){let d=this.opts.es5?Or.varKinds.var:Or.varKinds.const;i=(0,Tr._)`${i}${d} ${l} = ${u};${this.opts._n}`}else if(u=s?.(l))i=(0,Tr._)`${i}${u}${this.opts._n}`;else throw new Nb(l);c.set(l,sm.Completed)})}return i}};Or.ValueScope=Ab});var re=y(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.or=ve.and=ve.not=ve.CodeGen=ve.operators=ve.varKinds=ve.ValueScopeName=ve.ValueScope=ve.Scope=ve.Name=ve.regexpCode=ve.stringify=ve.getProperty=ve.nil=ve.strConcat=ve.str=ve._=void 0;var ke=xa(),xn=am(),oi=xa();Object.defineProperty(ve,"_",{enumerable:!0,get:function(){return oi._}});Object.defineProperty(ve,"str",{enumerable:!0,get:function(){return oi.str}});Object.defineProperty(ve,"strConcat",{enumerable:!0,get:function(){return oi.strConcat}});Object.defineProperty(ve,"nil",{enumerable:!0,get:function(){return oi.nil}});Object.defineProperty(ve,"getProperty",{enumerable:!0,get:function(){return oi.getProperty}});Object.defineProperty(ve,"stringify",{enumerable:!0,get:function(){return oi.stringify}});Object.defineProperty(ve,"regexpCode",{enumerable:!0,get:function(){return oi.regexpCode}});Object.defineProperty(ve,"Name",{enumerable:!0,get:function(){return oi.Name}});var dm=am();Object.defineProperty(ve,"Scope",{enumerable:!0,get:function(){return dm.Scope}});Object.defineProperty(ve,"ValueScope",{enumerable:!0,get:function(){return dm.ValueScope}});Object.defineProperty(ve,"ValueScopeName",{enumerable:!0,get:function(){return dm.ValueScopeName}});Object.defineProperty(ve,"varKinds",{enumerable:!0,get:function(){return dm.varKinds}});ve.operators={GT:new ke._Code(">"),GTE:new ke._Code(">="),LT:new ke._Code("<"),LTE:new ke._Code("<="),EQ:new ke._Code("==="),NEQ:new ke._Code("!=="),NOT:new ke._Code("!"),OR:new ke._Code("||"),AND:new ke._Code("&&"),ADD:new ke._Code("+")};var Ss=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},Ib=class extends Ss{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?xn.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=Ea(this.rhs,t,r)),this}get names(){return this.rhs instanceof ke._CodeOrName?this.rhs.names:{}}},cm=class extends Ss{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof ke.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=Ea(this.rhs,t,r),this}get names(){let t=this.lhs instanceof ke.Name?{}:{...this.lhs.names};return lm(t,this.rhs)}},Cb=class extends cm{constructor(t,r,n,s){super(t,n,s),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},jb=class extends Ss{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},qb=class extends Ss{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},Db=class extends Ss{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},Lb=class extends Ss{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=Ea(this.code,t,r),this}get names(){return this.code instanceof ke._CodeOrName?this.code.names:{}}},Hu=class extends Ss{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(t,r)||(Ece(t,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>co(t,r.names),{})}},Es=class extends Hu{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},Fb=class extends Hu{},Sa=class extends Es{};Sa.kind="else";var oo=class e extends Es{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Sa(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(Uq(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=Ea(this.condition,t,r),this}get names(){let t=super.names;return lm(t,this.condition),this.else&&co(t,this.else.names),t}};oo.kind="if";var ao=class extends Es{};ao.kind="for";var Mb=class extends ao{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=Ea(this.iteration,t,r),this}get names(){return co(super.names,this.iteration.names)}},zb=class extends ao{constructor(t,r,n,s){super(),this.varKind=t,this.name=r,this.from=n,this.to=s}render(t){let r=t.es5?xn.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${r} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(t)}get names(){let t=lm(super.names,this.from);return lm(t,this.to)}},um=class extends ao{constructor(t,r,n,s){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=s}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=Ea(this.iterable,t,r),this}get names(){return co(super.names,this.iterable.names)}},Bu=class extends Es{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};Bu.kind="func";var Ku=class extends Hu{render(t){return"return "+super.render(t)}};Ku.kind="return";var Ub=class extends Es{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,s;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(s=this.finally)===null||s===void 0||s.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&co(t,this.catch.names),this.finally&&co(t,this.finally.names),t}},Gu=class extends Es{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};Gu.kind="catch";var Ju=class extends Es{render(t){return"finally"+super.render(t)}};Ju.kind="finally";var Vb=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new xn.Scope({parent:t}),this._nodes=[new Fb]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,s){let i=this._scope.toName(r);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new Ib(t,i,n)),i}const(t,r,n){return this._def(xn.varKinds.const,t,r,n)}let(t,r,n){return this._def(xn.varKinds.let,t,r,n)}var(t,r,n){return this._def(xn.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new cm(t,r,n))}add(t,r){return this._leafNode(new Cb(t,ve.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==ke.nil&&this._leafNode(new Lb(t)),this}object(...t){let r=["{"];for(let[n,s]of t)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,ke.addCodeArg)(r,s));return r.push("}"),new ke._Code(r)}if(t,r,n){if(this._blockNode(new oo(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new oo(t))}else(){return this._elseNode(new Sa)}endIf(){return this._endBlockNode(oo,Sa)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new Mb(t),r)}forRange(t,r,n,s,i=this.opts.es5?xn.varKinds.var:xn.varKinds.let){let o=this._scope.toName(t);return this._for(new zb(i,o,r,n),()=>s(o))}forOf(t,r,n,s=xn.varKinds.const){let i=this._scope.toName(t);if(this.opts.es5){let o=r instanceof ke.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,ke._)`${o}.length`,a=>{this.var(i,(0,ke._)`${o}[${a}]`),n(i)})}return this._for(new um("of",s,i,r),()=>n(i))}forIn(t,r,n,s=this.opts.es5?xn.varKinds.var:xn.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,ke._)`Object.keys(${r})`,n);let i=this._scope.toName(t);return this._for(new um("in",s,i,r),()=>n(i))}endFor(){return this._endBlockNode(ao)}label(t){return this._leafNode(new jb(t))}break(t){return this._leafNode(new qb(t))}return(t){let r=new Ku;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Ku)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new Ub;if(this._blockNode(s),this.code(t),r){let i=this.name("e");this._currNode=s.catch=new Gu(i),r(i)}return n&&(this._currNode=s.finally=new Ju,this.code(n)),this._endBlockNode(Gu,Ju)}throw(t){return this._leafNode(new Db(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=ke.nil,n,s){return this._blockNode(new Bu(t,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Bu)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof oo))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};ve.CodeGen=Vb;function co(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function lm(e,t){return t instanceof ke._CodeOrName?co(e,t.names):e}function Ea(e,t,r){if(e instanceof ke.Name)return n(e);if(!s(e))return e;return new ke._Code(e._items.reduce((i,o)=>(o instanceof ke.Name&&(o=n(o)),o instanceof ke._Code?i.push(...o._items):i.push(o),i),[]));function n(i){let o=r[i.str];return o===void 0||t[i.str]!==1?i:(delete t[i.str],o)}function s(i){return i instanceof ke._Code&&i._items.some(o=>o instanceof ke.Name&&t[o.str]===1&&r[o.str]!==void 0)}}function Ece(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function Uq(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,ke._)`!${Hb(e)}`}ve.not=Uq;var $ce=Vq(ve.operators.AND);function Rce(...e){return e.reduce($ce)}ve.and=Rce;var Pce=Vq(ve.operators.OR);function Tce(...e){return e.reduce(Pce)}ve.or=Tce;function Vq(e){return(t,r)=>t===ke.nil?r:r===ke.nil?t:(0,ke._)`${Hb(t)} ${e} ${Hb(r)}`}function Hb(e){return e instanceof ke.Name?e:(0,ke._)`(${e})`}});var he=y(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.checkStrictMode=Se.getErrorPath=Se.Type=Se.useFunc=Se.setEvaluated=Se.evaluatedPropsToName=Se.mergeEvaluated=Se.eachItem=Se.unescapeJsonPointer=Se.escapeJsonPointer=Se.escapeFragment=Se.unescapeFragment=Se.schemaRefOrVal=Se.schemaHasRulesButRef=Se.schemaHasRules=Se.checkUnknownRules=Se.alwaysValidSchema=Se.toHash=void 0;var Ye=re(),Oce=xa();function kce(e){let t={};for(let r of e)t[r]=!0;return t}Se.toHash=kce;function Nce(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Kq(e,t),!Gq(t,e.self.RULES.all))}Se.alwaysValidSchema=Nce;function Kq(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let s=n.RULES.keywords;for(let i in t)s[i]||Yq(e,`unknown keyword: "${i}"`)}Se.checkUnknownRules=Kq;function Gq(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}Se.schemaHasRules=Gq;function Ace(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}Se.schemaHasRulesButRef=Ace;function Ice({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Ye._)`${r}`}return(0,Ye._)`${e}${t}${(0,Ye.getProperty)(n)}`}Se.schemaRefOrVal=Ice;function Cce(e){return Jq(decodeURIComponent(e))}Se.unescapeFragment=Cce;function jce(e){return encodeURIComponent(Kb(e))}Se.escapeFragment=jce;function Kb(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Se.escapeJsonPointer=Kb;function Jq(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Se.unescapeJsonPointer=Jq;function qce(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}Se.eachItem=qce;function Hq({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,i,o,a)=>{let c=o===void 0?i:o instanceof Ye.Name?(i instanceof Ye.Name?e(s,i,o):t(s,i,o),o):i instanceof Ye.Name?(t(s,o,i),i):r(i,o);return a===Ye.Name&&!(c instanceof Ye.Name)?n(s,c):c}}Se.mergeEvaluated={props:Hq({mergeNames:(e,t,r)=>e.if((0,Ye._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Ye._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Ye._)`${r} || {}`).code((0,Ye._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Ye._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Ye._)`${r} || {}`),Gb(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Wq}),items:Hq({mergeNames:(e,t,r)=>e.if((0,Ye._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Ye._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Ye._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Ye._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Wq(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,Ye._)`{}`);return t!==void 0&&Gb(e,r,t),r}Se.evaluatedPropsToName=Wq;function Gb(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Ye._)`${t}${(0,Ye.getProperty)(n)}`,!0))}Se.setEvaluated=Gb;var Bq={};function Dce(e,t){return e.scopeValue("func",{ref:t,code:Bq[t.code]||(Bq[t.code]=new Oce._Code(t.code))})}Se.useFunc=Dce;var Bb;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Bb||(Se.Type=Bb={}));function Lce(e,t,r){if(e instanceof Ye.Name){let n=t===Bb.Num;return r?n?(0,Ye._)`"[" + ${e} + "]"`:(0,Ye._)`"['" + ${e} + "']"`:n?(0,Ye._)`"/" + ${e}`:(0,Ye._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Ye.getProperty)(e).toString():"/"+Kb(e)}Se.getErrorPath=Lce;function Yq(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}Se.checkStrictMode=Yq});var Zr=y(Jb=>{"use strict";Object.defineProperty(Jb,"__esModule",{value:!0});var tr=re(),Fce={data:new tr.Name("data"),valCxt:new tr.Name("valCxt"),instancePath:new tr.Name("instancePath"),parentData:new tr.Name("parentData"),parentDataProperty:new tr.Name("parentDataProperty"),rootData:new tr.Name("rootData"),dynamicAnchors:new tr.Name("dynamicAnchors"),vErrors:new tr.Name("vErrors"),errors:new tr.Name("errors"),this:new tr.Name("this"),self:new tr.Name("self"),scope:new tr.Name("scope"),json:new tr.Name("json"),jsonPos:new tr.Name("jsonPos"),jsonLen:new tr.Name("jsonLen"),jsonPart:new tr.Name("jsonPart")};Jb.default=Fce});var Wu=y(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.extendErrors=rr.resetErrorsCount=rr.reportExtraError=rr.reportError=rr.keyword$DataError=rr.keywordError=void 0;var Ie=re(),fm=he(),yr=Zr();rr.keywordError={message:({keyword:e})=>(0,Ie.str)`must pass "${e}" keyword validation`};rr.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Ie.str)`"${e}" keyword must be ${t} ($data)`:(0,Ie.str)`"${e}" keyword is invalid ($data)`};function Mce(e,t=rr.keywordError,r,n){let{it:s}=e,{gen:i,compositeRule:o,allErrors:a}=s,c=Zq(e,t,r);n??(o||a)?Xq(i,c):Qq(s,(0,Ie._)`[${c}]`)}rr.reportError=Mce;function zce(e,t=rr.keywordError,r){let{it:n}=e,{gen:s,compositeRule:i,allErrors:o}=n,a=Zq(e,t,r);Xq(s,a),i||o||Qq(n,yr.default.vErrors)}rr.reportExtraError=zce;function Uce(e,t){e.assign(yr.default.errors,t),e.if((0,Ie._)`${yr.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Ie._)`${yr.default.vErrors}.length`,t),()=>e.assign(yr.default.vErrors,null)))}rr.resetErrorsCount=Uce;function Vce({gen:e,keyword:t,schemaValue:r,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let o=e.name("err");e.forRange("i",s,yr.default.errors,a=>{e.const(o,(0,Ie._)`${yr.default.vErrors}[${a}]`),e.if((0,Ie._)`${o}.instancePath === undefined`,()=>e.assign((0,Ie._)`${o}.instancePath`,(0,Ie.strConcat)(yr.default.instancePath,i.errorPath))),e.assign((0,Ie._)`${o}.schemaPath`,(0,Ie.str)`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign((0,Ie._)`${o}.schema`,r),e.assign((0,Ie._)`${o}.data`,n))})}rr.extendErrors=Vce;function Xq(e,t){let r=e.const("err",t);e.if((0,Ie._)`${yr.default.vErrors} === null`,()=>e.assign(yr.default.vErrors,(0,Ie._)`[${r}]`),(0,Ie._)`${yr.default.vErrors}.push(${r})`),e.code((0,Ie._)`${yr.default.errors}++`)}function Qq(e,t){let{gen:r,validateName:n,schemaEnv:s}=e;s.$async?r.throw((0,Ie._)`new ${e.ValidationError}(${t})`):(r.assign((0,Ie._)`${n}.errors`,t),r.return(!1))}var uo={keyword:new Ie.Name("keyword"),schemaPath:new Ie.Name("schemaPath"),params:new Ie.Name("params"),propertyName:new Ie.Name("propertyName"),message:new Ie.Name("message"),schema:new Ie.Name("schema"),parentSchema:new Ie.Name("parentSchema")};function Zq(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Ie._)`{}`:Hce(e,t,r)}function Hce(e,t,r={}){let{gen:n,it:s}=e,i=[Bce(s,r),Kce(e,r)];return Gce(e,t,i),n.object(...i)}function Bce({errorPath:e},{instancePath:t}){let r=t?(0,Ie.str)`${e}${(0,fm.getErrorPath)(t,fm.Type.Str)}`:e;return[yr.default.instancePath,(0,Ie.strConcat)(yr.default.instancePath,r)]}function Kce({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let s=n?t:(0,Ie.str)`${t}/${e}`;return r&&(s=(0,Ie.str)`${s}${(0,fm.getErrorPath)(r,fm.Type.Str)}`),[uo.schemaPath,s]}function Gce(e,{params:t,message:r},n){let{keyword:s,data:i,schemaValue:o,it:a}=e,{opts:c,propertyName:l,topSchemaRef:u,schemaPath:d}=a;n.push([uo.keyword,s],[uo.params,typeof t=="function"?t(e):t||(0,Ie._)`{}`]),c.messages&&n.push([uo.message,typeof r=="function"?r(e):r]),c.verbose&&n.push([uo.schema,o],[uo.parentSchema,(0,Ie._)`${u}${d}`],[yr.default.data,i]),l&&n.push([uo.propertyName,l])}});var tD=y($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.boolOrEmptySchema=$a.topBoolOrEmptySchema=void 0;var Jce=Wu(),Wce=re(),Yce=Zr(),Xce={message:"boolean schema is false"};function Qce(e){let{gen:t,schema:r,validateName:n}=e;r===!1?eD(e,!1):typeof r=="object"&&r.$async===!0?t.return(Yce.default.data):(t.assign((0,Wce._)`${n}.errors`,null),t.return(!0))}$a.topBoolOrEmptySchema=Qce;function Zce(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),eD(e)):r.var(t,!0)}$a.boolOrEmptySchema=Zce;function eD(e,t){let{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Jce.reportError)(s,Xce,void 0,t)}});var Wb=y(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.getRules=Ra.isJSONType=void 0;var eue=["string","number","integer","boolean","null","object","array"],tue=new Set(eue);function rue(e){return typeof e=="string"&&tue.has(e)}Ra.isJSONType=rue;function nue(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ra.getRules=nue});var Yb=y(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.shouldUseRule=ai.shouldUseGroup=ai.schemaHasRulesForType=void 0;function sue({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&rD(e,n)}ai.schemaHasRulesForType=sue;function rD(e,t){return t.rules.some(r=>nD(e,r))}ai.shouldUseGroup=rD;function nD(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}ai.shouldUseRule=nD});var Yu=y(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.reportTypeError=nr.checkDataTypes=nr.checkDataType=nr.coerceAndCheckDataType=nr.getJSONTypes=nr.getSchemaTypes=nr.DataType=void 0;var iue=Wb(),oue=Yb(),aue=Wu(),de=re(),sD=he(),Pa;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Pa||(nr.DataType=Pa={}));function cue(e){let t=iD(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}nr.getSchemaTypes=cue;function iD(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(iue.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}nr.getJSONTypes=iD;function uue(e,t){let{gen:r,data:n,opts:s}=e,i=lue(t,s.coerceTypes),o=t.length>0&&!(i.length===0&&t.length===1&&(0,oue.schemaHasRulesForType)(e,t[0]));if(o){let a=Qb(t,n,s.strictNumbers,Pa.Wrong);r.if(a,()=>{i.length?due(e,t,i):Zb(e)})}return o}nr.coerceAndCheckDataType=uue;var oD=new Set(["string","number","integer","boolean","null"]);function lue(e,t){return t?e.filter(r=>oD.has(r)||t==="array"&&r==="array"):[]}function due(e,t,r){let{gen:n,data:s,opts:i}=e,o=n.let("dataType",(0,de._)`typeof ${s}`),a=n.let("coerced",(0,de._)`undefined`);i.coerceTypes==="array"&&n.if((0,de._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,de._)`${s}[0]`).assign(o,(0,de._)`typeof ${s}`).if(Qb(t,s,i.strictNumbers),()=>n.assign(a,s))),n.if((0,de._)`${a} !== undefined`);for(let l of r)(oD.has(l)||l==="array"&&i.coerceTypes==="array")&&c(l);n.else(),Zb(e),n.endIf(),n.if((0,de._)`${a} !== undefined`,()=>{n.assign(s,a),fue(e,a)});function c(l){switch(l){case"string":n.elseIf((0,de._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,de._)`"" + ${s}`).elseIf((0,de._)`${s} === null`).assign(a,(0,de._)`""`);return;case"number":n.elseIf((0,de._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(a,(0,de._)`+${s}`);return;case"integer":n.elseIf((0,de._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(a,(0,de._)`+${s}`);return;case"boolean":n.elseIf((0,de._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(a,!1).elseIf((0,de._)`${s} === "true" || ${s} === 1`).assign(a,!0);return;case"null":n.elseIf((0,de._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(a,null);return;case"array":n.elseIf((0,de._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(a,(0,de._)`[${s}]`)}}}function fue({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,de._)`${t} !== undefined`,()=>e.assign((0,de._)`${t}[${r}]`,n))}function Xb(e,t,r,n=Pa.Correct){let s=n===Pa.Correct?de.operators.EQ:de.operators.NEQ,i;switch(e){case"null":return(0,de._)`${t} ${s} null`;case"array":i=(0,de._)`Array.isArray(${t})`;break;case"object":i=(0,de._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=o((0,de._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=o();break;default:return(0,de._)`typeof ${t} ${s} ${e}`}return n===Pa.Correct?i:(0,de.not)(i);function o(a=de.nil){return(0,de.and)((0,de._)`typeof ${t} == "number"`,a,r?(0,de._)`isFinite(${t})`:de.nil)}}nr.checkDataType=Xb;function Qb(e,t,r,n){if(e.length===1)return Xb(e[0],t,r,n);let s,i=(0,sD.toHash)(e);if(i.array&&i.object){let o=(0,de._)`typeof ${t} != "object"`;s=i.null?o:(0,de._)`!${t} || ${o}`,delete i.null,delete i.array,delete i.object}else s=de.nil;i.number&&delete i.integer;for(let o in i)s=(0,de.and)(s,Xb(o,t,r,n));return s}nr.checkDataTypes=Qb;var pue={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,de._)`{type: ${e}}`:(0,de._)`{type: ${t}}`};function Zb(e){let t=mue(e);(0,aue.reportError)(t,pue)}nr.reportTypeError=Zb;function mue(e){let{gen:t,data:r,schema:n}=e,s=(0,sD.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}});var cD=y(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.assignDefaults=void 0;var Ta=re(),hue=he();function yue(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let s in r)aD(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>aD(e,i,s.default))}pm.assignDefaults=yue;function aD(e,t,r){let{gen:n,compositeRule:s,data:i,opts:o}=e;if(r===void 0)return;let a=(0,Ta._)`${i}${(0,Ta.getProperty)(t)}`;if(s){(0,hue.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,Ta._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,Ta._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,Ta._)`${a} = ${(0,Ta.stringify)(r)}`)}});var Mt=y(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.validateUnion=Ke.validateArray=Ke.usePattern=Ke.callValidateCode=Ke.schemaProperties=Ke.allSchemaProperties=Ke.noPropertyInData=Ke.propertyInData=Ke.isOwnProperty=Ke.hasPropFunc=Ke.reportMissingProp=Ke.checkMissingProp=Ke.checkReportMissingProp=void 0;var it=re(),ew=he(),ci=Zr(),gue=he();function vue(e,t){let{gen:r,data:n,it:s}=e;r.if(rw(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,it._)`${t}`},!0),e.error()})}Ke.checkReportMissingProp=vue;function _ue({gen:e,data:t,it:{opts:r}},n,s){return(0,it.or)(...n.map(i=>(0,it.and)(rw(e,t,i,r.ownProperties),(0,it._)`${s} = ${i}`)))}Ke.checkMissingProp=_ue;function bue(e,t){e.setParams({missingProperty:t},!0),e.error()}Ke.reportMissingProp=bue;function uD(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,it._)`Object.prototype.hasOwnProperty`})}Ke.hasPropFunc=uD;function tw(e,t,r){return(0,it._)`${uD(e)}.call(${t}, ${r})`}Ke.isOwnProperty=tw;function wue(e,t,r,n){let s=(0,it._)`${t}${(0,it.getProperty)(r)} !== undefined`;return n?(0,it._)`${s} && ${tw(e,t,r)}`:s}Ke.propertyInData=wue;function rw(e,t,r,n){let s=(0,it._)`${t}${(0,it.getProperty)(r)} === undefined`;return n?(0,it.or)(s,(0,it.not)(tw(e,t,r))):s}Ke.noPropertyInData=rw;function lD(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Ke.allSchemaProperties=lD;function xue(e,t){return lD(t).filter(r=>!(0,ew.alwaysValidSchema)(e,t[r]))}Ke.schemaProperties=xue;function Sue({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:o},a,c,l){let u=l?(0,it._)`${e}, ${t}, ${n}${s}`:t,d=[[ci.default.instancePath,(0,it.strConcat)(ci.default.instancePath,i)],[ci.default.parentData,o.parentData],[ci.default.parentDataProperty,o.parentDataProperty],[ci.default.rootData,ci.default.rootData]];o.opts.dynamicRef&&d.push([ci.default.dynamicAnchors,ci.default.dynamicAnchors]);let p=(0,it._)`${u}, ${r.object(...d)}`;return c!==it.nil?(0,it._)`${a}.call(${c}, ${p})`:(0,it._)`${a}(${p})`}Ke.callValidateCode=Sue;var Eue=(0,it._)`new RegExp`;function $ue({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,it._)`${s.code==="new RegExp"?Eue:(0,gue.useFunc)(e,s)}(${r}, ${n})`})}Ke.usePattern=$ue;function Rue(e){let{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){let a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(i,!0),o(()=>t.break()),i;function o(a){let c=t.const("len",(0,it._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:ew.Type.Num},i),t.if((0,it.not)(i),a)})}}Ke.validateArray=Rue;function Pue(e){let{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,ew.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;let o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,l)=>{let u=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,it._)`${o} || ${a}`),e.mergeValidEvaluated(u,a)||t.if((0,it.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Ke.validateUnion=Pue});var pD=y(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.validateKeywordUsage=Jn.validSchemaType=Jn.funcKeywordCode=Jn.macroKeywordCode=void 0;var gr=re(),lo=Zr(),Tue=Mt(),Oue=Wu();function kue(e,t){let{gen:r,keyword:n,schema:s,parentSchema:i,it:o}=e,a=t.macro.call(o.self,s,i,o),c=fD(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let l=r.name("valid");e.subschema({schema:a,schemaPath:gr.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Jn.macroKeywordCode=kue;function Nue(e,t){var r;let{gen:n,keyword:s,schema:i,parentSchema:o,$data:a,it:c}=e;Iue(c,t);let l=!a&&t.compile?t.compile.call(c.self,i,o,c):t.validate,u=fD(n,s,l),d=n.let("valid");e.block$data(d,p),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function p(){if(t.errors===!1)h(),t.modifying&&dD(e),v(()=>e.error());else{let b=t.async?m():f();t.modifying&&dD(e),v(()=>Aue(e,b))}}function m(){let b=n.let("ruleErrs",null);return n.try(()=>h((0,gr._)`await `),S=>n.assign(d,!1).if((0,gr._)`${S} instanceof ${c.ValidationError}`,()=>n.assign(b,(0,gr._)`${S}.errors`),()=>n.throw(S))),b}function f(){let b=(0,gr._)`${u}.errors`;return n.assign(b,null),h(gr.nil),b}function h(b=t.async?(0,gr._)`await `:gr.nil){let S=c.opts.passContext?lo.default.this:lo.default.self,_=!("compile"in t&&!a||t.schema===!1);n.assign(d,(0,gr._)`${b}${(0,Tue.callValidateCode)(e,u,S,_)}`,t.modifying)}function v(b){var S;n.if((0,gr.not)((S=t.valid)!==null&&S!==void 0?S:d),b)}}Jn.funcKeywordCode=Nue;function dD(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,gr._)`${n.parentData}[${n.parentDataProperty}]`))}function Aue(e,t){let{gen:r}=e;r.if((0,gr._)`Array.isArray(${t})`,()=>{r.assign(lo.default.vErrors,(0,gr._)`${lo.default.vErrors} === null ? ${t} : ${lo.default.vErrors}.concat(${t})`).assign(lo.default.errors,(0,gr._)`${lo.default.vErrors}.length`),(0,Oue.extendErrors)(e)},()=>e.error())}function Iue({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function fD(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,gr.stringify)(r)})}function Cue(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Jn.validSchemaType=Cue;function jue({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let o=s.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Jn.validateKeywordUsage=jue});var hD=y(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.extendSubschemaMode=ui.extendSubschemaData=ui.getSubschema=void 0;var Wn=re(),mD=he();function que(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Wn._)`${e.schemaPath}${(0,Wn.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Wn._)`${e.schemaPath}${(0,Wn.getProperty)(t)}${(0,Wn.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,mD.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}ui.getSubschema=que;function Due(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=t;if(r!==void 0){let{errorPath:l,dataPathArr:u,opts:d}=t,p=a.let("data",(0,Wn._)`${t.data}${(0,Wn.getProperty)(r)}`,!0);c(p),e.errorPath=(0,Wn.str)`${l}${(0,mD.getErrorPath)(r,n,d.jsPropertySyntax)}`,e.parentDataProperty=(0,Wn._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(s!==void 0){let l=s instanceof Wn.Name?s:a.let("data",s,!0);c(l),o!==void 0&&(e.propertyName=o)}i&&(e.dataTypes=i);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}ui.extendSubschemaData=Due;function Lue(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}ui.extendSubschemaMode=Lue});var gD=y((oCe,yD)=>{"use strict";var li=yD.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};mm(t,n,s,e,"",e)};li.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};li.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};li.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};li.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function mm(e,t,r,n,s,i,o,a,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,o,a,c,l);for(var u in n){var d=n[u];if(Array.isArray(d)){if(u in li.arrayKeywords)for(var p=0;p<d.length;p++)mm(e,t,r,d[p],s+"/"+u+"/"+p,i,s,u,n,p)}else if(u in li.propsKeywords){if(d&&typeof d=="object")for(var m in d)mm(e,t,r,d[m],s+"/"+u+"/"+Fue(m),i,s,u,n,m)}else(u in li.keywords||e.allKeys&&!(u in li.skipKeywords))&&mm(e,t,r,d,s+"/"+u,i,s,u,n)}r(n,s,i,o,a,c,l)}}function Fue(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var Xu=y(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.getSchemaRefs=kr.resolveUrl=kr.normalizeId=kr._getFullPath=kr.getFullPath=kr.inlineRef=void 0;var Mue=he(),zue=Kr(),Uue=gD(),Vue=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Hue(e,t=!0){return typeof e=="boolean"?!0:t===!0?!nw(e):t?vD(e)<=t:!1}kr.inlineRef=Hue;var Bue=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function nw(e){for(let t in e){if(Bue.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(nw)||typeof r=="object"&&nw(r))return!0}return!1}function vD(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!Vue.has(r)&&(typeof e[r]=="object"&&(0,Mue.eachItem)(e[r],n=>t+=vD(n)),t===1/0))return 1/0}return t}function _D(e,t="",r){r!==!1&&(t=Oa(t));let n=e.parse(t);return bD(e,n)}kr.getFullPath=_D;function bD(e,t){return e.serialize(t).split("#")[0]+"#"}kr._getFullPath=bD;var Kue=/#\/?$/;function Oa(e){return e?e.replace(Kue,""):""}kr.normalizeId=Oa;function Gue(e,t,r){return r=Oa(r),e.resolve(t,r)}kr.resolveUrl=Gue;var Jue=/^[a-z_][-a-z0-9._]*$/i;function Wue(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=Oa(e[r]||t),i={"":s},o=_D(n,s,!1),a={},c=new Set;return Uue(e,{allKeys:!0},(d,p,m,f)=>{if(f===void 0)return;let h=o+p,v=i[f];typeof d[r]=="string"&&(v=b.call(this,d[r])),S.call(this,d.$anchor),S.call(this,d.$dynamicAnchor),i[p]=v;function b(_){let g=this.opts.uriResolver.resolve;if(_=Oa(v?g(v,_):_),c.has(_))throw u(_);c.add(_);let x=this.refs[_];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?l(d,x.schema,_):_!==Oa(h)&&(_[0]==="#"?(l(d,a[_],_),a[_]=d):this.refs[_]=h),_}function S(_){if(typeof _=="string"){if(!Jue.test(_))throw new Error(`invalid anchor "${_}"`);b.call(this,`#${_}`)}}}),a;function l(d,p,m){if(p!==void 0&&!zue(d,p))throw u(m)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}kr.getSchemaRefs=Wue});var ka=y(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.getData=di.KeywordCxt=di.validateFunctionCode=void 0;var $D=tD(),wD=Yu(),iw=Yb(),hm=Yu(),Yue=cD(),Zu=pD(),sw=hD(),W=re(),oe=Zr(),Xue=Xu(),$s=he(),Qu=Wu();function Que(e){if(TD(e)&&(OD(e),PD(e))){tle(e);return}RD(e,()=>(0,$D.topBoolOrEmptySchema)(e))}di.validateFunctionCode=Que;function RD({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,W._)`${oe.default.data}, ${oe.default.valCxt}`,n.$async,()=>{e.code((0,W._)`"use strict"; ${xD(r,s)}`),ele(e,s),e.code(i)}):e.func(t,(0,W._)`${oe.default.data}, ${Zue(s)}`,n.$async,()=>e.code(xD(r,s)).code(i))}function Zue(e){return(0,W._)`{${oe.default.instancePath}="", ${oe.default.parentData}, ${oe.default.parentDataProperty}, ${oe.default.rootData}=${oe.default.data}${e.dynamicRef?(0,W._)`, ${oe.default.dynamicAnchors}={}`:W.nil}}={}`}function ele(e,t){e.if(oe.default.valCxt,()=>{e.var(oe.default.instancePath,(0,W._)`${oe.default.valCxt}.${oe.default.instancePath}`),e.var(oe.default.parentData,(0,W._)`${oe.default.valCxt}.${oe.default.parentData}`),e.var(oe.default.parentDataProperty,(0,W._)`${oe.default.valCxt}.${oe.default.parentDataProperty}`),e.var(oe.default.rootData,(0,W._)`${oe.default.valCxt}.${oe.default.rootData}`),t.dynamicRef&&e.var(oe.default.dynamicAnchors,(0,W._)`${oe.default.valCxt}.${oe.default.dynamicAnchors}`)},()=>{e.var(oe.default.instancePath,(0,W._)`""`),e.var(oe.default.parentData,(0,W._)`undefined`),e.var(oe.default.parentDataProperty,(0,W._)`undefined`),e.var(oe.default.rootData,oe.default.data),t.dynamicRef&&e.var(oe.default.dynamicAnchors,(0,W._)`{}`)})}function tle(e){let{schema:t,opts:r,gen:n}=e;RD(e,()=>{r.$comment&&t.$comment&&ND(e),ole(e),n.let(oe.default.vErrors,null),n.let(oe.default.errors,0),r.unevaluated&&rle(e),kD(e),ule(e)})}function rle(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,W._)`${r}.evaluated`),t.if((0,W._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,W._)`${e.evaluated}.props`,(0,W._)`undefined`)),t.if((0,W._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,W._)`${e.evaluated}.items`,(0,W._)`undefined`))}function xD(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,W._)`/*# sourceURL=${r} */`:W.nil}function nle(e,t){if(TD(e)&&(OD(e),PD(e))){sle(e,t);return}(0,$D.boolOrEmptySchema)(e,t)}function PD({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function TD(e){return typeof e.schema!="boolean"}function sle(e,t){let{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&ND(e),ale(e),cle(e);let i=n.const("_errs",oe.default.errors);kD(e,i),n.var(t,(0,W._)`${i} === ${oe.default.errors}`)}function OD(e){(0,$s.checkUnknownRules)(e),ile(e)}function kD(e,t){if(e.opts.jtd)return SD(e,[],!1,t);let r=(0,wD.getSchemaTypes)(e.schema),n=(0,wD.coerceAndCheckDataType)(e,r);SD(e,r,!n,t)}function ile(e){let{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,$s.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function ole(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,$s.checkStrictMode)(e,"default is ignored in the schema root")}function ale(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Xue.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function cle(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ND({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){let i=r.$comment;if(s.$comment===!0)e.code((0,W._)`${oe.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let o=(0,W.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,W._)`${oe.default.self}.opts.$comment(${i}, ${o}, ${a}.schema)`)}}function ule(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,W._)`${oe.default.errors} === 0`,()=>t.return(oe.default.data),()=>t.throw((0,W._)`new ${s}(${oe.default.vErrors})`)):(t.assign((0,W._)`${n}.errors`,oe.default.vErrors),i.unevaluated&&lle(e),t.return((0,W._)`${oe.default.errors} === 0`))}function lle({gen:e,evaluated:t,props:r,items:n}){r instanceof W.Name&&e.assign((0,W._)`${t}.props`,r),n instanceof W.Name&&e.assign((0,W._)`${t}.items`,n)}function SD(e,t,r,n){let{gen:s,schema:i,data:o,allErrors:a,opts:c,self:l}=e,{RULES:u}=l;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,$s.schemaHasRulesButRef)(i,u))){s.block(()=>ID(e,"$ref",u.all.$ref.definition));return}c.jtd||dle(e,t),s.block(()=>{for(let p of u.rules)d(p);d(u.post)});function d(p){(0,iw.shouldUseGroup)(i,p)&&(p.type?(s.if((0,hm.checkDataType)(p.type,o,c.strictNumbers)),ED(e,p),t.length===1&&t[0]===p.type&&r&&(s.else(),(0,hm.reportTypeError)(e)),s.endIf()):ED(e,p),a||s.if((0,W._)`${oe.default.errors} === ${n||0}`))}}function ED(e,t){let{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Yue.assignDefaults)(e,t.type),r.block(()=>{for(let i of t.rules)(0,iw.shouldUseRule)(n,i)&&ID(e,i.keyword,i.definition,t.type)})}function dle(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(fle(e,t),e.opts.allowUnionTypes||ple(e,t),mle(e,e.dataTypes))}function fle(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{AD(e.dataTypes,r)||ow(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),yle(e,t)}}function ple(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ow(e,"use allowUnionTypes to allow union type keyword")}function mle(e,t){let r=e.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,iw.shouldUseRule)(e.schema,s)){let{type:i}=s.definition;i.length&&!i.some(o=>hle(t,o))&&ow(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function hle(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function AD(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function yle(e,t){let r=[];for(let n of e.dataTypes)AD(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function ow(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,$s.checkStrictMode)(e,t,e.opts.strictTypes)}var ym=class{constructor(t,r,n){if((0,Zu.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,$s.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",CD(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Zu.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",oe.default.errors))}result(t,r,n){this.failResult((0,W.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,W.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,W._)`${r} !== undefined && (${(0,W.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Qu.reportExtraError:Qu.reportError)(this,this.def.error,r)}$dataError(){(0,Qu.reportError)(this,this.def.$dataError||Qu.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Qu.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=W.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=W.nil,r=W.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:o}=this;n.if((0,W.or)((0,W._)`${s} === undefined`,r)),t!==W.nil&&n.assign(t,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==W.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,W.or)(o(),a());function o(){if(n.length){if(!(r instanceof W.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,W._)`${(0,hm.checkDataTypes)(c,r,i.opts.strictNumbers,hm.DataType.Wrong)}`}return W.nil}function a(){if(s.validateSchema){let c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,W._)`!${c}(${r})`}return W.nil}}subschema(t,r){let n=(0,sw.getSubschema)(this.it,t);(0,sw.extendSubschemaData)(n,this.it,t),(0,sw.extendSubschemaMode)(n,t);let s={...this.it,...n,items:void 0,props:void 0};return nle(s,r),s}mergeEvaluated(t,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=$s.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=$s.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,W.Name)),!0}};di.KeywordCxt=ym;function ID(e,t,r,n){let s=new ym(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Zu.funcKeywordCode)(s,r):"macro"in r?(0,Zu.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Zu.funcKeywordCode)(s,r)}var gle=/^\/(?:[^~]|~0|~1)*$/,vle=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function CD(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return oe.default.rootData;if(e[0]==="/"){if(!gle.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=oe.default.rootData}else{let l=vle.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);let u=+l[1];if(s=l[2],s==="#"){if(u>=t)throw new Error(c("property/index",u));return n[t-u]}if(u>t)throw new Error(c("data",u));if(i=r[t-u],!s)return i}let o=i,a=s.split("/");for(let l of a)l&&(i=(0,W._)`${i}${(0,W.getProperty)((0,$s.unescapeJsonPointer)(l))}`,o=(0,W._)`${o} && ${i}`);return o;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${t}`}}di.getData=CD});var el=y(cw=>{"use strict";Object.defineProperty(cw,"__esModule",{value:!0});var aw=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};cw.default=aw});var Rs=y(dw=>{"use strict";Object.defineProperty(dw,"__esModule",{value:!0});var uw=Xu(),lw=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,uw.resolveUrl)(t,r,n),this.missingSchema=(0,uw.normalizeId)((0,uw.getFullPath)(t,this.missingRef))}};dw.default=lw});var po=y(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.resolveSchema=en.getCompilingSchema=en.resolveRef=en.compileSchema=en.SchemaEnv=void 0;var Sn=re(),_le=el(),fo=Zr(),En=Xu(),jD=he(),ble=ka(),Na=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,En.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};en.SchemaEnv=Na;function pw(e){let t=qD.call(this,e);if(t)return t;let r=(0,En.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new Sn.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),a;e.$async&&(a=o.scopeValue("Error",{ref:_le.default,code:(0,Sn._)`require("ajv/dist/runtime/validation_error").default`}));let c=o.scopeName("validate");e.validateName=c;let l={gen:o,allErrors:this.opts.allErrors,data:fo.default.data,parentData:fo.default.parentData,parentDataProperty:fo.default.parentDataProperty,dataNames:[fo.default.data],dataPathArr:[Sn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Sn.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Sn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Sn._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(e),(0,ble.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);let d=o.toString();u=`${o.scopeRefs(fo.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,e));let m=new Function(`${fo.default.self}`,`${fo.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){let{props:f,items:h}=l;m.evaluated={props:f instanceof Sn.Name?void 0:f,items:h instanceof Sn.Name?void 0:h,dynamicProps:f instanceof Sn.Name,dynamicItems:h instanceof Sn.Name},m.source&&(m.source.evaluated=(0,Sn.stringify)(m.evaluated))}return e.validate=m,e}catch(d){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(e)}}en.compileSchema=pw;function wle(e,t,r){var n;r=(0,En.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let i=Ele.call(this,e,r);if(i===void 0){let o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(i=new Na({schema:o,schemaId:a,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=xle.call(this,i)}en.resolveRef=wle;function xle(e){return(0,En.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:pw.call(this,e)}function qD(e){for(let t of this._compilations)if(Sle(t,e))return t}en.getCompilingSchema=qD;function Sle(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Ele(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||gm.call(this,e,t)}function gm(e,t){let r=this.opts.uriResolver.parse(t),n=(0,En._getFullPath)(this.opts.uriResolver,r),s=(0,En.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return fw.call(this,r,e);let i=(0,En.normalizeId)(n),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){let a=gm.call(this,e,o);return typeof a?.schema!="object"?void 0:fw.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||pw.call(this,o),i===(0,En.normalizeId)(t)){let{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(s=(0,En.resolveUrl)(this.opts.uriResolver,s,l)),new Na({schema:a,schemaId:c,root:e,baseId:s})}return fw.call(this,r,o)}}en.resolveSchema=gm;var $le=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function fw(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,jD.unescapeFragment)(a)];if(c===void 0)return;r=c;let l=typeof r=="object"&&r[this.opts.schemaId];!$le.has(a)&&l&&(t=(0,En.resolveUrl)(this.opts.uriResolver,t,l))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,jD.schemaHasRulesButRef)(r,this.RULES)){let a=(0,En.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=gm.call(this,n,a)}let{schemaId:o}=this.opts;if(i=i||new Na({schema:r,schemaId:o,root:n,baseId:t}),i.schema!==i.root.schema)return i}});var DD=y((fCe,Rle)=>{Rle.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var hw=y((pCe,zD)=>{"use strict";var Ple=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),FD=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function mw(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}var Tle=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function LD(e){return e.length=0,!0}function Ole(e,t,r){if(e.length){let n=mw(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function kle(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],i=!1,o=!1,a=Ole;for(let c=0;c<e.length;c++){let l=e[c];if(!(l==="["||l==="]"))if(l===":"){if(i===!0&&(o=!0),!a(s,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(i=!0),n.push(":");continue}else if(l==="%"){if(!a(s,n,r))break;a=LD}else{s.push(l);continue}}return s.length&&(a===LD?r.zone=s.join(""):o?n.push(s.join("")):n.push(mw(s))),r.address=n.join(""),r}function MD(e){if(Nle(e,":")<2)return{host:e,isIPV6:!1};let t=kle(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Nle(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function Ale(e){let t=e,r=[],n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function Ile(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Cle(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!FD(r)){let n=MD(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}zD.exports={nonSimpleDomain:Tle,recomposeAuthority:Cle,normalizeComponentEncoding:Ile,removeDotSegments:Ale,isIPv4:FD,isUUID:Ple,normalizeIPv6:MD,stringArrayToHexStripped:mw}});var KD=y((mCe,BD)=>{"use strict";var{isUUID:jle}=hw(),qle=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,Dle=["http","https","ws","wss","urn","urn:uuid"];function Lle(e){return Dle.indexOf(e)!==-1}function yw(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function UD(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function VD(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Fle(e){return e.secure=yw(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Mle(e){if((e.port===(yw(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function zle(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(qle);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,i=gw(s);e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Ule(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=gw(s);i&&(e=i.serialize(e,t));let o=e,a=e.nss;return o.path=`${n||t.nid}:${a}`,t.skipEscape=!0,o}function Vle(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!jle(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Hle(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var HD={scheme:"http",domainHost:!0,parse:UD,serialize:VD},Ble={scheme:"https",domainHost:HD.domainHost,parse:UD,serialize:VD},vm={scheme:"ws",domainHost:!0,parse:Fle,serialize:Mle},Kle={scheme:"wss",domainHost:vm.domainHost,parse:vm.parse,serialize:vm.serialize},Gle={scheme:"urn",parse:zle,serialize:Ule,skipNormalize:!0},Jle={scheme:"urn:uuid",parse:Vle,serialize:Hle,skipNormalize:!0},_m={http:HD,https:Ble,ws:vm,wss:Kle,urn:Gle,"urn:uuid":Jle};Object.setPrototypeOf(_m,null);function gw(e){return e&&(_m[e]||_m[e.toLowerCase()])||void 0}BD.exports={wsIsSecure:yw,SCHEMES:_m,isValidSchemeName:Lle,getSchemeHandler:gw}});var WD=y((hCe,wm)=>{"use strict";var{normalizeIPv6:Wle,removeDotSegments:tl,recomposeAuthority:Yle,normalizeComponentEncoding:bm,isIPv4:Xle,nonSimpleDomain:Qle}=hw(),{SCHEMES:Zle,getSchemeHandler:GD}=KD();function ede(e,t){return typeof e=="string"?e=Yn(Ps(e,t),t):typeof e=="object"&&(e=Ps(Yn(e,t),t)),e}function tde(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=JD(Ps(e,n),Ps(t,n),n,!0);return n.skipEscape=!0,Yn(s,n)}function JD(e,t,r,n){let s={};return n||(e=Ps(Yn(e,r),r),t=Ps(Yn(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=tl(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=tl(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=tl(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=tl(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function rde(e,t,r){return typeof e=="string"?(e=unescape(e),e=Yn(bm(Ps(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Yn(bm(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Yn(bm(Ps(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Yn(bm(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Yn(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=GD(n.scheme||r.scheme);i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");let o=Yle(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(a=tl(a)),o===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),s.push(a)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}var nde=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Ps(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);let i=e.match(nde);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host)if(Xle(n.host)===!1){let c=Wle(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=GD(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&Qle(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var vw={SCHEMES:Zle,normalize:ede,resolve:tde,resolveComponent:JD,equal:rde,serialize:Yn,parse:Ps};wm.exports=vw;wm.exports.default=vw;wm.exports.fastUri=vw});var XD=y(_w=>{"use strict";Object.defineProperty(_w,"__esModule",{value:!0});var YD=WD();YD.code='require("ajv/dist/runtime/uri").default';_w.default=YD});var xw=y(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.CodeGen=zt.Name=zt.nil=zt.stringify=zt.str=zt._=zt.KeywordCxt=void 0;var sde=ka();Object.defineProperty(zt,"KeywordCxt",{enumerable:!0,get:function(){return sde.KeywordCxt}});var Aa=re();Object.defineProperty(zt,"_",{enumerable:!0,get:function(){return Aa._}});Object.defineProperty(zt,"str",{enumerable:!0,get:function(){return Aa.str}});Object.defineProperty(zt,"stringify",{enumerable:!0,get:function(){return Aa.stringify}});Object.defineProperty(zt,"nil",{enumerable:!0,get:function(){return Aa.nil}});Object.defineProperty(zt,"Name",{enumerable:!0,get:function(){return Aa.Name}});Object.defineProperty(zt,"CodeGen",{enumerable:!0,get:function(){return Aa.CodeGen}});var ide=el(),rL=Rs(),ode=Wb(),rl=po(),ade=re(),nl=Xu(),xm=Yu(),ww=he(),QD=DD(),cde=XD(),nL=(e,t)=>new RegExp(e,t);nL.code="new RegExp";var ude=["removeAdditional","useDefaults","coerceTypes"],lde=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),dde={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},fde={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},ZD=200;function pde(e){var t,r,n,s,i,o,a,c,l,u,d,p,m,f,h,v,b,S,_,g,x,R,w,E,P;let $=e.strict,j=(t=e.code)===null||t===void 0?void 0:t.optimize,O=j===!0||j===void 0?1:j||0,T=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:nL,A=(s=e.uriResolver)!==null&&s!==void 0?s:cde.default;return{strictSchema:(o=(i=e.strictSchema)!==null&&i!==void 0?i:$)!==null&&o!==void 0?o:!0,strictNumbers:(c=(a=e.strictNumbers)!==null&&a!==void 0?a:$)!==null&&c!==void 0?c:!0,strictTypes:(u=(l=e.strictTypes)!==null&&l!==void 0?l:$)!==null&&u!==void 0?u:"log",strictTuples:(p=(d=e.strictTuples)!==null&&d!==void 0?d:$)!==null&&p!==void 0?p:"log",strictRequired:(f=(m=e.strictRequired)!==null&&m!==void 0?m:$)!==null&&f!==void 0?f:!1,code:e.code?{...e.code,optimize:O,regExp:T}:{optimize:O,regExp:T},loopRequired:(h=e.loopRequired)!==null&&h!==void 0?h:ZD,loopEnum:(v=e.loopEnum)!==null&&v!==void 0?v:ZD,meta:(b=e.meta)!==null&&b!==void 0?b:!0,messages:(S=e.messages)!==null&&S!==void 0?S:!0,inlineRefs:(_=e.inlineRefs)!==null&&_!==void 0?_:!0,schemaId:(g=e.schemaId)!==null&&g!==void 0?g:"$id",addUsedSchema:(x=e.addUsedSchema)!==null&&x!==void 0?x:!0,validateSchema:(R=e.validateSchema)!==null&&R!==void 0?R:!0,validateFormats:(w=e.validateFormats)!==null&&w!==void 0?w:!0,unicodeRegExp:(E=e.unicodeRegExp)!==null&&E!==void 0?E:!0,int32range:(P=e.int32range)!==null&&P!==void 0?P:!0,uriResolver:A}}var sl=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...pde(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new ade.ValueScope({scope:{},prefixes:lde,es5:r,lines:n}),this.logger=_de(t.logger);let s=t.validateFormats;t.validateFormats=!1,this.RULES=(0,ode.getRules)(),eL.call(this,dde,t,"NOT SUPPORTED"),eL.call(this,fde,t,"DEPRECATED","warn"),this._metaOpts=gde.call(this),t.formats&&hde.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&yde.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),mde.call(this),t.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,s=QD;n==="id"&&(s={...QD},s.id=s.$id,delete s.$id),r&&t&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,t,r);async function s(u,d){await i.call(this,u.$schema);let p=this._addSchema(u,d);return p.validate||o.call(this,p)}async function i(u){u&&!this.getSchema(u)&&await s.call(this,{$ref:u},!0)}async function o(u){try{return this._compileSchemaEnv(u)}catch(d){if(!(d instanceof rL.default))throw d;return a.call(this,d),await c.call(this,d.missingSchema),o.call(this,u)}}function a({missingSchema:u,missingRef:d}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${d} cannot be resolved`)}async function c(u){let d=await l.call(this,u);this.refs[u]||await i.call(this,d.$schema),this.refs[u]||this.addSchema(d,u,r)}async function l(u){let d=this._loading[u];if(d)return d;try{return await(this._loading[u]=n(u))}finally{delete this._loading[u]}}}addSchema(t,r,n,s=this.opts.validateSchema){if(Array.isArray(t)){for(let o of t)this.addSchema(o,void 0,n,s);return this}let i;if(typeof t=="object"){let{schemaId:o}=this.opts;if(i=t[o],i!==void 0&&typeof i!="string")throw new Error(`schema ${o} must be string`)}return r=(0,nl.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,s,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,t);if(!s&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(t){let r;for(;typeof(r=tL.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,s=new rl.SchemaEnv({schema:{},schemaId:n});if(r=rl.resolveSchema.call(this,s,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=tL.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,nl.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(wde.call(this,n,r),!r)return(0,ww.eachItem)(n,i=>bw.call(this,i)),this;Sde.call(this,r);let s={...r,type:(0,xm.getJSONTypes)(r.type),schemaType:(0,xm.getJSONTypes)(r.schemaType)};return(0,ww.eachItem)(n,s.type.length===0?i=>bw.call(this,i,s):i=>s.type.forEach(o=>bw.call(this,i,s,o))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let s=n.rules.findIndex(i=>i.keyword===t);s>=0&&n.rules.splice(s,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+r+i)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let s of r){let i=s.split("/").slice(1),o=t;for(let a of i)o=o[a];for(let a in n){let c=n[a];if(typeof c!="object")continue;let{$data:l}=c.definition,u=o[a];l&&u&&(o[a]=sL(u))}}return t}_removeAllSchemas(t,r){for(let n in t){let s=t[n];(!r||r.test(n))&&(typeof s=="string"?delete t[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete t[n]))}}_addSchema(t,r,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof t=="object")o=t[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(t);if(c!==void 0)return c;n=(0,nl.normalizeId)(o||n);let l=nl.getSchemaRefs.call(this,t,n);return c=new rl.SchemaEnv({schema:t,schemaId:a,meta:r,baseId:n,localRefs:l}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),s&&this.validateSchema(t,!0),c}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):rl.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{rl.compileSchema.call(this,t)}finally{this.opts=r}}};sl.ValidationError=ide.default;sl.MissingRefError=rL.default;zt.default=sl;function eL(e,t,r,n="error"){for(let s in e){let i=s;i in t&&this.logger[n](`${r}: option ${s}. ${e[i]}`)}}function tL(e){return e=(0,nl.normalizeId)(e),this.schemas[e]||this.refs[e]}function mde(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function hde(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function yde(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function gde(){let e={...this.opts};for(let t of ude)delete e[t];return e}var vde={log(){},warn(){},error(){}};function _de(e){if(e===!1)return vde;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var bde=/^[a-z_$][a-z0-9_$:-]*$/i;function wde(e,t){let{RULES:r}=this;if((0,ww.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!bde.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function bw(e,t,r){var n;let s=t?.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,o=s?i.post:i.rules.find(({type:c})=>c===r);if(o||(o={type:r,rules:[]},i.rules.push(o)),i.keywords[e]=!0,!t)return;let a={keyword:e,definition:{...t,type:(0,xm.getJSONTypes)(t.type),schemaType:(0,xm.getJSONTypes)(t.schemaType)}};t.before?xde.call(this,o,a,t.before):o.rules.push(a),i.all[e]=a,(n=t.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function xde(e,t,r){let n=e.rules.findIndex(s=>s.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function Sde(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=sL(t)),e.validateSchema=this.compile(t,!0))}var Ede={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function sL(e){return{anyOf:[e,Ede]}}});var iL=y(Sw=>{"use strict";Object.defineProperty(Sw,"__esModule",{value:!0});var $de={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Sw.default=$de});var Ew=y(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.callRef=mo.getValidate=void 0;var Rde=Rs(),oL=Mt(),Nr=re(),Ia=Zr(),aL=po(),Sm=he(),Pde={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:o,opts:a,self:c}=n,{root:l}=i;if((r==="#"||r==="#/")&&s===l.baseId)return d();let u=aL.resolveRef.call(c,l,s,r);if(u===void 0)throw new Rde.default(n.opts.uriResolver,s,r);if(u instanceof aL.SchemaEnv)return p(u);return m(u);function d(){if(i===l)return Em(e,o,i,i.$async);let f=t.scopeValue("root",{ref:l});return Em(e,(0,Nr._)`${f}.validate`,l,l.$async)}function p(f){let h=cL(e,f);Em(e,h,f,f.$async)}function m(f){let h=t.scopeValue("schema",a.code.source===!0?{ref:f,code:(0,Nr.stringify)(f)}:{ref:f}),v=t.name("valid"),b=e.subschema({schema:f,dataTypes:[],schemaPath:Nr.nil,topSchemaRef:h,errSchemaPath:r},v);e.mergeEvaluated(b),e.ok(v)}}};function cL(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Nr._)`${r.scopeValue("wrapper",{ref:t})}.validate`}mo.getValidate=cL;function Em(e,t,r,n){let{gen:s,it:i}=e,{allErrors:o,schemaEnv:a,opts:c}=i,l=c.passContext?Ia.default.this:Nr.nil;n?u():d();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let f=s.let("valid");s.try(()=>{s.code((0,Nr._)`await ${(0,oL.callValidateCode)(e,t,l)}`),m(t),o||s.assign(f,!0)},h=>{s.if((0,Nr._)`!(${h} instanceof ${i.ValidationError})`,()=>s.throw(h)),p(h),o||s.assign(f,!1)}),e.ok(f)}function d(){e.result((0,oL.callValidateCode)(e,t,l),()=>m(t),()=>p(t))}function p(f){let h=(0,Nr._)`${f}.errors`;s.assign(Ia.default.vErrors,(0,Nr._)`${Ia.default.vErrors} === null ? ${h} : ${Ia.default.vErrors}.concat(${h})`),s.assign(Ia.default.errors,(0,Nr._)`${Ia.default.vErrors}.length`)}function m(f){var h;if(!i.opts.unevaluated)return;let v=(h=r?.validate)===null||h===void 0?void 0:h.evaluated;if(i.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(i.props=Sm.mergeEvaluated.props(s,v.props,i.props));else{let b=s.var("props",(0,Nr._)`${f}.evaluated.props`);i.props=Sm.mergeEvaluated.props(s,b,i.props,Nr.Name)}if(i.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(i.items=Sm.mergeEvaluated.items(s,v.items,i.items));else{let b=s.var("items",(0,Nr._)`${f}.evaluated.items`);i.items=Sm.mergeEvaluated.items(s,b,i.items,Nr.Name)}}}mo.callRef=Em;mo.default=Pde});var uL=y($w=>{"use strict";Object.defineProperty($w,"__esModule",{value:!0});var Tde=iL(),Ode=Ew(),kde=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Tde.default,Ode.default];$w.default=kde});var lL=y(Rw=>{"use strict";Object.defineProperty(Rw,"__esModule",{value:!0});var $m=re(),fi=$m.operators,Rm={maximum:{okStr:"<=",ok:fi.LTE,fail:fi.GT},minimum:{okStr:">=",ok:fi.GTE,fail:fi.LT},exclusiveMaximum:{okStr:"<",ok:fi.LT,fail:fi.GTE},exclusiveMinimum:{okStr:">",ok:fi.GT,fail:fi.LTE}},Nde={message:({keyword:e,schemaCode:t})=>(0,$m.str)`must be ${Rm[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,$m._)`{comparison: ${Rm[e].okStr}, limit: ${t}}`},Ade={keyword:Object.keys(Rm),type:"number",schemaType:"number",$data:!0,error:Nde,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,$m._)`${r} ${Rm[t].fail} ${n} || isNaN(${r})`)}};Rw.default=Ade});var dL=y(Pw=>{"use strict";Object.defineProperty(Pw,"__esModule",{value:!0});var il=re(),Ide={message:({schemaCode:e})=>(0,il.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,il._)`{multipleOf: ${e}}`},Cde={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ide,code(e){let{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,o=t.let("res"),a=i?(0,il._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,il._)`${o} !== parseInt(${o})`;e.fail$data((0,il._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Pw.default=Cde});var pL=y(Tw=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0});function fL(e){let t=e.length,r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Tw.default=fL;fL.code='require("ajv/dist/runtime/ucs2length").default'});var mL=y(Ow=>{"use strict";Object.defineProperty(Ow,"__esModule",{value:!0});var ho=re(),jde=he(),qde=pL(),Dde={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,ho.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,ho._)`{limit: ${e}}`},Lde={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Dde,code(e){let{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?ho.operators.GT:ho.operators.LT,o=s.opts.unicode===!1?(0,ho._)`${r}.length`:(0,ho._)`${(0,jde.useFunc)(e.gen,qde.default)}(${r})`;e.fail$data((0,ho._)`${o} ${i} ${n}`)}};Ow.default=Lde});var hL=y(kw=>{"use strict";Object.defineProperty(kw,"__esModule",{value:!0});var Fde=Mt(),Pm=re(),Mde={message:({schemaCode:e})=>(0,Pm.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Pm._)`{pattern: ${e}}`},zde={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Mde,code(e){let{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,o=i.opts.unicodeRegExp?"u":"",a=r?(0,Pm._)`(new RegExp(${s}, ${o}))`:(0,Fde.usePattern)(e,n);e.fail$data((0,Pm._)`!${a}.test(${t})`)}};kw.default=zde});var yL=y(Nw=>{"use strict";Object.defineProperty(Nw,"__esModule",{value:!0});var ol=re(),Ude={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,ol.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,ol._)`{limit: ${e}}`},Vde={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Ude,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?ol.operators.GT:ol.operators.LT;e.fail$data((0,ol._)`Object.keys(${r}).length ${s} ${n}`)}};Nw.default=Vde});var gL=y(Aw=>{"use strict";Object.defineProperty(Aw,"__esModule",{value:!0});var al=Mt(),cl=re(),Hde=he(),Bde={message:({params:{missingProperty:e}})=>(0,cl.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,cl._)`{missingProperty: ${e}}`},Kde={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Bde,code(e){let{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:o}=e,{opts:a}=o;if(!i&&r.length===0)return;let c=r.length>=a.loopRequired;if(o.allErrors?l():u(),a.strictRequired){let m=e.parentSchema.properties,{definedProperties:f}=e.it;for(let h of r)if(m?.[h]===void 0&&!f.has(h)){let v=o.schemaEnv.baseId+o.errSchemaPath,b=`required property "${h}" is not defined at "${v}" (strictRequired)`;(0,Hde.checkStrictMode)(o,b,o.opts.strictRequired)}}function l(){if(c||i)e.block$data(cl.nil,d);else for(let m of r)(0,al.checkReportMissingProp)(e,m)}function u(){let m=t.let("missing");if(c||i){let f=t.let("valid",!0);e.block$data(f,()=>p(m,f)),e.ok(f)}else t.if((0,al.checkMissingProp)(e,r,m)),(0,al.reportMissingProp)(e,m),t.else()}function d(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,al.noPropertyInData)(t,s,m,a.ownProperties),()=>e.error())})}function p(m,f){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(f,(0,al.propertyInData)(t,s,m,a.ownProperties)),t.if((0,cl.not)(f),()=>{e.error(),t.break()})},cl.nil)}}};Aw.default=Kde});var vL=y(Iw=>{"use strict";Object.defineProperty(Iw,"__esModule",{value:!0});var ul=re(),Gde={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,ul.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,ul._)`{limit: ${e}}`},Jde={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Gde,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?ul.operators.GT:ul.operators.LT;e.fail$data((0,ul._)`${r}.length ${s} ${n}`)}};Iw.default=Jde});var Tm=y(Cw=>{"use strict";Object.defineProperty(Cw,"__esModule",{value:!0});var _L=Kr();_L.code='require("ajv/dist/runtime/equal").default';Cw.default=_L});var bL=y(qw=>{"use strict";Object.defineProperty(qw,"__esModule",{value:!0});var jw=Yu(),Ut=re(),Wde=he(),Yde=Tm(),Xde={message:({params:{i:e,j:t}})=>(0,Ut.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ut._)`{i: ${e}, j: ${t}}`},Qde={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Xde,code(e){let{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:o,it:a}=e;if(!n&&!s)return;let c=t.let("valid"),l=i.items?(0,jw.getSchemaTypes)(i.items):[];e.block$data(c,u,(0,Ut._)`${o} === false`),e.ok(c);function u(){let f=t.let("i",(0,Ut._)`${r}.length`),h=t.let("j");e.setParams({i:f,j:h}),t.assign(c,!0),t.if((0,Ut._)`${f} > 1`,()=>(d()?p:m)(f,h))}function d(){return l.length>0&&!l.some(f=>f==="object"||f==="array")}function p(f,h){let v=t.name("item"),b=(0,jw.checkDataTypes)(l,v,a.opts.strictNumbers,jw.DataType.Wrong),S=t.const("indices",(0,Ut._)`{}`);t.for((0,Ut._)`;${f}--;`,()=>{t.let(v,(0,Ut._)`${r}[${f}]`),t.if(b,(0,Ut._)`continue`),l.length>1&&t.if((0,Ut._)`typeof ${v} == "string"`,(0,Ut._)`${v} += "_"`),t.if((0,Ut._)`typeof ${S}[${v}] == "number"`,()=>{t.assign(h,(0,Ut._)`${S}[${v}]`),e.error(),t.assign(c,!1).break()}).code((0,Ut._)`${S}[${v}] = ${f}`)})}function m(f,h){let v=(0,Wde.useFunc)(t,Yde.default),b=t.name("outer");t.label(b).for((0,Ut._)`;${f}--;`,()=>t.for((0,Ut._)`${h} = ${f}; ${h}--;`,()=>t.if((0,Ut._)`${v}(${r}[${f}], ${r}[${h}])`,()=>{e.error(),t.assign(c,!1).break(b)})))}}};qw.default=Qde});var wL=y(Lw=>{"use strict";Object.defineProperty(Lw,"__esModule",{value:!0});var Dw=re(),Zde=he(),efe=Tm(),tfe={message:"must be equal to constant",params:({schemaCode:e})=>(0,Dw._)`{allowedValue: ${e}}`},rfe={keyword:"const",$data:!0,error:tfe,code(e){let{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,Dw._)`!${(0,Zde.useFunc)(t,efe.default)}(${r}, ${s})`):e.fail((0,Dw._)`${i} !== ${r}`)}};Lw.default=rfe});var xL=y(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0});var ll=re(),nfe=he(),sfe=Tm(),ife={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ll._)`{allowedValues: ${e}}`},ofe={keyword:"enum",schemaType:"array",$data:!0,error:ife,code(e){let{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let a=s.length>=o.opts.loopEnum,c,l=()=>c??(c=(0,nfe.useFunc)(t,sfe.default)),u;if(a||n)u=t.let("valid"),e.block$data(u,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let m=t.const("vSchema",i);u=(0,ll.or)(...s.map((f,h)=>p(m,h)))}e.pass(u);function d(){t.assign(u,!1),t.forOf("v",i,m=>t.if((0,ll._)`${l()}(${r}, ${m})`,()=>t.assign(u,!0).break()))}function p(m,f){let h=s[f];return typeof h=="object"&&h!==null?(0,ll._)`${l()}(${r}, ${m}[${f}])`:(0,ll._)`${r} === ${h}`}}};Fw.default=ofe});var SL=y(Mw=>{"use strict";Object.defineProperty(Mw,"__esModule",{value:!0});var afe=lL(),cfe=dL(),ufe=mL(),lfe=hL(),dfe=yL(),ffe=gL(),pfe=vL(),mfe=bL(),hfe=wL(),yfe=xL(),gfe=[afe.default,cfe.default,ufe.default,lfe.default,dfe.default,ffe.default,pfe.default,mfe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},hfe.default,yfe.default];Mw.default=gfe});var Uw=y(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.validateAdditionalItems=void 0;var yo=re(),zw=he(),vfe={message:({params:{len:e}})=>(0,yo.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,yo._)`{limit: ${e}}`},_fe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:vfe,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,zw.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}EL(e,n)}};function EL(e,t){let{gen:r,schema:n,data:s,keyword:i,it:o}=e;o.items=!0;let a=r.const("len",(0,yo._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,yo._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,zw.alwaysValidSchema)(o,n)){let l=r.var("valid",(0,yo._)`${a} <= ${t.length}`);r.if((0,yo.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,a,u=>{e.subschema({keyword:i,dataProp:u,dataPropType:zw.Type.Num},l),o.allErrors||r.if((0,yo.not)(l),()=>r.break())})}}dl.validateAdditionalItems=EL;dl.default=_fe});var Vw=y(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.validateTuple=void 0;var $L=re(),Om=he(),bfe=Mt(),wfe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return RL(e,"additionalItems",t);r.items=!0,!(0,Om.alwaysValidSchema)(r,t)&&e.ok((0,bfe.validateArray)(e))}};function RL(e,t,r=e.schema){let{gen:n,parentSchema:s,data:i,keyword:o,it:a}=e;u(s),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Om.mergeEvaluated.items(n,r.length,a.items));let c=n.name("valid"),l=n.const("len",(0,$L._)`${i}.length`);r.forEach((d,p)=>{(0,Om.alwaysValidSchema)(a,d)||(n.if((0,$L._)`${l} > ${p}`,()=>e.subschema({keyword:o,schemaProp:p,dataProp:p},c)),e.ok(c))});function u(d){let{opts:p,errSchemaPath:m}=a,f=r.length,h=f===d.minItems&&(f===d.maxItems||d[t]===!1);if(p.strictTuples&&!h){let v=`"${o}" is ${f}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Om.checkStrictMode)(a,v,p.strictTuples)}}}fl.validateTuple=RL;fl.default=wfe});var PL=y(Hw=>{"use strict";Object.defineProperty(Hw,"__esModule",{value:!0});var xfe=Vw(),Sfe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,xfe.validateTuple)(e,"items")};Hw.default=Sfe});var OL=y(Bw=>{"use strict";Object.defineProperty(Bw,"__esModule",{value:!0});var TL=re(),Efe=he(),$fe=Mt(),Rfe=Uw(),Pfe={message:({params:{len:e}})=>(0,TL.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,TL._)`{limit: ${e}}`},Tfe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Pfe,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,Efe.alwaysValidSchema)(n,t)&&(s?(0,Rfe.validateAdditionalItems)(e,s):e.ok((0,$fe.validateArray)(e)))}};Bw.default=Tfe});var kL=y(Kw=>{"use strict";Object.defineProperty(Kw,"__esModule",{value:!0});var tn=re(),km=he(),Ofe={message:({params:{min:e,max:t}})=>t===void 0?(0,tn.str)`must contain at least ${e} valid item(s)`:(0,tn.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,tn._)`{minContains: ${e}}`:(0,tn._)`{minContains: ${e}, maxContains: ${t}}`},kfe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Ofe,code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e,o,a,{minContains:c,maxContains:l}=n;i.opts.next?(o=c===void 0?1:c,a=l):o=1;let u=t.const("len",(0,tn._)`${s}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,km.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,km.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,km.alwaysValidSchema)(i,r)){let h=(0,tn._)`${u} >= ${o}`;a!==void 0&&(h=(0,tn._)`${h} && ${u} <= ${a}`),e.pass(h);return}i.items=!0;let d=t.name("valid");a===void 0&&o===1?m(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),a!==void 0&&t.if((0,tn._)`${s}.length > 0`,p)):(t.let(d,!1),p()),e.result(d,()=>e.reset());function p(){let h=t.name("_valid"),v=t.let("count",0);m(h,()=>t.if(h,()=>f(v)))}function m(h,v){t.forRange("i",0,u,b=>{e.subschema({keyword:"contains",dataProp:b,dataPropType:km.Type.Num,compositeRule:!0},h),v()})}function f(h){t.code((0,tn._)`${h}++`),a===void 0?t.if((0,tn._)`${h} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,tn._)`${h} > ${a}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,tn._)`${h} >= ${o}`,()=>t.assign(d,!0)))}}};Kw.default=kfe});var IL=y(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.validateSchemaDeps=Xn.validatePropertyDeps=Xn.error=void 0;var Gw=re(),Nfe=he(),pl=Mt();Xn.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,Gw.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,Gw._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var Afe={keyword:"dependencies",type:"object",schemaType:"object",error:Xn.error,code(e){let[t,r]=Ife(e);NL(e,t),AL(e,r)}};function Ife({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let s=Array.isArray(e[n])?t:r;s[n]=e[n]}return[t,r]}function NL(e,t=e.schema){let{gen:r,data:n,it:s}=e;if(Object.keys(t).length===0)return;let i=r.let("missing");for(let o in t){let a=t[o];if(a.length===0)continue;let c=(0,pl.propertyInData)(r,n,o,s.opts.ownProperties);e.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),s.allErrors?r.if(c,()=>{for(let l of a)(0,pl.checkReportMissingProp)(e,l)}):(r.if((0,Gw._)`${c} && (${(0,pl.checkMissingProp)(e,a,i)})`),(0,pl.reportMissingProp)(e,i),r.else())}}Xn.validatePropertyDeps=NL;function AL(e,t=e.schema){let{gen:r,data:n,keyword:s,it:i}=e,o=r.name("valid");for(let a in t)(0,Nfe.alwaysValidSchema)(i,t[a])||(r.if((0,pl.propertyInData)(r,n,a,i.opts.ownProperties),()=>{let c=e.subschema({keyword:s,schemaProp:a},o);e.mergeValidEvaluated(c,o)},()=>r.var(o,!0)),e.ok(o))}Xn.validateSchemaDeps=AL;Xn.default=Afe});var jL=y(Jw=>{"use strict";Object.defineProperty(Jw,"__esModule",{value:!0});var CL=re(),Cfe=he(),jfe={message:"property name must be valid",params:({params:e})=>(0,CL._)`{propertyName: ${e.propertyName}}`},qfe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:jfe,code(e){let{gen:t,schema:r,data:n,it:s}=e;if((0,Cfe.alwaysValidSchema)(s,r))return;let i=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,CL.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};Jw.default=qfe});var Yw=y(Ww=>{"use strict";Object.defineProperty(Ww,"__esModule",{value:!0});var Nm=Mt(),$n=re(),Dfe=Zr(),Am=he(),Lfe={message:"must NOT have additional properties",params:({params:e})=>(0,$n._)`{additionalProperty: ${e.additionalProperty}}`},Ffe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Lfe,code(e){let{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Am.alwaysValidSchema)(o,r))return;let l=(0,Nm.allSchemaProperties)(n.properties),u=(0,Nm.allSchemaProperties)(n.patternProperties);d(),e.ok((0,$n._)`${i} === ${Dfe.default.errors}`);function d(){t.forIn("key",s,v=>{!l.length&&!u.length?f(v):t.if(p(v),()=>f(v))})}function p(v){let b;if(l.length>8){let S=(0,Am.schemaRefOrVal)(o,n.properties,"properties");b=(0,Nm.isOwnProperty)(t,S,v)}else l.length?b=(0,$n.or)(...l.map(S=>(0,$n._)`${v} === ${S}`)):b=$n.nil;return u.length&&(b=(0,$n.or)(b,...u.map(S=>(0,$n._)`${(0,Nm.usePattern)(e,S)}.test(${v})`))),(0,$n.not)(b)}function m(v){t.code((0,$n._)`delete ${s}[${v}]`)}function f(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Am.alwaysValidSchema)(o,r)){let b=t.name("valid");c.removeAdditional==="failing"?(h(v,b,!1),t.if((0,$n.not)(b),()=>{e.reset(),m(v)})):(h(v,b),a||t.if((0,$n.not)(b),()=>t.break()))}}function h(v,b,S){let _={keyword:"additionalProperties",dataProp:v,dataPropType:Am.Type.Str};S===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,b)}}};Ww.default=Ffe});var LL=y(Qw=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});var Mfe=ka(),qL=Mt(),Xw=he(),DL=Yw(),zfe={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&DL.default.code(new Mfe.KeywordCxt(i,DL.default,"additionalProperties"));let o=(0,qL.allSchemaProperties)(r);for(let d of o)i.definedProperties.add(d);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=Xw.mergeEvaluated.props(t,(0,Xw.toHash)(o),i.props));let a=o.filter(d=>!(0,Xw.alwaysValidSchema)(i,r[d]));if(a.length===0)return;let c=t.name("valid");for(let d of a)l(d)?u(d):(t.if((0,qL.propertyInData)(t,s,d,i.opts.ownProperties)),u(d),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(c);function l(d){return i.opts.useDefaults&&!i.compositeRule&&r[d].default!==void 0}function u(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};Qw.default=zfe});var UL=y(Zw=>{"use strict";Object.defineProperty(Zw,"__esModule",{value:!0});var FL=Mt(),Im=re(),ML=he(),zL=he(),Ufe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:o}=i,a=(0,FL.allSchemaProperties)(r),c=a.filter(h=>(0,ML.alwaysValidSchema)(i,r[h]));if(a.length===0||c.length===a.length&&(!i.opts.unevaluated||i.props===!0))return;let l=o.strictSchema&&!o.allowMatchingProperties&&s.properties,u=t.name("valid");i.props!==!0&&!(i.props instanceof Im.Name)&&(i.props=(0,zL.evaluatedPropsToName)(t,i.props));let{props:d}=i;p();function p(){for(let h of a)l&&m(h),i.allErrors?f(h):(t.var(u,!0),f(h),t.if(u))}function m(h){for(let v in l)new RegExp(h).test(v)&&(0,ML.checkStrictMode)(i,`property ${v} matches pattern ${h} (use allowMatchingProperties)`)}function f(h){t.forIn("key",n,v=>{t.if((0,Im._)`${(0,FL.usePattern)(e,h)}.test(${v})`,()=>{let b=c.includes(h);b||e.subschema({keyword:"patternProperties",schemaProp:h,dataProp:v,dataPropType:zL.Type.Str},u),i.opts.unevaluated&&d!==!0?t.assign((0,Im._)`${d}[${v}]`,!0):!b&&!i.allErrors&&t.if((0,Im.not)(u),()=>t.break())})})}}};Zw.default=Ufe});var VL=y(ex=>{"use strict";Object.defineProperty(ex,"__esModule",{value:!0});var Vfe=he(),Hfe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,Vfe.alwaysValidSchema)(n,r)){e.fail();return}let s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};ex.default=Hfe});var HL=y(tx=>{"use strict";Object.defineProperty(tx,"__esModule",{value:!0});var Bfe=Mt(),Kfe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Bfe.validateUnion,error:{message:"must match a schema in anyOf"}};tx.default=Kfe});var BL=y(rx=>{"use strict";Object.defineProperty(rx,"__esModule",{value:!0});var Cm=re(),Gfe=he(),Jfe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Cm._)`{passingSchemas: ${e.passing}}`},Wfe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Jfe,code(e){let{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=r,o=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){i.forEach((u,d)=>{let p;(0,Gfe.alwaysValidSchema)(s,u)?t.var(c,!0):p=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&t.if((0,Cm._)`${c} && ${o}`).assign(o,!1).assign(a,(0,Cm._)`[${a}, ${d}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(a,d),p&&e.mergeEvaluated(p,Cm.Name)})})}}};rx.default=Wfe});var KL=y(nx=>{"use strict";Object.defineProperty(nx,"__esModule",{value:!0});var Yfe=he(),Xfe={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=t.name("valid");r.forEach((i,o)=>{if((0,Yfe.alwaysValidSchema)(n,i))return;let a=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(a)})}};nx.default=Xfe});var WL=y(sx=>{"use strict";Object.defineProperty(sx,"__esModule",{value:!0});var jm=re(),JL=he(),Qfe={message:({params:e})=>(0,jm.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,jm._)`{failingKeyword: ${e.ifClause}}`},Zfe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Qfe,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,JL.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=GL(n,"then"),i=GL(n,"else");if(!s&&!i)return;let o=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),s&&i){let u=t.let("ifClause");e.setParams({ifClause:u}),t.if(a,l("then",u),l("else",u))}else s?t.if(a,l("then")):t.if((0,jm.not)(a),l("else"));e.pass(o,()=>e.error(!0));function c(){let u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(u)}function l(u,d){return()=>{let p=e.subschema({keyword:u},a);t.assign(o,a),e.mergeValidEvaluated(p,o),d?t.assign(d,(0,jm._)`${u}`):e.setParams({ifClause:u})}}}};function GL(e,t){let r=e.schema[t];return r!==void 0&&!(0,JL.alwaysValidSchema)(e,r)}sx.default=Zfe});var YL=y(ix=>{"use strict";Object.defineProperty(ix,"__esModule",{value:!0});var epe=he(),tpe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,epe.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};ix.default=tpe});var XL=y(ox=>{"use strict";Object.defineProperty(ox,"__esModule",{value:!0});var rpe=Uw(),npe=PL(),spe=Vw(),ipe=OL(),ope=kL(),ape=IL(),cpe=jL(),upe=Yw(),lpe=LL(),dpe=UL(),fpe=VL(),ppe=HL(),mpe=BL(),hpe=KL(),ype=WL(),gpe=YL();function vpe(e=!1){let t=[fpe.default,ppe.default,mpe.default,hpe.default,ype.default,gpe.default,cpe.default,upe.default,ape.default,lpe.default,dpe.default];return e?t.push(npe.default,ipe.default):t.push(rpe.default,spe.default),t.push(ope.default),t}ox.default=vpe});var QL=y(ax=>{"use strict";Object.defineProperty(ax,"__esModule",{value:!0});var bt=re(),_pe={message:({schemaCode:e})=>(0,bt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,bt._)`{format: ${e}}`},bpe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:_pe,code(e,t){let{gen:r,data:n,$data:s,schema:i,schemaCode:o,it:a}=e,{opts:c,errSchemaPath:l,schemaEnv:u,self:d}=a;if(!c.validateFormats)return;s?p():m();function p(){let f=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),h=r.const("fDef",(0,bt._)`${f}[${o}]`),v=r.let("fType"),b=r.let("format");r.if((0,bt._)`typeof ${h} == "object" && !(${h} instanceof RegExp)`,()=>r.assign(v,(0,bt._)`${h}.type || "string"`).assign(b,(0,bt._)`${h}.validate`),()=>r.assign(v,(0,bt._)`"string"`).assign(b,h)),e.fail$data((0,bt.or)(S(),_()));function S(){return c.strictSchema===!1?bt.nil:(0,bt._)`${o} && !${b}`}function _(){let g=u.$async?(0,bt._)`(${h}.async ? await ${b}(${n}) : ${b}(${n}))`:(0,bt._)`${b}(${n})`,x=(0,bt._)`(typeof ${b} == "function" ? ${g} : ${b}.test(${n}))`;return(0,bt._)`${b} && ${b} !== true && ${v} === ${t} && !${x}`}}function m(){let f=d.formats[i];if(!f){S();return}if(f===!0)return;let[h,v,b]=_(f);h===t&&e.pass(g());function S(){if(c.strictSchema===!1){d.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${i}" ignored in schema at path "${l}"`}}function _(x){let R=x instanceof RegExp?(0,bt.regexpCode)(x):c.code.formats?(0,bt._)`${c.code.formats}${(0,bt.getProperty)(i)}`:void 0,w=r.scopeValue("formats",{key:i,ref:x,code:R});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,bt._)`${w}.validate`]:["string",x,w]}function g(){if(typeof f=="object"&&!(f instanceof RegExp)&&f.async){if(!u.$async)throw new Error("async format in sync schema");return(0,bt._)`await ${b}(${n})`}return typeof v=="function"?(0,bt._)`${b}(${n})`:(0,bt._)`${b}.test(${n})`}}}};ax.default=bpe});var ZL=y(cx=>{"use strict";Object.defineProperty(cx,"__esModule",{value:!0});var wpe=QL(),xpe=[wpe.default];cx.default=xpe});var eF=y(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.contentVocabulary=Ca.metadataVocabulary=void 0;Ca.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ca.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var rF=y(ux=>{"use strict";Object.defineProperty(ux,"__esModule",{value:!0});var Spe=uL(),Epe=SL(),$pe=XL(),Rpe=ZL(),tF=eF(),Ppe=[Spe.default,Epe.default,(0,$pe.default)(),Rpe.default,tF.metadataVocabulary,tF.contentVocabulary];ux.default=Ppe});var lx=y(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.DiscrError=void 0;var nF;(function(e){e.Tag="tag",e.Mapping="mapping"})(nF||(qm.DiscrError=nF={}))});var iF=y(fx=>{"use strict";Object.defineProperty(fx,"__esModule",{value:!0});var ja=re(),dx=lx(),sF=po(),Tpe=Rs(),Ope=he(),kpe={message:({params:{discrError:e,tagName:t}})=>e===dx.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,ja._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Npe={keyword:"discriminator",type:"object",schemaType:"object",error:kpe,code(e){let{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:o}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let c=t.let("valid",!1),l=t.const("tag",(0,ja._)`${r}${(0,ja.getProperty)(a)}`);t.if((0,ja._)`typeof ${l} == "string"`,()=>u(),()=>e.error(!1,{discrError:dx.DiscrError.Tag,tag:l,tagName:a})),e.ok(c);function u(){let m=p();t.if(!1);for(let f in m)t.elseIf((0,ja._)`${l} === ${f}`),t.assign(c,d(m[f]));t.else(),e.error(!1,{discrError:dx.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function d(m){let f=t.name("valid"),h=e.subschema({keyword:"oneOf",schemaProp:m},f);return e.mergeEvaluated(h,ja.Name),f}function p(){var m;let f={},h=b(s),v=!0;for(let g=0;g<o.length;g++){let x=o[g];if(x?.$ref&&!(0,Ope.schemaHasRulesButRef)(x,i.self.RULES)){let w=x.$ref;if(x=sF.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,w),x instanceof sF.SchemaEnv&&(x=x.schema),x===void 0)throw new Tpe.default(i.opts.uriResolver,i.baseId,w)}let R=(m=x?.properties)===null||m===void 0?void 0:m[a];if(typeof R!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(h||b(x)),S(R,g)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return f;function b({required:g}){return Array.isArray(g)&&g.includes(a)}function S(g,x){if(g.const)_(g.const,x);else if(g.enum)for(let R of g.enum)_(R,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(g,x){if(typeof g!="string"||g in f)throw new Error(`discriminator: "${a}" values must be unique strings`);f[g]=x}}}};fx.default=Npe});var oF=y((nje,Ape)=>{Ape.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var cF=y((ot,px)=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.MissingRefError=ot.ValidationError=ot.CodeGen=ot.Name=ot.nil=ot.stringify=ot.str=ot._=ot.KeywordCxt=ot.Ajv=void 0;var Ipe=xw(),Cpe=rF(),jpe=iF(),aF=oF(),qpe=["/properties"],Dm="http://json-schema.org/draft-07/schema",qa=class extends Ipe.default{_addVocabularies(){super._addVocabularies(),Cpe.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(jpe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(aF,qpe):aF;this.addMetaSchema(t,Dm,!1),this.refs["http://json-schema.org/schema"]=Dm}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Dm)?Dm:void 0)}};ot.Ajv=qa;px.exports=ot=qa;px.exports.Ajv=qa;Object.defineProperty(ot,"__esModule",{value:!0});ot.default=qa;var Dpe=ka();Object.defineProperty(ot,"KeywordCxt",{enumerable:!0,get:function(){return Dpe.KeywordCxt}});var Da=re();Object.defineProperty(ot,"_",{enumerable:!0,get:function(){return Da._}});Object.defineProperty(ot,"str",{enumerable:!0,get:function(){return Da.str}});Object.defineProperty(ot,"stringify",{enumerable:!0,get:function(){return Da.stringify}});Object.defineProperty(ot,"nil",{enumerable:!0,get:function(){return Da.nil}});Object.defineProperty(ot,"Name",{enumerable:!0,get:function(){return Da.Name}});Object.defineProperty(ot,"CodeGen",{enumerable:!0,get:function(){return Da.CodeGen}});var Lpe=el();Object.defineProperty(ot,"ValidationError",{enumerable:!0,get:function(){return Lpe.default}});var Fpe=Rs();Object.defineProperty(ot,"MissingRefError",{enumerable:!0,get:function(){return Fpe.default}})});var Ts=y(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.checkMetadata=void 0;var Mpe=he(),zpe={keyword:"metadata",schemaType:"object",code(e){uF(e);let{gen:t,schema:r,it:n}=e;if((0,Mpe.alwaysValidSchema)(n,r))return;let s=t.name("valid");e.subschema({keyword:"metadata",jtdMetadata:!0},s),e.ok(s)}};function uF({it:e,keyword:t},r){if(e.jtdMetadata!==r)throw new Error(`JTD: "${t}" cannot be used in this schema location`)}ml.checkMetadata=uF;ml.default=zpe});var Lm=y(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.hasRef=void 0;var lF=po(),hl=re(),Upe=Rs(),dF=Zr(),fF=Ew(),Vpe=Ts(),Hpe={keyword:"ref",schemaType:"string",code(e){(0,Vpe.checkMetadata)(e);let{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{schemaEnv:{root:o}}=i,a=t.name("valid");s.nullable?(t.var(a,(0,hl._)`${r} === null`),t.if((0,hl.not)(a),c)):(t.var(a,!1),c()),e.ok(a);function c(){var d;let p=(d=o.schema.definitions)===null||d===void 0?void 0:d[n];if(!p)throw new Upe.default(i.opts.uriResolver,"",n,`No definition ${n}`);mx(p)||!i.opts.inlineRefs?l(p):u(p)}function l(d){let p=lF.compileSchema.call(i.self,new lF.SchemaEnv({schema:d,root:o,schemaPath:`/definitions/${n}`})),m=(0,fF.getValidate)(e,p),f=t.const("_errs",dF.default.errors);(0,fF.callRef)(e,m,p,p.$async),t.assign(a,(0,hl._)`${f} === ${dF.default.errors}`)}function u(d){let p=t.scopeValue("schema",i.opts.code.source===!0?{ref:d,code:(0,hl.stringify)(d)}:{ref:d});e.subschema({schema:d,dataTypes:[],schemaPath:hl.nil,topSchemaRef:p,errSchemaPath:`/definitions/${n}`},a)}}};function mx(e){for(let t in e){let r;if(t==="ref"||typeof(r=e[t])=="object"&&mx(r))return!0}return!1}yl.hasRef=mx;yl.default=Hpe});var yx=y(hx=>{"use strict";Object.defineProperty(hx,"__esModule",{value:!0});var Bpe=/t|\s/i,Kpe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Gpe=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,Jpe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function mF(e,t){let r=e.split(Bpe);return r.length===2&&pF(r[0])&&Wpe(r[1])||t&&r.length===1&&pF(r[0])}hx.default=mF;function pF(e){let t=Kpe.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&(s<=Jpe[n]||n===2&&s===29&&(r%100===0?r%400===0:r%4===0))}function Wpe(e){let t=Gpe.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3],i=+(t[4]||0),o=+(t[5]||0);return r<=23&&n<=59&&s<=59||r-i===23&&n-o===59&&s===60}mF.code='require("ajv/dist/runtime/timestamp").default'});var La=y(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.typeErrorParams=pi.typeErrorMessage=pi.typeError=void 0;var Ype=re();function Xpe(e){return{message:t=>hF(t,e),params:t=>yF(t,e)}}pi.typeError=Xpe;function hF({parentSchema:e},t){return e?.nullable?`must be ${t} or null`:`must be ${t}`}pi.typeErrorMessage=hF;function yF({parentSchema:e},t){return(0,Ype._)`{type: ${t}, nullable: ${!!e?.nullable}}`}pi.typeErrorParams=yF});var gx=y(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.intRange=void 0;var Ur=re(),Qpe=yx(),Zpe=he(),eme=Ts(),gF=La();Fa.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};var tme={message:e=>(0,gF.typeErrorMessage)(e,e.schema),params:e=>(0,gF.typeErrorParams)(e,e.schema)};function rme(e){let{gen:t,data:r,it:n}=e,{timestamp:s,allowDate:i}=n.opts;if(s==="date")return(0,Ur._)`${r} instanceof Date `;let o=(0,Zpe.useFunc)(t,Qpe.default),a=i?(0,Ur._)`, true`:Ur.nil,c=(0,Ur._)`typeof ${r} == "string" && ${o}(${r}${a})`;return s==="string"?c:(0,Ur.or)((0,Ur._)`${r} instanceof Date`,c)}var nme={keyword:"type",schemaType:"string",error:tme,code(e){(0,eme.checkMetadata)(e);let{data:t,schema:r,parentSchema:n,it:s}=e,i;switch(r){case"boolean":case"string":i=(0,Ur._)`typeof ${t} == ${r}`;break;case"timestamp":{i=rme(e);break}case"float32":case"float64":i=(0,Ur._)`typeof ${t} == "number"`;break;default:{let o=r;if(i=(0,Ur._)`typeof ${t} == "number" && isFinite(${t}) && !(${t} % 1)`,!s.opts.int32range&&(o==="int32"||o==="uint32"))o==="uint32"&&(i=(0,Ur._)`${i} && ${t} >= 0`);else{let[a,c]=Fa.intRange[o];i=(0,Ur._)`${i} && ${t} >= ${a} && ${t} <= ${c}`}}}e.pass(n.nullable?(0,Ur.or)((0,Ur._)`${t} === null`,i):i)}};Fa.default=nme});var za=y(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.checkNullableObject=Ma.checkNullable=void 0;var Fm=re();function vF({gen:e,data:t,parentSchema:r},n=Fm.nil){let s=e.name("valid");return r.nullable?(e.let(s,(0,Fm._)`${t} === null`),n=(0,Fm.not)(s)):e.let(s,!1),[s,n]}Ma.checkNullable=vF;function sme(e,t){let[r,n]=vF(e,t);return[r,(0,Fm._)`${n} && typeof ${e.data} == "object" && !Array.isArray(${e.data})`]}Ma.checkNullableObject=sme});var _F=y(vx=>{"use strict";Object.defineProperty(vx,"__esModule",{value:!0});var mi=re(),ime=Ts(),ome=za(),ame={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,mi._)`{allowedValues: ${e}}`},cme={keyword:"enum",schemaType:"array",error:ame,code(e){(0,ime.checkMetadata)(e);let{gen:t,data:r,schema:n,schemaValue:s,parentSchema:i,it:o}=e;if(n.length===0)throw new Error("enum must have non-empty array");if(n.length!==new Set(n).size)throw new Error("enum items must be unique");let a,c=(0,mi._)`typeof ${r} == "string"`;if(n.length>=o.opts.loopEnum){let u;[a,u]=(0,ome.checkNullable)(e,c),t.if(u,l)}else{if(!Array.isArray(n))throw new Error("ajv implementation error");a=(0,mi.and)(c,(0,mi.or)(...n.map(u=>(0,mi._)`${r} === ${u}`))),i.nullable&&(a=(0,mi.or)((0,mi._)`${r} === null`,a))}e.pass(a);function l(){t.forOf("v",s,u=>t.if((0,mi._)`${a} = ${r} === ${u}`,()=>t.break()))}}};vx.default=cme});var wF=y(_x=>{"use strict";Object.defineProperty(_x,"__esModule",{value:!0});var ume=he(),lme=Mt(),bF=re(),dme=Ts(),fme=za(),pme=La(),mme={keyword:"elements",schemaType:"object",error:(0,pme.typeError)("array"),code(e){(0,dme.checkMetadata)(e);let{gen:t,data:r,schema:n,it:s}=e;if((0,ume.alwaysValidSchema)(s,n))return;let[i]=(0,fme.checkNullable)(e);t.if((0,bF.not)(i),()=>t.if((0,bF._)`Array.isArray(${r})`,()=>t.assign(i,(0,lme.validateArray)(e)),()=>e.error())),e.ok(i)}};_x.default=mme});var wx=y(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.validateProperties=hi.error=void 0;var bx=Mt(),xF=he(),Os=re(),hme=Ts(),yme=za(),SF=La(),Ua;(function(e){e.Additional="additional",e.Missing="missing"})(Ua||(Ua={}));hi.error={message:e=>{let{params:t}=e;return t.propError?t.propError===Ua.Additional?"must NOT have additional properties":`must have property '${t.missingProperty}'`:(0,SF.typeErrorMessage)(e,"object")},params:e=>{let{params:t}=e;return t.propError?t.propError===Ua.Additional?(0,Os._)`{error: ${t.propError}, additionalProperty: ${t.additionalProperty}}`:(0,Os._)`{error: ${t.propError}, missingProperty: ${t.missingProperty}}`:(0,SF.typeErrorParams)(e,"object")}};var gme={keyword:"properties",schemaType:"object",error:hi.error,code:EF};function EF(e){(0,hme.checkMetadata)(e);let{gen:t,data:r,parentSchema:n,it:s}=e,{additionalProperties:i,nullable:o}=n;if(s.jtdDiscriminator&&o)throw new Error("JTD: nullable inside discriminator mapping");if(m())throw new Error("JTD: properties and optionalProperties have common members");let[a,c]=f("properties"),[l,u]=f("optionalProperties");if(c.length===0&&u.length===0&&i)return;let[d,p]=s.jtdDiscriminator===void 0?(0,yme.checkNullableObject)(e,r):[t.let("valid",!1),!0];t.if(p,()=>t.assign(d,!0).block(()=>{h(c,"properties",!0),h(u,"optionalProperties"),i||b()})),e.pass(d);function m(){let _=n.properties,g=n.optionalProperties;if(!(_&&g))return!1;for(let x in _)if(Object.prototype.hasOwnProperty.call(g,x))return!0;return!1}function f(_){let g=n[_],x=g?(0,bx.allSchemaProperties)(g):[];if(s.jtdDiscriminator&&x.some(w=>w===s.jtdDiscriminator))throw new Error(`JTD: discriminator tag used in ${_}`);let R=x.filter(w=>!(0,xF.alwaysValidSchema)(s,g[w]));return[x,R]}function h(_,g,x){let R=t.var("valid");for(let E of _)t.if((0,bx.propertyInData)(t,r,E,s.opts.ownProperties),()=>v(E,g,R),()=>w(E)),e.ok(R);function w(E){x?(t.assign(R,!1),e.error(!1,{propError:Ua.Missing,missingProperty:E},{schemaPath:E})):t.assign(R,!0)}}function v(_,g,x){e.subschema({keyword:g,schemaProp:_,dataProp:_},x)}function b(){t.forIn("key",r,_=>{let g=S(_,a,"properties",s.jtdDiscriminator),x=S(_,l,"optionalProperties"),R=g===!0?x:x===!0?g:(0,Os.and)(g,x);t.if(R,()=>{s.opts.removeAdditional?t.code((0,Os._)`delete ${r}[${_}]`):(e.error(!1,{propError:Ua.Additional,additionalProperty:_},{instancePath:_,parentSchema:!0}),s.opts.allErrors||t.break())})})}function S(_,g,x,R){let w;if(g.length>8){let E=(0,xF.schemaRefOrVal)(s,n[x],x);w=(0,Os.not)((0,bx.isOwnProperty)(t,E,_)),R!==void 0&&(w=(0,Os.and)(w,(0,Os._)`${_} !== ${R}`))}else if(g.length||R!==void 0){let E=R===void 0?g:[R].concat(g);w=(0,Os.and)(...E.map(P=>(0,Os._)`${_} !== ${P}`))}else w=!0;return w}}hi.validateProperties=EF;hi.default=gme});var RF=y(xx=>{"use strict";Object.defineProperty(xx,"__esModule",{value:!0});var $F=wx(),vme={keyword:"optionalProperties",schemaType:"object",error:$F.error,code(e){e.parentSchema.properties||(0,$F.validateProperties)(e)}};xx.default=vme});var TF=y(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});var go=re(),_me=Ts(),bme=za(),PF=La(),Mm=lx(),wme={message:e=>{let{schema:t,params:r}=e;return r.discrError?r.discrError===Mm.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in mapping`:(0,PF.typeErrorMessage)(e,"object")},params:e=>{let{schema:t,params:r}=e;return r.discrError?(0,go._)`{error: ${r.discrError}, tag: ${t}, tagValue: ${r.tag}}`:(0,PF.typeErrorParams)(e,"object")}},xme={keyword:"discriminator",schemaType:"string",implements:["mapping"],error:wme,code(e){(0,_me.checkMetadata)(e);let{gen:t,data:r,schema:n,parentSchema:s}=e,[i,o]=(0,bme.checkNullableObject)(e,r);t.if(o),a(),t.elseIf((0,go.not)(i)),e.error(),t.endIf(),e.ok(i);function a(){let u=t.const("tag",(0,go._)`${r}${(0,go.getProperty)(n)}`);t.if((0,go._)`${u} === undefined`),e.error(!1,{discrError:Mm.DiscrError.Tag,tag:u}),t.elseIf((0,go._)`typeof ${u} == "string"`),c(u),t.else(),e.error(!1,{discrError:Mm.DiscrError.Tag,tag:u},{instancePath:n}),t.endIf()}function c(u){t.if(!1);for(let d in s.mapping)t.elseIf((0,go._)`${u} === ${d}`),t.assign(i,l(d));t.else(),e.error(!1,{discrError:Mm.DiscrError.Mapping,tag:u},{instancePath:n,schemaPath:"mapping",parentSchema:!0}),t.endIf()}function l(u){let d=t.name("valid");return e.subschema({keyword:"mapping",schemaProp:u,jtdDiscriminator:n},d),d}}};Sx.default=xme});var kF=y(Ex=>{"use strict";Object.defineProperty(Ex,"__esModule",{value:!0});var OF=he(),zm=re(),Sme=Ts(),Eme=za(),$me=La(),Rme={keyword:"values",schemaType:"object",error:(0,$me.typeError)("object"),code(e){(0,Sme.checkMetadata)(e);let{gen:t,data:r,schema:n,it:s}=e,[i,o]=(0,Eme.checkNullableObject)(e,r);(0,OF.alwaysValidSchema)(s,n)?t.if((0,zm.not)((0,zm.or)(o,i)),()=>e.error()):(t.if(o),t.assign(i,a()),t.elseIf((0,zm.not)(i)),e.error(),t.endIf()),e.ok(i);function a(){let c=t.name("valid");if(s.allErrors){let u=t.let("valid",!0);return l(()=>t.assign(u,!1)),u}return t.var(c,!0),l(()=>t.break()),c;function l(u){t.forIn("key",r,d=>{e.subschema({keyword:"values",dataProp:d,dataPropType:OF.Type.Str},c),t.if((0,zm.not)(c),u)})}}}};Ex.default=Rme});var NF=y($x=>{"use strict";Object.defineProperty($x,"__esModule",{value:!0});var Pme=Mt(),Tme={keyword:"union",schemaType:"array",trackErrors:!0,code:Pme.validateUnion,error:{message:"must match a schema in union"}};$x.default=Tme});var AF=y(Rx=>{"use strict";Object.defineProperty(Rx,"__esModule",{value:!0});var Ome=Lm(),kme=gx(),Nme=_F(),Ame=wF(),Ime=wx(),Cme=RF(),jme=TF(),qme=kF(),Dme=NF(),Lme=Ts(),Fme=["definitions",Ome.default,kme.default,Nme.default,Ame.default,Ime.default,Cme.default,jme.default,qme.default,Dme.default,Lme.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];Rx.default=Fme});var qF=y(Px=>{"use strict";Object.defineProperty(Px,"__esModule",{value:!0});var ks=e=>{let t={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return e&&(t.definitions={values:{ref:"schema"}}),t},Mme=e=>({optionalProperties:ks(e)}),zme=e=>({properties:{ref:{type:"string"}},optionalProperties:ks(e)}),Ume=e=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:ks(e)}),Vme=e=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:ks(e)}),Hme=e=>({properties:{elements:{ref:"schema"}},optionalProperties:ks(e)}),CF=e=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:{optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"},...ks(e)}}),jF=e=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:{additionalProperties:{type:"boolean"},...ks(e)}}),Bme=e=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[CF(!1),jF(!1)]}}}},optionalProperties:ks(e)}),Kme=e=>({properties:{values:{ref:"schema"}},optionalProperties:ks(e)}),IF=e=>({metadata:{union:[Mme,zme,Ume,Vme,Hme,CF,jF,Bme,Kme].map(t=>t(e))}}),Gme={definitions:{schema:IF(!1)},...IF(!0)};Px.default=Gme});var Tx=y(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.jtdForms=void 0;Um.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"]});var LF=y(kx=>{"use strict";Object.defineProperty(kx,"__esModule",{value:!0});var Ox=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Jme={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function DF(e){return Ox.lastIndex=0,'"'+(Ox.test(e)?e.replace(Ox,t=>{let r=Jme[t];return typeof r=="string"?r:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):e)+'"'}kx.default=DF;DF.code='require("ajv/dist/runtime/quote").default'});var HF=y(Ax=>{"use strict";Object.defineProperty(Ax,"__esModule",{value:!0});var Wme=Tx(),MF=po(),Pe=re(),Yme=Rs(),et=Zr(),Xme=Mt(),Qme=Lm(),Zme=he(),ehe=LF(),the={elements:nhe,values:she,discriminator:ihe,properties:FF,optionalProperties:FF,enum:gl,type:ohe,ref:che};function zF(e,t){let r=MF.getCompilingSchema.call(this,e);if(r)return r;let{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new Pe.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),a=o.scopeName("serialize"),c={self:this,gen:o,schema:e.schema,schemaEnv:e,definitions:t,data:et.default.data},l;try{this._compilations.add(e),e.serializeName=a,o.func(a,et.default.data,!1,()=>{o.let(et.default.json,(0,Pe.str)``),vl(c),o.return(et.default.json)}),o.optimize(this.opts.code.optimize);let u=o.toString();l=`${o.scopeRefs(et.default.scope)}return ${u}`;let p=new Function(`${et.default.scope}`,l)(this.scope.get());this.scope.value(a,{ref:p}),e.serialize=p}catch(u){throw l&&this.logger.error("Error compiling serializer, function code:",l),delete e.serialize,delete e.serializeName,u}finally{this._compilations.delete(e)}return e}Ax.default=zF;function vl(e){let t;for(let r of Wme.jtdForms)if(r in e.schema){t=r;break}rhe(e,t?the[t]:lhe)}function rhe(e,t){let{gen:r,schema:n,data:s}=e;if(!n.nullable)return t(e);r.if((0,Pe._)`${s} === undefined || ${s} === null`,()=>r.add(et.default.json,(0,Pe._)`"null"`),()=>t(e))}function nhe(e){let{gen:t,schema:r,data:n}=e;t.add(et.default.json,(0,Pe.str)`[`);let s=t.let("first",!0);t.forOf("el",n,i=>{Nx(e,s),vl({...e,schema:r.elements,data:i})}),t.add(et.default.json,(0,Pe.str)`]`)}function she(e){let{gen:t,schema:r,data:n}=e;t.add(et.default.json,(0,Pe.str)`{`);let s=t.let("first",!0);t.forIn("key",n,i=>UF(e,i,r.values,s)),t.add(et.default.json,(0,Pe.str)`}`)}function UF(e,t,r,n){let{gen:s,data:i}=e;Nx(e,n),gl({...e,data:t}),s.add(et.default.json,(0,Pe.str)`:`);let o=s.const("value",(0,Pe._)`${i}${(0,Pe.getProperty)(t)}`);vl({...e,schema:r,data:o})}function ihe(e){let{gen:t,schema:r,data:n}=e,{discriminator:s}=r;t.add(et.default.json,(0,Pe.str)`{${JSON.stringify(s)}:`);let i=t.const("tag",(0,Pe._)`${n}${(0,Pe.getProperty)(s)}`);gl({...e,data:i}),t.if(!1);for(let o in r.mapping){t.elseIf((0,Pe._)`${i} === ${o}`);let a=r.mapping[o];VF({...e,schema:a},s)}t.endIf(),t.add(et.default.json,(0,Pe.str)`}`)}function FF(e){let{gen:t}=e;t.add(et.default.json,(0,Pe.str)`{`),VF(e),t.add(et.default.json,(0,Pe.str)`}`)}function VF(e,t){let{gen:r,schema:n,data:s}=e,{properties:i,optionalProperties:o}=n,a=p(i),c=p(o),l=m(a.concat(c)),u=!t,d;for(let b of a)u?u=!1:r.add(et.default.json,(0,Pe.str)`,`),h(b,i[b],f(b));u&&(d=r.let("first",!0));for(let b of c){let S=f(b);r.if((0,Pe.and)((0,Pe._)`${S} !== undefined`,(0,Xme.isOwnProperty)(r,s,b)),()=>{Nx(e,d),h(b,o[b],S)})}n.additionalProperties&&r.forIn("key",s,b=>r.if(v(b,l),()=>UF(e,b,{},d)));function p(b){return b?Object.keys(b):[]}function m(b){if(t&&b.push(t),new Set(b).size!==b.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return b}function f(b){return r.const("value",(0,Pe._)`${s}${(0,Pe.getProperty)(b)}`)}function h(b,S,_){r.add(et.default.json,(0,Pe.str)`${JSON.stringify(b)}:`),vl({...e,schema:S,data:_})}function v(b,S){return S.length?(0,Pe.and)(...S.map(_=>(0,Pe._)`${b} !== ${_}`)):!0}}function ohe(e){let{gen:t,schema:r,data:n}=e;switch(r.type){case"boolean":t.add(et.default.json,(0,Pe._)`${n} ? "true" : "false"`);break;case"string":gl(e);break;case"timestamp":t.if((0,Pe._)`${n} instanceof Date`,()=>t.add(et.default.json,(0,Pe._)`'"' + ${n}.toISOString() + '"'`),()=>gl(e));break;default:ahe(e)}}function gl({gen:e,data:t}){e.add(et.default.json,(0,Pe._)`${(0,Zme.useFunc)(e,ehe.default)}(${t})`)}function ahe({gen:e,data:t}){e.add(et.default.json,(0,Pe._)`"" + ${t}`)}function che(e){let{gen:t,self:r,data:n,definitions:s,schema:i,schemaEnv:o}=e,{ref:a}=i,c=s[a];if(!c)throw new Yme.default(r.opts.uriResolver,"",a,`No definition ${a}`);if(!(0,Qme.hasRef)(c))return vl({...e,schema:c});let{root:l}=o,u=zF.call(r,new MF.SchemaEnv({schema:c,root:l}),s);t.add(et.default.json,(0,Pe._)`${uhe(t,u)}(${n})`)}function uhe(e,t){return t.serialize?e.scopeValue("serialize",{ref:t.serialize}):(0,Pe._)`${e.scopeValue("wrapper",{ref:t})}.serialize`}function lhe({gen:e,data:t}){e.add(et.default.json,(0,Pe._)`JSON.stringify(${t})`)}function Nx({gen:e},t){t?e.if(t,()=>e.assign(t,!1),()=>e.add(et.default.json,(0,Pe.str)`,`)):e.add(et.default.json,(0,Pe.str)`,`)}});var KF=y(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.parseJsonString=gi.parseJsonNumber=gi.parseJson=void 0;var dhe=/position\s(\d+)(?: \(line \d+ column \d+\))?$/;function Ns(e,t){let r;Ns.message=void 0;let n;t&&(e=e.slice(t));try{return Ns.position=t+e.length,JSON.parse(e)}catch(s){if(n=dhe.exec(s.message),!n){Ns.message="unexpected end";return}r=+n[1];let i=e[r];e=e.slice(0,r),Ns.position=t+r;try{return JSON.parse(e)}catch{Ns.message=`unexpected token ${i}`;return}}}gi.parseJson=Ns;Ns.message=void 0;Ns.position=0;Ns.code='require("ajv/dist/runtime/parseJson").parseJson';function As(e,t,r){let n="",s;if(As.message=void 0,e[t]==="-"&&(n+="-",t++),e[t]==="0")n+="0",t++;else if(!i(r)){o();return}if(r)return As.position=t,+n;if(e[t]==="."&&(n+=".",t++,!i())){o();return}if(s=e[t],(s==="e"||s==="E")&&(n+="e",t++,s=e[t],(s==="+"||s==="-")&&(n+=s,t++),!i())){o();return}return As.position=t,+n;function i(a){let c=!1;for(;s=e[t],s>="0"&&s<="9"&&(a===void 0||a-- >0);)c=!0,n+=s,t++;return c}function o(){As.position=t,As.message=t<e.length?`unexpected token ${e[t]}`:"unexpected end"}}gi.parseJsonNumber=As;As.message=void 0;As.position=0;As.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';var BF={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},fhe=97,phe=48;function yi(e,t){let r="",n;for(yi.message=void 0;n=e[t++],n!=='"';)if(n==="\\")if(n=e[t],n in BF)r+=BF[n],t++;else if(n==="u"){t++;let i=4,o=0;for(;i--;){if(o<<=4,n=e[t],n===void 0){s("unexpected end");return}if(n=n.toLowerCase(),n>="a"&&n<="f")o+=n.charCodeAt(0)-fhe+10;else if(n>="0"&&n<="9")o+=n.charCodeAt(0)-phe;else{s(`unexpected token ${n}`);return}t++}r+=String.fromCharCode(o)}else{s(`unexpected token ${n}`);return}else if(n===void 0){s("unexpected end");return}else if(n.charCodeAt(0)>=32)r+=n;else{s(`unexpected token ${n}`);return}return yi.position=t,r;function s(i){yi.position=t,yi.message=i}}gi.parseJsonString=yi;yi.message=void 0;yi.position=0;yi.code='require("ajv/dist/runtime/parseJson").parseJsonString'});var nM=y(Mx=>{"use strict";Object.defineProperty(Mx,"__esModule",{value:!0});var mhe=Tx(),YF=po(),X=re(),hhe=Rs(),$e=Zr(),yhe=Mt(),ghe=Lm(),vhe=gx(),jx=KF(),XF=he(),_he=yx(),bhe={elements:Ehe,values:$he,discriminator:Phe,properties:GF,optionalProperties:GF,enum:Ohe,type:The,ref:khe};function QF(e,t){let r=YF.getCompilingSchema.call(this,e);if(r)return r;let{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new X.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),a=o.scopeName("parse"),c={self:this,gen:o,schema:e.schema,schemaEnv:e,definitions:t,data:$e.default.data,parseName:a,char:o.name("c")},l;try{this._compilations.add(e),e.parseName=a,whe(c),o.optimize(this.opts.code.optimize);let u=o.toString();l=`${o.scopeRefs($e.default.scope)}return ${u}`;let p=new Function(`${$e.default.scope}`,l)(this.scope.get());this.scope.value(a,{ref:p}),e.parse=p}catch(u){throw l&&this.logger.error("Error compiling parser, function code:",l),delete e.parse,delete e.parseName,u}finally{this._compilations.delete(e)}return e}Mx.default=QF;var Cx=(0,X._)`undefined`;function whe(e){let{gen:t,parseName:r,char:n}=e;t.func(r,(0,X._)`${$e.default.json}, ${$e.default.jsonPos}, ${$e.default.jsonPart}`,!1,()=>{t.let($e.default.data),t.let(n),t.assign((0,X._)`${r}.message`,Cx),t.assign((0,X._)`${r}.position`,Cx),t.assign($e.default.jsonPos,(0,X._)`${$e.default.jsonPos} || 0`),t.const($e.default.jsonLen,(0,X._)`${$e.default.json}.length`),Vm(e),Fx(e),t.if($e.default.jsonPart,()=>{t.assign((0,X._)`${r}.position`,$e.default.jsonPos),t.return($e.default.data)}),t.if((0,X._)`${$e.default.jsonPos} === ${$e.default.jsonLen}`,()=>t.return($e.default.data)),Va(e)})}function Vm(e){let t;for(let r of mhe.jtdForms)if(r in e.schema){t=r;break}t?She(e,bhe[t]):Dx(e)}var xhe=WF(!0,WF(!1,Va));function She(e,t){let{gen:r,schema:n,data:s}=e;if(!n.nullable)return t(e);_l(e,"null",t,()=>r.assign(s,null))}function Ehe(e){let{gen:t,schema:r,data:n}=e;Qn(e,"[");let s=t.let("i",0);t.assign(n,(0,X._)`[]`),qx(e,"]",()=>{let i=t.let("el");Vm({...e,schema:r.elements,data:i}),t.assign((0,X._)`${n}[${s}++]`,i)})}function $he(e){let{gen:t,schema:r,data:n}=e;Qn(e,"{"),t.assign(n,(0,X._)`{}`),qx(e,"}",()=>Rhe(e,r.values))}function qx(e,t,r){ZF(e,t,r),Qn(e,t)}function ZF(e,t,r){let{gen:n}=e;n.for((0,X._)`;${$e.default.jsonPos}<${$e.default.jsonLen} && ${Hm(1)}!==${t};`,()=>{r(),_l(e,",",()=>n.break(),s)});function s(){_l(e,t,()=>{},Va)}}function Rhe(e,t){let{gen:r}=e,n=r.let("key");vo({...e,data:n}),Qn(e,":"),tM(e,n,t)}function Phe(e){let{gen:t,data:r,schema:n}=e,{discriminator:s,mapping:i}=n;Qn(e,"{"),t.assign(r,(0,X._)`{}`);let o=t.const("pos",$e.default.jsonPos),a=t.let("value"),c=t.let("tag");ZF(e,"}",()=>{let l=t.let("key");vo({...e,data:l}),Qn(e,":"),t.if((0,X._)`${l} === ${s}`,()=>{vo({...e,data:c}),t.assign((0,X._)`${r}[${l}]`,c),t.break()},()=>Dx({...e,data:a}))}),t.assign($e.default.jsonPos,o),t.if((0,X._)`${c} === undefined`),Is(e,(0,X.str)`discriminator tag not found`);for(let l in i)t.elseIf((0,X._)`${c} === ${l}`),eM({...e,schema:i[l]},s);t.else(),Is(e,(0,X.str)`discriminator value not in schema`),t.endIf()}function GF(e){let{gen:t,data:r}=e;Qn(e,"{"),t.assign(r,(0,X._)`{}`),eM(e)}function eM(e,t){let{gen:r,schema:n,data:s}=e,{properties:i,optionalProperties:o,additionalProperties:a}=n;if(qx(e,"}",()=>{let c=r.let("key");if(vo({...e,data:c}),Qn(e,":"),r.if(!1),JF(e,c,i),JF(e,c,o),t){r.elseIf((0,X._)`${c} === ${t}`);let l=r.let("tag");vo({...e,data:l})}r.else(),a?Dx({...e,data:(0,X._)`${s}[${c}]`}):Is(e,(0,X.str)`property ${c} not allowed`),r.endIf()}),i){let c=(0,yhe.hasPropFunc)(r),l=(0,X.and)(...Object.keys(i).map(u=>(0,X._)`${c}.call(${s}, ${u})`));r.if((0,X.not)(l),()=>Is(e,(0,X.str)`missing required properties`))}}function JF(e,t,r={}){let{gen:n}=e;for(let s in r)n.elseIf((0,X._)`${t} === ${s}`),tM(e,t,r[s])}function tM(e,t,r){Vm({...e,schema:r,data:(0,X._)`${e.data}[${t}]`})}function The(e){let{gen:t,schema:r,data:n,self:s}=e;switch(r.type){case"boolean":xhe(e);break;case"string":vo(e);break;case"timestamp":{vo(e);let i=(0,XF.useFunc)(t,_he.default),{allowDate:o,parseDate:a}=s.opts,c=o?(0,X._)`!${i}(${n}, true)`:(0,X._)`!${i}(${n})`,l=a?(0,X.or)(c,(0,X._)`(${n} = new Date(${n}), false)`,(0,X._)`isNaN(${n}.valueOf())`):c;t.if(l,()=>Is(e,(0,X.str)`invalid timestamp`));break}case"float32":case"float64":Ix(e);break;default:{let i=r.type;if(!s.opts.int32range&&(i==="int32"||i==="uint32"))Ix(e,16),i==="uint32"&&t.if((0,X._)`${n} < 0`,()=>Is(e,(0,X.str)`integer out of range`));else{let[o,a,c]=vhe.intRange[i];Ix(e,c),t.if((0,X._)`${n} < ${o} || ${n} > ${a}`,()=>Is(e,(0,X.str)`integer out of range`))}}}}function vo(e){Qn(e,'"'),Lx(e,jx.parseJsonString)}function Ohe(e){let{gen:t,data:r,schema:n}=e,s=n.enum;Qn(e,'"'),t.if(!1);for(let i of s){let o=JSON.stringify(i).slice(1);t.elseIf((0,X._)`${Hm(o.length)} === ${o}`),t.assign(r,(0,X.str)`${i}`),t.add($e.default.jsonPos,o.length)}t.else(),Va(e),t.endIf()}function Ix(e,t){let{gen:r}=e;Fx(e),r.if((0,X._)`"-0123456789".indexOf(${Hm(1)}) < 0`,()=>Va(e),()=>Lx(e,jx.parseJsonNumber,t))}function WF(e,t){return r=>{let{gen:n,data:s}=r;_l(r,`${e}`,()=>t(r),()=>n.assign(s,e))}}function khe(e){let{gen:t,self:r,definitions:n,schema:s,schemaEnv:i}=e,{ref:o}=s,a=n[o];if(!a)throw new hhe.default(r.opts.uriResolver,"",o,`No definition ${o}`);if(!(0,ghe.hasRef)(a))return Vm({...e,schema:a});let{root:c}=i,l=QF.call(r,new YF.SchemaEnv({schema:a,root:c}),n);rM(e,Nhe(t,l),!0)}function Nhe(e,t){return t.parse?e.scopeValue("parse",{ref:t.parse}):(0,X._)`${e.scopeValue("wrapper",{ref:t})}.parse`}function Dx(e){Lx(e,jx.parseJson)}function Lx(e,t,r){rM(e,(0,XF.useFunc)(e.gen,t),r)}function rM(e,t,r){let{gen:n,data:s}=e;n.assign(s,(0,X._)`${t}(${$e.default.json}, ${$e.default.jsonPos}${r?(0,X._)`, ${r}`:X.nil})`),n.assign($e.default.jsonPos,(0,X._)`${t}.position`),n.if((0,X._)`${s} === undefined`,()=>Is(e,(0,X._)`${t}.message`))}function Qn(e,t){_l(e,t,Va)}function _l(e,t,r,n){let{gen:s}=e,i=t.length;Fx(e),s.if((0,X._)`${Hm(i)} === ${t}`,()=>{s.add($e.default.jsonPos,i),n?.(e)},()=>r(e))}function Fx({gen:e,char:t}){e.code((0,X._)`while((${t}=${$e.default.json}[${$e.default.jsonPos}],${t}===" "||${t}==="\\n"||${t}==="\\r"||${t}==="\\t"))${$e.default.jsonPos}++;`)}function Hm(e){return e===1?(0,X._)`${$e.default.json}[${$e.default.jsonPos}]`:(0,X._)`${$e.default.json}.slice(${$e.default.jsonPos}, ${$e.default.jsonPos}+${e})`}function Va(e){Is(e,(0,X._)`"unexpected token " + ${$e.default.json}[${$e.default.jsonPos}]`)}function Is({gen:e,parseName:t},r){e.assign((0,X._)`${t}.message`,r),e.assign((0,X._)`${t}.position`,$e.default.jsonPos),e.return(Cx)}});var Vx=y((at,Ux)=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.MissingRefError=at.ValidationError=at.CodeGen=at.Name=at.nil=at.stringify=at.str=at._=at.KeywordCxt=at.Ajv=void 0;var Ahe=xw(),Ihe=AF(),Che=qF(),jhe=HF(),qhe=nM(),zx="JTD-meta-schema",Ha=class extends Ahe.default{constructor(t={}){super({...t,jtd:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(Ihe.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(Che.default,zx,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(zx)?zx:void 0)}compileSerializer(t){let r=this._addSchema(t);return r.serialize||this._compileSerializer(r)}compileParser(t){let r=this._addSchema(t);return r.parse||this._compileParser(r)}_compileSerializer(t){if(jhe.default.call(this,t,t.schema.definitions||{}),!t.serialize)throw new Error("ajv implementation error");return t.serialize}_compileParser(t){if(qhe.default.call(this,t,t.schema.definitions||{}),!t.parse)throw new Error("ajv implementation error");return t.parse}};at.Ajv=Ha;Ux.exports=at=Ha;Ux.exports.Ajv=Ha;Object.defineProperty(at,"__esModule",{value:!0});at.default=Ha;var Dhe=ka();Object.defineProperty(at,"KeywordCxt",{enumerable:!0,get:function(){return Dhe.KeywordCxt}});var Ba=re();Object.defineProperty(at,"_",{enumerable:!0,get:function(){return Ba._}});Object.defineProperty(at,"str",{enumerable:!0,get:function(){return Ba.str}});Object.defineProperty(at,"stringify",{enumerable:!0,get:function(){return Ba.stringify}});Object.defineProperty(at,"nil",{enumerable:!0,get:function(){return Ba.nil}});Object.defineProperty(at,"Name",{enumerable:!0,get:function(){return Ba.Name}});Object.defineProperty(at,"CodeGen",{enumerable:!0,get:function(){return Ba.CodeGen}});var Lhe=el();Object.defineProperty(at,"ValidationError",{enumerable:!0,get:function(){return Lhe.default}});var Fhe=Rs();Object.defineProperty(at,"MissingRefError",{enumerable:!0,get:function(){return Fhe.default}})});var Hx=y((Eje,sM)=>{"use strict";var Mhe=u0();sM.exports=Object.freeze({coerceTypes:"array",useDefaults:!0,removeAdditional:!0,uriResolver:Mhe,addUsedSchema:!1,allErrors:!1})});var lM=y(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.formatNames=Zn.fastFormats=Zn.fullFormats=void 0;function Ka(e,t){return{validate:e,compare:t}}Zn.fullFormats={date:Ka(aM,Gx),time:Ka(cM,Jx),"date-time":Ka(Hhe,uM),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Ghe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:eye,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Jhe,int32:{type:"number",validate:Xhe},int64:{type:"number",validate:Qhe},float:{type:"number",validate:oM},double:{type:"number",validate:oM},password:!0,binary:!0};Zn.fastFormats={...Zn.fullFormats,date:Ka(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Gx),time:Ka(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Jx),"date-time":Ka(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uM),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Zn.formatNames=Object.keys(Zn.fullFormats);function zhe(e){return e%4===0&&(e%100!==0||e%400===0)}var Uhe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Vhe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function aM(e){let t=Uhe.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&zhe(r)?29:Vhe[n])}function Gx(e,t){if(e&&t)return e>t?1:e<t?-1:0}var Bx=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function cM(e,t){let r=Bx.exec(e);if(!r)return!1;let n=+r[1],s=+r[2],i=+r[3],o=r[5];return(n<=23&&s<=59&&i<=59||n===23&&s===59&&i===60)&&(!t||o!=="")}function Jx(e,t){if(!(e&&t))return;let r=Bx.exec(e),n=Bx.exec(t);if(r&&n)return e=r[1]+r[2]+r[3]+(r[4]||""),t=n[1]+n[2]+n[3]+(n[4]||""),e>t?1:e<t?-1:0}var Kx=/t|\s/i;function Hhe(e){let t=e.split(Kx);return t.length===2&&aM(t[0])&&cM(t[1],!0)}function uM(e,t){if(!(e&&t))return;let[r,n]=e.split(Kx),[s,i]=t.split(Kx),o=Gx(r,s);if(o!==void 0)return o||Jx(n,i)}var Bhe=/\/|:/,Khe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Ghe(e){return Bhe.test(e)&&Khe.test(e)}var iM=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Jhe(e){return iM.lastIndex=0,iM.test(e)}var Whe=-(2**31),Yhe=2**31-1;function Xhe(e){return Number.isInteger(e)&&e<=Yhe&&e>=Whe}function Qhe(e){return Number.isInteger(e)}function oM(){return!0}var Zhe=/[^\\]\\Z/;function eye(e){if(Zhe.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var xl=y(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.regexpCode=Fe.getEsmExportName=Fe.getProperty=Fe.safeStringify=Fe.stringify=Fe.strConcat=Fe.addCodeArg=Fe.str=Fe._=Fe.nil=Fe._Code=Fe.Name=Fe.IDENTIFIER=Fe._CodeOrName=void 0;var bl=class{};Fe._CodeOrName=bl;Fe.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var _o=class extends bl{constructor(t){if(super(),!Fe.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Fe.Name=_o;var rn=class extends bl{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof _o&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Fe._Code=rn;Fe.nil=new rn("");function dM(e,...t){let r=[e[0]],n=0;for(;n<t.length;)Yx(r,t[n]),r.push(e[++n]);return new rn(r)}Fe._=dM;var Wx=new rn("+");function fM(e,...t){let r=[wl(e[0])],n=0;for(;n<t.length;)r.push(Wx),Yx(r,t[n]),r.push(Wx,wl(e[++n]));return tye(r),new rn(r)}Fe.str=fM;function Yx(e,t){t instanceof rn?e.push(...t._items):t instanceof _o?e.push(t):e.push(sye(t))}Fe.addCodeArg=Yx;function tye(e){let t=1;for(;t<e.length-1;){if(e[t]===Wx){let r=rye(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function rye(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof _o||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof _o))return`"${e}${t.slice(1)}`}function nye(e,t){return t.emptyStr()?e:e.emptyStr()?t:fM`${e}${t}`}Fe.strConcat=nye;function sye(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:wl(Array.isArray(e)?e.join(","):e)}function iye(e){return new rn(wl(e))}Fe.stringify=iye;function wl(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Fe.safeStringify=wl;function oye(e){return typeof e=="string"&&Fe.IDENTIFIER.test(e)?new rn(`.${e}`):dM`[${e}]`}Fe.getProperty=oye;function aye(e){if(typeof e=="string"&&Fe.IDENTIFIER.test(e))return new rn(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}Fe.getEsmExportName=aye;function cye(e){return new rn(e.toString())}Fe.regexpCode=cye});var Zx=y(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.ValueScope=Ir.ValueScopeName=Ir.Scope=Ir.varKinds=Ir.UsedValueState=void 0;var Ar=xl(),Xx=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},Bm;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(Bm||(Ir.UsedValueState=Bm={}));Ir.varKinds={const:new Ar.Name("const"),let:new Ar.Name("let"),var:new Ar.Name("var")};var Km=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Ar.Name?t:this.name(t)}name(t){return new Ar.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};Ir.Scope=Km;var Gm=class extends Ar.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,Ar._)`.${new Ar.Name(r)}[${n}]`}};Ir.ValueScopeName=Gm;var uye=(0,Ar._)`\n`,Qx=class extends Km{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?uye:Ar.nil}}get(){return this._scope}name(t){return new Gm(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(t),{prefix:i}=s,o=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[i];if(a){let u=a.get(o);if(u)return u}else a=this._values[i]=new Map;a.set(o,s);let c=this._scope[i]||(this._scope[i]=[]),l=c.length;return c[l]=r.ref,s.setValue(r,{property:i,itemIndex:l}),s}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Ar._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(t,r,n={},s){let i=Ar.nil;for(let o in t){let a=t[o];if(!a)continue;let c=n[o]=n[o]||new Map;a.forEach(l=>{if(c.has(l))return;c.set(l,Bm.Started);let u=r(l);if(u){let d=this.opts.es5?Ir.varKinds.var:Ir.varKinds.const;i=(0,Ar._)`${i}${d} ${l} = ${u};${this.opts._n}`}else if(u=s?.(l))i=(0,Ar._)`${i}${u}${this.opts._n}`;else throw new Xx(l);c.set(l,Bm.Completed)})}return i}};Ir.ValueScope=Qx});var ye=y(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.or=_e.and=_e.not=_e.CodeGen=_e.operators=_e.varKinds=_e.ValueScopeName=_e.ValueScope=_e.Scope=_e.Name=_e.regexpCode=_e.stringify=_e.getProperty=_e.nil=_e.strConcat=_e.str=_e._=void 0;var Ne=xl(),Rn=Zx(),vi=xl();Object.defineProperty(_e,"_",{enumerable:!0,get:function(){return vi._}});Object.defineProperty(_e,"str",{enumerable:!0,get:function(){return vi.str}});Object.defineProperty(_e,"strConcat",{enumerable:!0,get:function(){return vi.strConcat}});Object.defineProperty(_e,"nil",{enumerable:!0,get:function(){return vi.nil}});Object.defineProperty(_e,"getProperty",{enumerable:!0,get:function(){return vi.getProperty}});Object.defineProperty(_e,"stringify",{enumerable:!0,get:function(){return vi.stringify}});Object.defineProperty(_e,"regexpCode",{enumerable:!0,get:function(){return vi.regexpCode}});Object.defineProperty(_e,"Name",{enumerable:!0,get:function(){return vi.Name}});var Xm=Zx();Object.defineProperty(_e,"Scope",{enumerable:!0,get:function(){return Xm.Scope}});Object.defineProperty(_e,"ValueScope",{enumerable:!0,get:function(){return Xm.ValueScope}});Object.defineProperty(_e,"ValueScopeName",{enumerable:!0,get:function(){return Xm.ValueScopeName}});Object.defineProperty(_e,"varKinds",{enumerable:!0,get:function(){return Xm.varKinds}});_e.operators={GT:new Ne._Code(">"),GTE:new Ne._Code(">="),LT:new Ne._Code("<"),LTE:new Ne._Code("<="),EQ:new Ne._Code("==="),NEQ:new Ne._Code("!=="),NOT:new Ne._Code("!"),OR:new Ne._Code("||"),AND:new Ne._Code("&&"),ADD:new Ne._Code("+")};var Cs=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},eS=class extends Cs{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?Rn.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=Ja(this.rhs,t,r)),this}get names(){return this.rhs instanceof Ne._CodeOrName?this.rhs.names:{}}},Jm=class extends Cs{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof Ne.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=Ja(this.rhs,t,r),this}get names(){let t=this.lhs instanceof Ne.Name?{}:{...this.lhs.names};return Ym(t,this.rhs)}},tS=class extends Jm{constructor(t,r,n,s){super(t,n,s),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},rS=class extends Cs{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},nS=class extends Cs{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},sS=class extends Cs{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},iS=class extends Cs{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=Ja(this.code,t,r),this}get names(){return this.code instanceof Ne._CodeOrName?this.code.names:{}}},Sl=class extends Cs{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,s=n.length;for(;s--;){let i=n[s];i.optimizeNames(t,r)||(lye(t,i.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>xo(t,r.names),{})}},js=class extends Sl{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},oS=class extends Sl{},Ga=class extends js{};Ga.kind="else";var bo=class e extends js{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Ga(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(pM(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=Ja(this.condition,t,r),this}get names(){let t=super.names;return Ym(t,this.condition),this.else&&xo(t,this.else.names),t}};bo.kind="if";var wo=class extends js{};wo.kind="for";var aS=class extends wo{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=Ja(this.iteration,t,r),this}get names(){return xo(super.names,this.iteration.names)}},cS=class extends wo{constructor(t,r,n,s){super(),this.varKind=t,this.name=r,this.from=n,this.to=s}render(t){let r=t.es5?Rn.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${r} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(t)}get names(){let t=Ym(super.names,this.from);return Ym(t,this.to)}},Wm=class extends wo{constructor(t,r,n,s){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=s}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=Ja(this.iterable,t,r),this}get names(){return xo(super.names,this.iterable.names)}},El=class extends js{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};El.kind="func";var $l=class extends Sl{render(t){return"return "+super.render(t)}};$l.kind="return";var uS=class extends js{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,s;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(s=this.finally)===null||s===void 0||s.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&xo(t,this.catch.names),this.finally&&xo(t,this.finally.names),t}},Rl=class extends js{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};Rl.kind="catch";var Pl=class extends js{render(t){return"finally"+super.render(t)}};Pl.kind="finally";var lS=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new Rn.Scope({parent:t}),this._nodes=[new oS]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,s){let i=this._scope.toName(r);return n!==void 0&&s&&(this._constants[i.str]=n),this._leafNode(new eS(t,i,n)),i}const(t,r,n){return this._def(Rn.varKinds.const,t,r,n)}let(t,r,n){return this._def(Rn.varKinds.let,t,r,n)}var(t,r,n){return this._def(Rn.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new Jm(t,r,n))}add(t,r){return this._leafNode(new tS(t,_e.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==Ne.nil&&this._leafNode(new iS(t)),this}object(...t){let r=["{"];for(let[n,s]of t)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,Ne.addCodeArg)(r,s));return r.push("}"),new Ne._Code(r)}if(t,r,n){if(this._blockNode(new bo(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new bo(t))}else(){return this._elseNode(new Ga)}endIf(){return this._endBlockNode(bo,Ga)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new aS(t),r)}forRange(t,r,n,s,i=this.opts.es5?Rn.varKinds.var:Rn.varKinds.let){let o=this._scope.toName(t);return this._for(new cS(i,o,r,n),()=>s(o))}forOf(t,r,n,s=Rn.varKinds.const){let i=this._scope.toName(t);if(this.opts.es5){let o=r instanceof Ne.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,Ne._)`${o}.length`,a=>{this.var(i,(0,Ne._)`${o}[${a}]`),n(i)})}return this._for(new Wm("of",s,i,r),()=>n(i))}forIn(t,r,n,s=this.opts.es5?Rn.varKinds.var:Rn.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,Ne._)`Object.keys(${r})`,n);let i=this._scope.toName(t);return this._for(new Wm("in",s,i,r),()=>n(i))}endFor(){return this._endBlockNode(wo)}label(t){return this._leafNode(new rS(t))}break(t){return this._leafNode(new nS(t))}return(t){let r=new $l;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($l)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new uS;if(this._blockNode(s),this.code(t),r){let i=this.name("e");this._currNode=s.catch=new Rl(i),r(i)}return n&&(this._currNode=s.finally=new Pl,this.code(n)),this._endBlockNode(Rl,Pl)}throw(t){return this._leafNode(new sS(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=Ne.nil,n,s){return this._blockNode(new El(t,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(El)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof bo))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};_e.CodeGen=lS;function xo(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function Ym(e,t){return t instanceof Ne._CodeOrName?xo(e,t.names):e}function Ja(e,t,r){if(e instanceof Ne.Name)return n(e);if(!s(e))return e;return new Ne._Code(e._items.reduce((i,o)=>(o instanceof Ne.Name&&(o=n(o)),o instanceof Ne._Code?i.push(...o._items):i.push(o),i),[]));function n(i){let o=r[i.str];return o===void 0||t[i.str]!==1?i:(delete t[i.str],o)}function s(i){return i instanceof Ne._Code&&i._items.some(o=>o instanceof Ne.Name&&t[o.str]===1&&r[o.str]!==void 0)}}function lye(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function pM(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,Ne._)`!${dS(e)}`}_e.not=pM;var dye=mM(_e.operators.AND);function fye(...e){return e.reduce(dye)}_e.and=fye;var pye=mM(_e.operators.OR);function mye(...e){return e.reduce(pye)}_e.or=mye;function mM(e){return(t,r)=>t===Ne.nil?r:r===Ne.nil?t:(0,Ne._)`${dS(t)} ${e} ${dS(r)}`}function dS(e){return e instanceof Ne.Name?e:(0,Ne._)`(${e})`}});var Me=y(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.checkStrictMode=Ee.getErrorPath=Ee.Type=Ee.useFunc=Ee.setEvaluated=Ee.evaluatedPropsToName=Ee.mergeEvaluated=Ee.eachItem=Ee.unescapeJsonPointer=Ee.escapeJsonPointer=Ee.escapeFragment=Ee.unescapeFragment=Ee.schemaRefOrVal=Ee.schemaHasRulesButRef=Ee.schemaHasRules=Ee.checkUnknownRules=Ee.alwaysValidSchema=Ee.toHash=void 0;var Xe=ye(),hye=xl();function yye(e){let t={};for(let r of e)t[r]=!0;return t}Ee.toHash=yye;function gye(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(gM(e,t),!vM(t,e.self.RULES.all))}Ee.alwaysValidSchema=gye;function gM(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let s=n.RULES.keywords;for(let i in t)s[i]||wM(e,`unknown keyword: "${i}"`)}Ee.checkUnknownRules=gM;function vM(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}Ee.schemaHasRules=vM;function vye(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}Ee.schemaHasRulesButRef=vye;function _ye({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Xe._)`${r}`}return(0,Xe._)`${e}${t}${(0,Xe.getProperty)(n)}`}Ee.schemaRefOrVal=_ye;function bye(e){return _M(decodeURIComponent(e))}Ee.unescapeFragment=bye;function wye(e){return encodeURIComponent(pS(e))}Ee.escapeFragment=wye;function pS(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Ee.escapeJsonPointer=pS;function _M(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Ee.unescapeJsonPointer=_M;function xye(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}Ee.eachItem=xye;function hM({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,i,o,a)=>{let c=o===void 0?i:o instanceof Xe.Name?(i instanceof Xe.Name?e(s,i,o):t(s,i,o),o):i instanceof Xe.Name?(t(s,o,i),i):r(i,o);return a===Xe.Name&&!(c instanceof Xe.Name)?n(s,c):c}}Ee.mergeEvaluated={props:hM({mergeNames:(e,t,r)=>e.if((0,Xe._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Xe._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Xe._)`${r} || {}`).code((0,Xe._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Xe._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Xe._)`${r} || {}`),mS(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:bM}),items:hM({mergeNames:(e,t,r)=>e.if((0,Xe._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Xe._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Xe._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Xe._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function bM(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,Xe._)`{}`);return t!==void 0&&mS(e,r,t),r}Ee.evaluatedPropsToName=bM;function mS(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Xe._)`${t}${(0,Xe.getProperty)(n)}`,!0))}Ee.setEvaluated=mS;var yM={};function Sye(e,t){return e.scopeValue("func",{ref:t,code:yM[t.code]||(yM[t.code]=new hye._Code(t.code))})}Ee.useFunc=Sye;var fS;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(fS||(Ee.Type=fS={}));function Eye(e,t,r){if(e instanceof Xe.Name){let n=t===fS.Num;return r?n?(0,Xe._)`"[" + ${e} + "]"`:(0,Xe._)`"['" + ${e} + "']"`:n?(0,Xe._)`"/" + ${e}`:(0,Xe._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Xe.getProperty)(e).toString():"/"+pS(e)}Ee.getErrorPath=Eye;function wM(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}Ee.checkStrictMode=wM});var qs=y(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});var sr=ye(),$ye={data:new sr.Name("data"),valCxt:new sr.Name("valCxt"),instancePath:new sr.Name("instancePath"),parentData:new sr.Name("parentData"),parentDataProperty:new sr.Name("parentDataProperty"),rootData:new sr.Name("rootData"),dynamicAnchors:new sr.Name("dynamicAnchors"),vErrors:new sr.Name("vErrors"),errors:new sr.Name("errors"),this:new sr.Name("this"),self:new sr.Name("self"),scope:new sr.Name("scope"),json:new sr.Name("json"),jsonPos:new sr.Name("jsonPos"),jsonLen:new sr.Name("jsonLen"),jsonPart:new sr.Name("jsonPart")};hS.default=$ye});var Tl=y(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.extendErrors=ir.resetErrorsCount=ir.reportExtraError=ir.reportError=ir.keyword$DataError=ir.keywordError=void 0;var Ce=ye(),Qm=Me(),vr=qs();ir.keywordError={message:({keyword:e})=>(0,Ce.str)`must pass "${e}" keyword validation`};ir.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Ce.str)`"${e}" keyword must be ${t} ($data)`:(0,Ce.str)`"${e}" keyword is invalid ($data)`};function Rye(e,t=ir.keywordError,r,n){let{it:s}=e,{gen:i,compositeRule:o,allErrors:a}=s,c=EM(e,t,r);n??(o||a)?xM(i,c):SM(s,(0,Ce._)`[${c}]`)}ir.reportError=Rye;function Pye(e,t=ir.keywordError,r){let{it:n}=e,{gen:s,compositeRule:i,allErrors:o}=n,a=EM(e,t,r);xM(s,a),i||o||SM(n,vr.default.vErrors)}ir.reportExtraError=Pye;function Tye(e,t){e.assign(vr.default.errors,t),e.if((0,Ce._)`${vr.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Ce._)`${vr.default.vErrors}.length`,t),()=>e.assign(vr.default.vErrors,null)))}ir.resetErrorsCount=Tye;function Oye({gen:e,keyword:t,schemaValue:r,data:n,errsCount:s,it:i}){if(s===void 0)throw new Error("ajv implementation error");let o=e.name("err");e.forRange("i",s,vr.default.errors,a=>{e.const(o,(0,Ce._)`${vr.default.vErrors}[${a}]`),e.if((0,Ce._)`${o}.instancePath === undefined`,()=>e.assign((0,Ce._)`${o}.instancePath`,(0,Ce.strConcat)(vr.default.instancePath,i.errorPath))),e.assign((0,Ce._)`${o}.schemaPath`,(0,Ce.str)`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign((0,Ce._)`${o}.schema`,r),e.assign((0,Ce._)`${o}.data`,n))})}ir.extendErrors=Oye;function xM(e,t){let r=e.const("err",t);e.if((0,Ce._)`${vr.default.vErrors} === null`,()=>e.assign(vr.default.vErrors,(0,Ce._)`[${r}]`),(0,Ce._)`${vr.default.vErrors}.push(${r})`),e.code((0,Ce._)`${vr.default.errors}++`)}function SM(e,t){let{gen:r,validateName:n,schemaEnv:s}=e;s.$async?r.throw((0,Ce._)`new ${e.ValidationError}(${t})`):(r.assign((0,Ce._)`${n}.errors`,t),r.return(!1))}var So={keyword:new Ce.Name("keyword"),schemaPath:new Ce.Name("schemaPath"),params:new Ce.Name("params"),propertyName:new Ce.Name("propertyName"),message:new Ce.Name("message"),schema:new Ce.Name("schema"),parentSchema:new Ce.Name("parentSchema")};function EM(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Ce._)`{}`:kye(e,t,r)}function kye(e,t,r={}){let{gen:n,it:s}=e,i=[Nye(s,r),Aye(e,r)];return Iye(e,t,i),n.object(...i)}function Nye({errorPath:e},{instancePath:t}){let r=t?(0,Ce.str)`${e}${(0,Qm.getErrorPath)(t,Qm.Type.Str)}`:e;return[vr.default.instancePath,(0,Ce.strConcat)(vr.default.instancePath,r)]}function Aye({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let s=n?t:(0,Ce.str)`${t}/${e}`;return r&&(s=(0,Ce.str)`${s}${(0,Qm.getErrorPath)(r,Qm.Type.Str)}`),[So.schemaPath,s]}function Iye(e,{params:t,message:r},n){let{keyword:s,data:i,schemaValue:o,it:a}=e,{opts:c,propertyName:l,topSchemaRef:u,schemaPath:d}=a;n.push([So.keyword,s],[So.params,typeof t=="function"?t(e):t||(0,Ce._)`{}`]),c.messages&&n.push([So.message,typeof r=="function"?r(e):r]),c.verbose&&n.push([So.schema,o],[So.parentSchema,(0,Ce._)`${u}${d}`],[vr.default.data,i]),l&&n.push([So.propertyName,l])}});var RM=y(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.boolOrEmptySchema=Wa.topBoolOrEmptySchema=void 0;var Cye=Tl(),jye=ye(),qye=qs(),Dye={message:"boolean schema is false"};function Lye(e){let{gen:t,schema:r,validateName:n}=e;r===!1?$M(e,!1):typeof r=="object"&&r.$async===!0?t.return(qye.default.data):(t.assign((0,jye._)`${n}.errors`,null),t.return(!0))}Wa.topBoolOrEmptySchema=Lye;function Fye(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),$M(e)):r.var(t,!0)}Wa.boolOrEmptySchema=Fye;function $M(e,t){let{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Cye.reportError)(s,Dye,void 0,t)}});var yS=y(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.getRules=Ya.isJSONType=void 0;var Mye=["string","number","integer","boolean","null","object","array"],zye=new Set(Mye);function Uye(e){return typeof e=="string"&&zye.has(e)}Ya.isJSONType=Uye;function Vye(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ya.getRules=Vye});var gS=y(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.shouldUseRule=_i.shouldUseGroup=_i.schemaHasRulesForType=void 0;function Hye({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&PM(e,n)}_i.schemaHasRulesForType=Hye;function PM(e,t){return t.rules.some(r=>TM(e,r))}_i.shouldUseGroup=PM;function TM(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}_i.shouldUseRule=TM});var Ol=y(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.reportTypeError=or.checkDataTypes=or.checkDataType=or.coerceAndCheckDataType=or.getJSONTypes=or.getSchemaTypes=or.DataType=void 0;var Bye=yS(),Kye=gS(),Gye=Tl(),fe=ye(),OM=Me(),Xa;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Xa||(or.DataType=Xa={}));function Jye(e){let t=kM(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}or.getSchemaTypes=Jye;function kM(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(Bye.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}or.getJSONTypes=kM;function Wye(e,t){let{gen:r,data:n,opts:s}=e,i=Yye(t,s.coerceTypes),o=t.length>0&&!(i.length===0&&t.length===1&&(0,Kye.schemaHasRulesForType)(e,t[0]));if(o){let a=_S(t,n,s.strictNumbers,Xa.Wrong);r.if(a,()=>{i.length?Xye(e,t,i):bS(e)})}return o}or.coerceAndCheckDataType=Wye;var NM=new Set(["string","number","integer","boolean","null"]);function Yye(e,t){return t?e.filter(r=>NM.has(r)||t==="array"&&r==="array"):[]}function Xye(e,t,r){let{gen:n,data:s,opts:i}=e,o=n.let("dataType",(0,fe._)`typeof ${s}`),a=n.let("coerced",(0,fe._)`undefined`);i.coerceTypes==="array"&&n.if((0,fe._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,fe._)`${s}[0]`).assign(o,(0,fe._)`typeof ${s}`).if(_S(t,s,i.strictNumbers),()=>n.assign(a,s))),n.if((0,fe._)`${a} !== undefined`);for(let l of r)(NM.has(l)||l==="array"&&i.coerceTypes==="array")&&c(l);n.else(),bS(e),n.endIf(),n.if((0,fe._)`${a} !== undefined`,()=>{n.assign(s,a),Qye(e,a)});function c(l){switch(l){case"string":n.elseIf((0,fe._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,fe._)`"" + ${s}`).elseIf((0,fe._)`${s} === null`).assign(a,(0,fe._)`""`);return;case"number":n.elseIf((0,fe._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(a,(0,fe._)`+${s}`);return;case"integer":n.elseIf((0,fe._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(a,(0,fe._)`+${s}`);return;case"boolean":n.elseIf((0,fe._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(a,!1).elseIf((0,fe._)`${s} === "true" || ${s} === 1`).assign(a,!0);return;case"null":n.elseIf((0,fe._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(a,null);return;case"array":n.elseIf((0,fe._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(a,(0,fe._)`[${s}]`)}}}function Qye({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,fe._)`${t} !== undefined`,()=>e.assign((0,fe._)`${t}[${r}]`,n))}function vS(e,t,r,n=Xa.Correct){let s=n===Xa.Correct?fe.operators.EQ:fe.operators.NEQ,i;switch(e){case"null":return(0,fe._)`${t} ${s} null`;case"array":i=(0,fe._)`Array.isArray(${t})`;break;case"object":i=(0,fe._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=o((0,fe._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=o();break;default:return(0,fe._)`typeof ${t} ${s} ${e}`}return n===Xa.Correct?i:(0,fe.not)(i);function o(a=fe.nil){return(0,fe.and)((0,fe._)`typeof ${t} == "number"`,a,r?(0,fe._)`isFinite(${t})`:fe.nil)}}or.checkDataType=vS;function _S(e,t,r,n){if(e.length===1)return vS(e[0],t,r,n);let s,i=(0,OM.toHash)(e);if(i.array&&i.object){let o=(0,fe._)`typeof ${t} != "object"`;s=i.null?o:(0,fe._)`!${t} || ${o}`,delete i.null,delete i.array,delete i.object}else s=fe.nil;i.number&&delete i.integer;for(let o in i)s=(0,fe.and)(s,vS(o,t,r,n));return s}or.checkDataTypes=_S;var Zye={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,fe._)`{type: ${e}}`:(0,fe._)`{type: ${t}}`};function bS(e){let t=ege(e);(0,Gye.reportError)(t,Zye)}or.reportTypeError=bS;function ege(e){let{gen:t,data:r,schema:n}=e,s=(0,OM.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}});var IM=y(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.assignDefaults=void 0;var Qa=ye(),tge=Me();function rge(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let s in r)AM(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>AM(e,i,s.default))}Zm.assignDefaults=rge;function AM(e,t,r){let{gen:n,compositeRule:s,data:i,opts:o}=e;if(r===void 0)return;let a=(0,Qa._)`${i}${(0,Qa.getProperty)(t)}`;if(s){(0,tge.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,Qa._)`${a} === undefined`;o.useDefaults==="empty"&&(c=(0,Qa._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,Qa._)`${a} = ${(0,Qa.stringify)(r)}`)}});var nn=y(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.validateUnion=Ge.validateArray=Ge.usePattern=Ge.callValidateCode=Ge.schemaProperties=Ge.allSchemaProperties=Ge.noPropertyInData=Ge.propertyInData=Ge.isOwnProperty=Ge.hasPropFunc=Ge.reportMissingProp=Ge.checkMissingProp=Ge.checkReportMissingProp=void 0;var ct=ye(),wS=Me(),bi=qs(),nge=Me();function sge(e,t){let{gen:r,data:n,it:s}=e;r.if(SS(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ct._)`${t}`},!0),e.error()})}Ge.checkReportMissingProp=sge;function ige({gen:e,data:t,it:{opts:r}},n,s){return(0,ct.or)(...n.map(i=>(0,ct.and)(SS(e,t,i,r.ownProperties),(0,ct._)`${s} = ${i}`)))}Ge.checkMissingProp=ige;function oge(e,t){e.setParams({missingProperty:t},!0),e.error()}Ge.reportMissingProp=oge;function CM(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ct._)`Object.prototype.hasOwnProperty`})}Ge.hasPropFunc=CM;function xS(e,t,r){return(0,ct._)`${CM(e)}.call(${t}, ${r})`}Ge.isOwnProperty=xS;function age(e,t,r,n){let s=(0,ct._)`${t}${(0,ct.getProperty)(r)} !== undefined`;return n?(0,ct._)`${s} && ${xS(e,t,r)}`:s}Ge.propertyInData=age;function SS(e,t,r,n){let s=(0,ct._)`${t}${(0,ct.getProperty)(r)} === undefined`;return n?(0,ct.or)(s,(0,ct.not)(xS(e,t,r))):s}Ge.noPropertyInData=SS;function jM(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Ge.allSchemaProperties=jM;function cge(e,t){return jM(t).filter(r=>!(0,wS.alwaysValidSchema)(e,t[r]))}Ge.schemaProperties=cge;function uge({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:o},a,c,l){let u=l?(0,ct._)`${e}, ${t}, ${n}${s}`:t,d=[[bi.default.instancePath,(0,ct.strConcat)(bi.default.instancePath,i)],[bi.default.parentData,o.parentData],[bi.default.parentDataProperty,o.parentDataProperty],[bi.default.rootData,bi.default.rootData]];o.opts.dynamicRef&&d.push([bi.default.dynamicAnchors,bi.default.dynamicAnchors]);let p=(0,ct._)`${u}, ${r.object(...d)}`;return c!==ct.nil?(0,ct._)`${a}.call(${c}, ${p})`:(0,ct._)`${a}(${p})`}Ge.callValidateCode=uge;var lge=(0,ct._)`new RegExp`;function dge({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,ct._)`${s.code==="new RegExp"?lge:(0,nge.useFunc)(e,s)}(${r}, ${n})`})}Ge.usePattern=dge;function fge(e){let{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){let a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(i,!0),o(()=>t.break()),i;function o(a){let c=t.const("len",(0,ct._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:wS.Type.Num},i),t.if((0,ct.not)(i),a)})}}Ge.validateArray=fge;function pge(e){let{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,wS.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;let o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,l)=>{let u=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,ct._)`${o} || ${a}`),e.mergeValidEvaluated(u,a)||t.if((0,ct.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Ge.validateUnion=pge});var LM=y(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.validateKeywordUsage=es.validSchemaType=es.funcKeywordCode=es.macroKeywordCode=void 0;var _r=ye(),Eo=qs(),mge=nn(),hge=Tl();function yge(e,t){let{gen:r,keyword:n,schema:s,parentSchema:i,it:o}=e,a=t.macro.call(o.self,s,i,o),c=DM(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let l=r.name("valid");e.subschema({schema:a,schemaPath:_r.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}es.macroKeywordCode=yge;function gge(e,t){var r;let{gen:n,keyword:s,schema:i,parentSchema:o,$data:a,it:c}=e;_ge(c,t);let l=!a&&t.compile?t.compile.call(c.self,i,o,c):t.validate,u=DM(n,s,l),d=n.let("valid");e.block$data(d,p),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function p(){if(t.errors===!1)h(),t.modifying&&qM(e),v(()=>e.error());else{let b=t.async?m():f();t.modifying&&qM(e),v(()=>vge(e,b))}}function m(){let b=n.let("ruleErrs",null);return n.try(()=>h((0,_r._)`await `),S=>n.assign(d,!1).if((0,_r._)`${S} instanceof ${c.ValidationError}`,()=>n.assign(b,(0,_r._)`${S}.errors`),()=>n.throw(S))),b}function f(){let b=(0,_r._)`${u}.errors`;return n.assign(b,null),h(_r.nil),b}function h(b=t.async?(0,_r._)`await `:_r.nil){let S=c.opts.passContext?Eo.default.this:Eo.default.self,_=!("compile"in t&&!a||t.schema===!1);n.assign(d,(0,_r._)`${b}${(0,mge.callValidateCode)(e,u,S,_)}`,t.modifying)}function v(b){var S;n.if((0,_r.not)((S=t.valid)!==null&&S!==void 0?S:d),b)}}es.funcKeywordCode=gge;function qM(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,_r._)`${n.parentData}[${n.parentDataProperty}]`))}function vge(e,t){let{gen:r}=e;r.if((0,_r._)`Array.isArray(${t})`,()=>{r.assign(Eo.default.vErrors,(0,_r._)`${Eo.default.vErrors} === null ? ${t} : ${Eo.default.vErrors}.concat(${t})`).assign(Eo.default.errors,(0,_r._)`${Eo.default.vErrors}.length`),(0,hge.extendErrors)(e)},()=>e.error())}function _ge({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function DM(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,_r.stringify)(r)})}function bge(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}es.validSchemaType=bge;function wge({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");let o=s.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){let c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}es.validateKeywordUsage=wge});var MM=y(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.extendSubschemaMode=wi.extendSubschemaData=wi.getSubschema=void 0;var ts=ye(),FM=Me();function xge(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,ts._)`${e.schemaPath}${(0,ts.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,ts._)`${e.schemaPath}${(0,ts.getProperty)(t)}${(0,ts.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,FM.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}wi.getSubschema=xge;function Sge(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=t;if(r!==void 0){let{errorPath:l,dataPathArr:u,opts:d}=t,p=a.let("data",(0,ts._)`${t.data}${(0,ts.getProperty)(r)}`,!0);c(p),e.errorPath=(0,ts.str)`${l}${(0,FM.getErrorPath)(r,n,d.jsPropertySyntax)}`,e.parentDataProperty=(0,ts._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(s!==void 0){let l=s instanceof ts.Name?s:a.let("data",s,!0);c(l),o!==void 0&&(e.propertyName=o)}i&&(e.dataTypes=i);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}wi.extendSubschemaData=Sge;function Ege(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}wi.extendSubschemaMode=Ege});var UM=y((Mje,zM)=>{"use strict";var xi=zM.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};eh(t,n,s,e,"",e)};xi.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};xi.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};xi.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};xi.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function eh(e,t,r,n,s,i,o,a,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,o,a,c,l);for(var u in n){var d=n[u];if(Array.isArray(d)){if(u in xi.arrayKeywords)for(var p=0;p<d.length;p++)eh(e,t,r,d[p],s+"/"+u+"/"+p,i,s,u,n,p)}else if(u in xi.propsKeywords){if(d&&typeof d=="object")for(var m in d)eh(e,t,r,d[m],s+"/"+u+"/"+$ge(m),i,s,u,n,m)}else(u in xi.keywords||e.allKeys&&!(u in xi.skipKeywords))&&eh(e,t,r,d,s+"/"+u,i,s,u,n)}r(n,s,i,o,a,c,l)}}function $ge(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var kl=y(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.getSchemaRefs=Cr.resolveUrl=Cr.normalizeId=Cr._getFullPath=Cr.getFullPath=Cr.inlineRef=void 0;var Rge=Me(),Pge=Kr(),Tge=UM(),Oge=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function kge(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ES(e):t?VM(e)<=t:!1}Cr.inlineRef=kge;var Nge=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ES(e){for(let t in e){if(Nge.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(ES)||typeof r=="object"&&ES(r))return!0}return!1}function VM(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!Oge.has(r)&&(typeof e[r]=="object"&&(0,Rge.eachItem)(e[r],n=>t+=VM(n)),t===1/0))return 1/0}return t}function HM(e,t="",r){r!==!1&&(t=Za(t));let n=e.parse(t);return BM(e,n)}Cr.getFullPath=HM;function BM(e,t){return e.serialize(t).split("#")[0]+"#"}Cr._getFullPath=BM;var Age=/#\/?$/;function Za(e){return e?e.replace(Age,""):""}Cr.normalizeId=Za;function Ige(e,t,r){return r=Za(r),e.resolve(t,r)}Cr.resolveUrl=Ige;var Cge=/^[a-z_][-a-z0-9._]*$/i;function jge(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=Za(e[r]||t),i={"":s},o=HM(n,s,!1),a={},c=new Set;return Tge(e,{allKeys:!0},(d,p,m,f)=>{if(f===void 0)return;let h=o+p,v=i[f];typeof d[r]=="string"&&(v=b.call(this,d[r])),S.call(this,d.$anchor),S.call(this,d.$dynamicAnchor),i[p]=v;function b(_){let g=this.opts.uriResolver.resolve;if(_=Za(v?g(v,_):_),c.has(_))throw u(_);c.add(_);let x=this.refs[_];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?l(d,x.schema,_):_!==Za(h)&&(_[0]==="#"?(l(d,a[_],_),a[_]=d):this.refs[_]=h),_}function S(_){if(typeof _=="string"){if(!Cge.test(_))throw new Error(`invalid anchor "${_}"`);b.call(this,`#${_}`)}}}),a;function l(d,p,m){if(p!==void 0&&!Pge(d,p))throw u(m)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Cr.getSchemaRefs=jge});var Il=y(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.getData=Si.KeywordCxt=Si.validateFunctionCode=void 0;var YM=RM(),KM=Ol(),RS=gS(),th=Ol(),qge=IM(),Al=LM(),$S=MM(),Y=ye(),ae=qs(),Dge=kl(),Ds=Me(),Nl=Tl();function Lge(e){if(ZM(e)&&(e2(e),QM(e))){zge(e);return}XM(e,()=>(0,YM.topBoolOrEmptySchema)(e))}Si.validateFunctionCode=Lge;function XM({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,Y._)`${ae.default.data}, ${ae.default.valCxt}`,n.$async,()=>{e.code((0,Y._)`"use strict"; ${GM(r,s)}`),Mge(e,s),e.code(i)}):e.func(t,(0,Y._)`${ae.default.data}, ${Fge(s)}`,n.$async,()=>e.code(GM(r,s)).code(i))}function Fge(e){return(0,Y._)`{${ae.default.instancePath}="", ${ae.default.parentData}, ${ae.default.parentDataProperty}, ${ae.default.rootData}=${ae.default.data}${e.dynamicRef?(0,Y._)`, ${ae.default.dynamicAnchors}={}`:Y.nil}}={}`}function Mge(e,t){e.if(ae.default.valCxt,()=>{e.var(ae.default.instancePath,(0,Y._)`${ae.default.valCxt}.${ae.default.instancePath}`),e.var(ae.default.parentData,(0,Y._)`${ae.default.valCxt}.${ae.default.parentData}`),e.var(ae.default.parentDataProperty,(0,Y._)`${ae.default.valCxt}.${ae.default.parentDataProperty}`),e.var(ae.default.rootData,(0,Y._)`${ae.default.valCxt}.${ae.default.rootData}`),t.dynamicRef&&e.var(ae.default.dynamicAnchors,(0,Y._)`${ae.default.valCxt}.${ae.default.dynamicAnchors}`)},()=>{e.var(ae.default.instancePath,(0,Y._)`""`),e.var(ae.default.parentData,(0,Y._)`undefined`),e.var(ae.default.parentDataProperty,(0,Y._)`undefined`),e.var(ae.default.rootData,ae.default.data),t.dynamicRef&&e.var(ae.default.dynamicAnchors,(0,Y._)`{}`)})}function zge(e){let{schema:t,opts:r,gen:n}=e;XM(e,()=>{r.$comment&&t.$comment&&r2(e),Kge(e),n.let(ae.default.vErrors,null),n.let(ae.default.errors,0),r.unevaluated&&Uge(e),t2(e),Wge(e)})}function Uge(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Y._)`${r}.evaluated`),t.if((0,Y._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Y._)`${e.evaluated}.props`,(0,Y._)`undefined`)),t.if((0,Y._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Y._)`${e.evaluated}.items`,(0,Y._)`undefined`))}function GM(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Y._)`/*# sourceURL=${r} */`:Y.nil}function Vge(e,t){if(ZM(e)&&(e2(e),QM(e))){Hge(e,t);return}(0,YM.boolOrEmptySchema)(e,t)}function QM({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function ZM(e){return typeof e.schema!="boolean"}function Hge(e,t){let{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&r2(e),Gge(e),Jge(e);let i=n.const("_errs",ae.default.errors);t2(e,i),n.var(t,(0,Y._)`${i} === ${ae.default.errors}`)}function e2(e){(0,Ds.checkUnknownRules)(e),Bge(e)}function t2(e,t){if(e.opts.jtd)return JM(e,[],!1,t);let r=(0,KM.getSchemaTypes)(e.schema),n=(0,KM.coerceAndCheckDataType)(e,r);JM(e,r,!n,t)}function Bge(e){let{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Ds.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Kge(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ds.checkStrictMode)(e,"default is ignored in the schema root")}function Gge(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Dge.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Jge(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function r2({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){let i=r.$comment;if(s.$comment===!0)e.code((0,Y._)`${ae.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){let o=(0,Y.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,Y._)`${ae.default.self}.opts.$comment(${i}, ${o}, ${a}.schema)`)}}function Wge(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,Y._)`${ae.default.errors} === 0`,()=>t.return(ae.default.data),()=>t.throw((0,Y._)`new ${s}(${ae.default.vErrors})`)):(t.assign((0,Y._)`${n}.errors`,ae.default.vErrors),i.unevaluated&&Yge(e),t.return((0,Y._)`${ae.default.errors} === 0`))}function Yge({gen:e,evaluated:t,props:r,items:n}){r instanceof Y.Name&&e.assign((0,Y._)`${t}.props`,r),n instanceof Y.Name&&e.assign((0,Y._)`${t}.items`,n)}function JM(e,t,r,n){let{gen:s,schema:i,data:o,allErrors:a,opts:c,self:l}=e,{RULES:u}=l;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,Ds.schemaHasRulesButRef)(i,u))){s.block(()=>s2(e,"$ref",u.all.$ref.definition));return}c.jtd||Xge(e,t),s.block(()=>{for(let p of u.rules)d(p);d(u.post)});function d(p){(0,RS.shouldUseGroup)(i,p)&&(p.type?(s.if((0,th.checkDataType)(p.type,o,c.strictNumbers)),WM(e,p),t.length===1&&t[0]===p.type&&r&&(s.else(),(0,th.reportTypeError)(e)),s.endIf()):WM(e,p),a||s.if((0,Y._)`${ae.default.errors} === ${n||0}`))}}function WM(e,t){let{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,qge.assignDefaults)(e,t.type),r.block(()=>{for(let i of t.rules)(0,RS.shouldUseRule)(n,i)&&s2(e,i.keyword,i.definition,t.type)})}function Xge(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Qge(e,t),e.opts.allowUnionTypes||Zge(e,t),eve(e,e.dataTypes))}function Qge(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{n2(e.dataTypes,r)||PS(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),rve(e,t)}}function Zge(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&PS(e,"use allowUnionTypes to allow union type keyword")}function eve(e,t){let r=e.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,RS.shouldUseRule)(e.schema,s)){let{type:i}=s.definition;i.length&&!i.some(o=>tve(t,o))&&PS(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function tve(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function n2(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function rve(e,t){let r=[];for(let n of e.dataTypes)n2(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function PS(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ds.checkStrictMode)(e,t,e.opts.strictTypes)}var rh=class{constructor(t,r,n){if((0,Al.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ds.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",i2(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Al.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ae.default.errors))}result(t,r,n){this.failResult((0,Y.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Y.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,Y._)`${r} !== undefined && (${(0,Y.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Nl.reportExtraError:Nl.reportError)(this,this.def.error,r)}$dataError(){(0,Nl.reportError)(this,this.def.$dataError||Nl.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Nl.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Y.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Y.nil,r=Y.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:i,def:o}=this;n.if((0,Y.or)((0,Y._)`${s} === undefined`,r)),t!==Y.nil&&n.assign(t,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Y.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,Y.or)(o(),a());function o(){if(n.length){if(!(r instanceof Y.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,Y._)`${(0,th.checkDataTypes)(c,r,i.opts.strictNumbers,th.DataType.Wrong)}`}return Y.nil}function a(){if(s.validateSchema){let c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,Y._)`!${c}(${r})`}return Y.nil}}subschema(t,r){let n=(0,$S.getSubschema)(this.it,t);(0,$S.extendSubschemaData)(n,this.it,t),(0,$S.extendSubschemaMode)(n,t);let s={...this.it,...n,items:void 0,props:void 0};return Vge(s,r),s}mergeEvaluated(t,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Ds.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Ds.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,Y.Name)),!0}};Si.KeywordCxt=rh;function s2(e,t,r,n){let s=new rh(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Al.funcKeywordCode)(s,r):"macro"in r?(0,Al.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Al.funcKeywordCode)(s,r)}var nve=/^\/(?:[^~]|~0|~1)*$/,sve=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function i2(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return ae.default.rootData;if(e[0]==="/"){if(!nve.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=ae.default.rootData}else{let l=sve.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);let u=+l[1];if(s=l[2],s==="#"){if(u>=t)throw new Error(c("property/index",u));return n[t-u]}if(u>t)throw new Error(c("data",u));if(i=r[t-u],!s)return i}let o=i,a=s.split("/");for(let l of a)l&&(i=(0,Y._)`${i}${(0,Y.getProperty)((0,Ds.unescapeJsonPointer)(l))}`,o=(0,Y._)`${o} && ${i}`);return o;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${t}`}}Si.getData=i2});var nh=y(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});var TS=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};OS.default=TS});var Cl=y(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0});var kS=kl(),NS=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,kS.resolveUrl)(t,r,n),this.missingSchema=(0,kS.normalizeId)((0,kS.getFullPath)(t,this.missingRef))}};AS.default=NS});var ih=y(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.resolveSchema=sn.getCompilingSchema=sn.resolveRef=sn.compileSchema=sn.SchemaEnv=void 0;var Pn=ye(),ive=nh(),$o=qs(),Tn=kl(),o2=Me(),ove=Il(),ec=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Tn.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};sn.SchemaEnv=ec;function CS(e){let t=a2.call(this,e);if(t)return t;let r=(0,Tn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new Pn.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i}),a;e.$async&&(a=o.scopeValue("Error",{ref:ive.default,code:(0,Pn._)`require("ajv/dist/runtime/validation_error").default`}));let c=o.scopeName("validate");e.validateName=c;let l={gen:o,allErrors:this.opts.allErrors,data:$o.default.data,parentData:$o.default.parentData,parentDataProperty:$o.default.parentDataProperty,dataNames:[$o.default.data],dataPathArr:[Pn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Pn.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Pn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Pn._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(e),(0,ove.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);let d=o.toString();u=`${o.scopeRefs($o.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,e));let m=new Function(`${$o.default.self}`,`${$o.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){let{props:f,items:h}=l;m.evaluated={props:f instanceof Pn.Name?void 0:f,items:h instanceof Pn.Name?void 0:h,dynamicProps:f instanceof Pn.Name,dynamicItems:h instanceof Pn.Name},m.source&&(m.source.evaluated=(0,Pn.stringify)(m.evaluated))}return e.validate=m,e}catch(d){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(e)}}sn.compileSchema=CS;function ave(e,t,r){var n;r=(0,Tn.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let i=lve.call(this,e,r);if(i===void 0){let o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(i=new ec({schema:o,schemaId:a,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=cve.call(this,i)}sn.resolveRef=ave;function cve(e){return(0,Tn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:CS.call(this,e)}function a2(e){for(let t of this._compilations)if(uve(t,e))return t}sn.getCompilingSchema=a2;function uve(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function lve(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||sh.call(this,e,t)}function sh(e,t){let r=this.opts.uriResolver.parse(t),n=(0,Tn._getFullPath)(this.opts.uriResolver,r),s=(0,Tn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return IS.call(this,r,e);let i=(0,Tn.normalizeId)(n),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){let a=sh.call(this,e,o);return typeof a?.schema!="object"?void 0:IS.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||CS.call(this,o),i===(0,Tn.normalizeId)(t)){let{schema:a}=o,{schemaId:c}=this.opts,l=a[c];return l&&(s=(0,Tn.resolveUrl)(this.opts.uriResolver,s,l)),new ec({schema:a,schemaId:c,root:e,baseId:s})}return IS.call(this,r,o)}}sn.resolveSchema=sh;var dve=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function IS(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,o2.unescapeFragment)(a)];if(c===void 0)return;r=c;let l=typeof r=="object"&&r[this.opts.schemaId];!dve.has(a)&&l&&(t=(0,Tn.resolveUrl)(this.opts.uriResolver,t,l))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,o2.schemaHasRulesButRef)(r,this.RULES)){let a=(0,Tn.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=sh.call(this,n,a)}let{schemaId:o}=this.opts;if(i=i||new ec({schema:r,schemaId:o,root:n,baseId:t}),i.schema!==i.root.schema)return i}});var c2=y((Kje,fve)=>{fve.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var qS=y((Gje,f2)=>{"use strict";var pve=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),l2=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function jS(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}var mve=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function u2(e){return e.length=0,!0}function hve(e,t,r){if(e.length){let n=jS(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function yve(e){let t=0,r={error:!1,address:"",zone:""},n=[],s=[],i=!1,o=!1,a=hve;for(let c=0;c<e.length;c++){let l=e[c];if(!(l==="["||l==="]"))if(l===":"){if(i===!0&&(o=!0),!a(s,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(i=!0),n.push(":");continue}else if(l==="%"){if(!a(s,n,r))break;a=u2}else{s.push(l);continue}}return s.length&&(a===u2?r.zone=s.join(""):o?n.push(s.join("")):n.push(jS(s))),r.address=n.join(""),r}function d2(e){if(gve(e,":")<2)return{host:e,isIPV6:!1};let t=yve(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function gve(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function vve(e){let t=e,r=[],n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function _ve(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function bve(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!l2(r)){let n=d2(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}f2.exports={nonSimpleDomain:mve,recomposeAuthority:bve,normalizeComponentEncoding:_ve,removeDotSegments:vve,isIPv4:l2,isUUID:pve,normalizeIPv6:d2,stringArrayToHexStripped:jS}});var g2=y((Jje,y2)=>{"use strict";var{isUUID:wve}=qS(),xve=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,Sve=["http","https","ws","wss","urn","urn:uuid"];function Eve(e){return Sve.indexOf(e)!==-1}function DS(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function p2(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function m2(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function $ve(e){return e.secure=DS(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Rve(e){if((e.port===(DS(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Pve(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(xve);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let s=`${n}:${t.nid||e.nid}`,i=LS(s);e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Tve(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=LS(s);i&&(e=i.serialize(e,t));let o=e,a=e.nss;return o.path=`${n||t.nid}:${a}`,t.skipEscape=!0,o}function Ove(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!wve(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function kve(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var h2={scheme:"http",domainHost:!0,parse:p2,serialize:m2},Nve={scheme:"https",domainHost:h2.domainHost,parse:p2,serialize:m2},oh={scheme:"ws",domainHost:!0,parse:$ve,serialize:Rve},Ave={scheme:"wss",domainHost:oh.domainHost,parse:oh.parse,serialize:oh.serialize},Ive={scheme:"urn",parse:Pve,serialize:Tve,skipNormalize:!0},Cve={scheme:"urn:uuid",parse:Ove,serialize:kve,skipNormalize:!0},ah={http:h2,https:Nve,ws:oh,wss:Ave,urn:Ive,"urn:uuid":Cve};Object.setPrototypeOf(ah,null);function LS(e){return e&&(ah[e]||ah[e.toLowerCase()])||void 0}y2.exports={wsIsSecure:DS,SCHEMES:ah,isValidSchemeName:Eve,getSchemeHandler:LS}});var b2=y((Wje,uh)=>{"use strict";var{normalizeIPv6:jve,removeDotSegments:jl,recomposeAuthority:qve,normalizeComponentEncoding:ch,isIPv4:Dve,nonSimpleDomain:Lve}=qS(),{SCHEMES:Fve,getSchemeHandler:v2}=g2();function Mve(e,t){return typeof e=="string"?e=rs(Ls(e,t),t):typeof e=="object"&&(e=Ls(rs(e,t),t)),e}function zve(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=_2(Ls(e,n),Ls(t,n),n,!0);return n.skipEscape=!0,rs(s,n)}function _2(e,t,r,n){let s={};return n||(e=Ls(rs(e,r),r),t=Ls(rs(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=jl(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=jl(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=jl(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=jl(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function Uve(e,t,r){return typeof e=="string"?(e=unescape(e),e=rs(ch(Ls(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=rs(ch(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=rs(ch(Ls(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=rs(ch(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function rs(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=v2(n.scheme||r.scheme);i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");let o=qve(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(a=jl(a)),o===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),s.push(a)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}var Vve=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Ls(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);let i=e.match(Vve);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host)if(Dve(n.host)===!1){let c=jve(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=v2(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&Lve(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var FS={SCHEMES:Fve,normalize:Mve,resolve:zve,resolveComponent:_2,equal:Uve,serialize:rs,parse:Ls};uh.exports=FS;uh.exports.default=FS;uh.exports.fastUri=FS});var x2=y(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});var w2=b2();w2.code='require("ajv/dist/runtime/uri").default';MS.default=w2});var k2=y(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.CodeGen=Vt.Name=Vt.nil=Vt.stringify=Vt.str=Vt._=Vt.KeywordCxt=void 0;var Hve=Il();Object.defineProperty(Vt,"KeywordCxt",{enumerable:!0,get:function(){return Hve.KeywordCxt}});var tc=ye();Object.defineProperty(Vt,"_",{enumerable:!0,get:function(){return tc._}});Object.defineProperty(Vt,"str",{enumerable:!0,get:function(){return tc.str}});Object.defineProperty(Vt,"stringify",{enumerable:!0,get:function(){return tc.stringify}});Object.defineProperty(Vt,"nil",{enumerable:!0,get:function(){return tc.nil}});Object.defineProperty(Vt,"Name",{enumerable:!0,get:function(){return tc.Name}});Object.defineProperty(Vt,"CodeGen",{enumerable:!0,get:function(){return tc.CodeGen}});var Bve=nh(),P2=Cl(),Kve=yS(),ql=ih(),Gve=ye(),Dl=kl(),lh=Ol(),US=Me(),S2=c2(),Jve=x2(),T2=(e,t)=>new RegExp(e,t);T2.code="new RegExp";var Wve=["removeAdditional","useDefaults","coerceTypes"],Yve=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Xve={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Qve={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E2=200;function Zve(e){var t,r,n,s,i,o,a,c,l,u,d,p,m,f,h,v,b,S,_,g,x,R,w,E,P;let $=e.strict,j=(t=e.code)===null||t===void 0?void 0:t.optimize,O=j===!0||j===void 0?1:j||0,T=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:T2,A=(s=e.uriResolver)!==null&&s!==void 0?s:Jve.default;return{strictSchema:(o=(i=e.strictSchema)!==null&&i!==void 0?i:$)!==null&&o!==void 0?o:!0,strictNumbers:(c=(a=e.strictNumbers)!==null&&a!==void 0?a:$)!==null&&c!==void 0?c:!0,strictTypes:(u=(l=e.strictTypes)!==null&&l!==void 0?l:$)!==null&&u!==void 0?u:"log",strictTuples:(p=(d=e.strictTuples)!==null&&d!==void 0?d:$)!==null&&p!==void 0?p:"log",strictRequired:(f=(m=e.strictRequired)!==null&&m!==void 0?m:$)!==null&&f!==void 0?f:!1,code:e.code?{...e.code,optimize:O,regExp:T}:{optimize:O,regExp:T},loopRequired:(h=e.loopRequired)!==null&&h!==void 0?h:E2,loopEnum:(v=e.loopEnum)!==null&&v!==void 0?v:E2,meta:(b=e.meta)!==null&&b!==void 0?b:!0,messages:(S=e.messages)!==null&&S!==void 0?S:!0,inlineRefs:(_=e.inlineRefs)!==null&&_!==void 0?_:!0,schemaId:(g=e.schemaId)!==null&&g!==void 0?g:"$id",addUsedSchema:(x=e.addUsedSchema)!==null&&x!==void 0?x:!0,validateSchema:(R=e.validateSchema)!==null&&R!==void 0?R:!0,validateFormats:(w=e.validateFormats)!==null&&w!==void 0?w:!0,unicodeRegExp:(E=e.unicodeRegExp)!==null&&E!==void 0?E:!0,int32range:(P=e.int32range)!==null&&P!==void 0?P:!0,uriResolver:A}}var Ll=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...Zve(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new Gve.ValueScope({scope:{},prefixes:Yve,es5:r,lines:n}),this.logger=i_e(t.logger);let s=t.validateFormats;t.validateFormats=!1,this.RULES=(0,Kve.getRules)(),$2.call(this,Xve,t,"NOT SUPPORTED"),$2.call(this,Qve,t,"DEPRECATED","warn"),this._metaOpts=n_e.call(this),t.formats&&t_e.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&r_e.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),e_e.call(this),t.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,s=S2;n==="id"&&(s={...S2},s.id=s.$id,delete s.$id),r&&t&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,t,r);async function s(u,d){await i.call(this,u.$schema);let p=this._addSchema(u,d);return p.validate||o.call(this,p)}async function i(u){u&&!this.getSchema(u)&&await s.call(this,{$ref:u},!0)}async function o(u){try{return this._compileSchemaEnv(u)}catch(d){if(!(d instanceof P2.default))throw d;return a.call(this,d),await c.call(this,d.missingSchema),o.call(this,u)}}function a({missingSchema:u,missingRef:d}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${d} cannot be resolved`)}async function c(u){let d=await l.call(this,u);this.refs[u]||await i.call(this,d.$schema),this.refs[u]||this.addSchema(d,u,r)}async function l(u){let d=this._loading[u];if(d)return d;try{return await(this._loading[u]=n(u))}finally{delete this._loading[u]}}}addSchema(t,r,n,s=this.opts.validateSchema){if(Array.isArray(t)){for(let o of t)this.addSchema(o,void 0,n,s);return this}let i;if(typeof t=="object"){let{schemaId:o}=this.opts;if(i=t[o],i!==void 0&&typeof i!="string")throw new Error(`schema ${o} must be string`)}return r=(0,Dl.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,s,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,t);if(!s&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(t){let r;for(;typeof(r=R2.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,s=new ql.SchemaEnv({schema:{},schemaId:n});if(r=ql.resolveSchema.call(this,s,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=R2.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,Dl.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(a_e.call(this,n,r),!r)return(0,US.eachItem)(n,i=>zS.call(this,i)),this;u_e.call(this,r);let s={...r,type:(0,lh.getJSONTypes)(r.type),schemaType:(0,lh.getJSONTypes)(r.schemaType)};return(0,US.eachItem)(n,s.type.length===0?i=>zS.call(this,i,s):i=>s.type.forEach(o=>zS.call(this,i,s,o))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let s=n.rules.findIndex(i=>i.keyword===t);s>=0&&n.rules.splice(s,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,i)=>s+r+i)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let s of r){let i=s.split("/").slice(1),o=t;for(let a of i)o=o[a];for(let a in n){let c=n[a];if(typeof c!="object")continue;let{$data:l}=c.definition,u=o[a];l&&u&&(o[a]=O2(u))}}return t}_removeAllSchemas(t,r){for(let n in t){let s=t[n];(!r||r.test(n))&&(typeof s=="string"?delete t[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete t[n]))}}_addSchema(t,r,n,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof t=="object")o=t[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(t);if(c!==void 0)return c;n=(0,Dl.normalizeId)(o||n);let l=Dl.getSchemaRefs.call(this,t,n);return c=new ql.SchemaEnv({schema:t,schemaId:a,meta:r,baseId:n,localRefs:l}),this._cache.set(c.schema,c),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),s&&this.validateSchema(t,!0),c}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):ql.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{ql.compileSchema.call(this,t)}finally{this.opts=r}}};Ll.ValidationError=Bve.default;Ll.MissingRefError=P2.default;Vt.default=Ll;function $2(e,t,r,n="error"){for(let s in e){let i=s;i in t&&this.logger[n](`${r}: option ${s}. ${e[i]}`)}}function R2(e){return e=(0,Dl.normalizeId)(e),this.schemas[e]||this.refs[e]}function e_e(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function t_e(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function r_e(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function n_e(){let e={...this.opts};for(let t of Wve)delete e[t];return e}var s_e={log(){},warn(){},error(){}};function i_e(e){if(e===!1)return s_e;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var o_e=/^[a-z_$][a-z0-9_$:-]*$/i;function a_e(e,t){let{RULES:r}=this;if((0,US.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!o_e.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function zS(e,t,r){var n;let s=t?.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,o=s?i.post:i.rules.find(({type:c})=>c===r);if(o||(o={type:r,rules:[]},i.rules.push(o)),i.keywords[e]=!0,!t)return;let a={keyword:e,definition:{...t,type:(0,lh.getJSONTypes)(t.type),schemaType:(0,lh.getJSONTypes)(t.schemaType)}};t.before?c_e.call(this,o,a,t.before):o.rules.push(a),i.all[e]=a,(n=t.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function c_e(e,t,r){let n=e.rules.findIndex(s=>s.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function u_e(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=O2(t)),e.validateSchema=this.compile(t,!0))}var l_e={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function O2(e){return{anyOf:[e,l_e]}}});var N2=y(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});var d_e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};VS.default=d_e});var j2=y(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.callRef=Ro.getValidate=void 0;var f_e=Cl(),A2=nn(),jr=ye(),rc=qs(),I2=ih(),dh=Me(),p_e={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:o,opts:a,self:c}=n,{root:l}=i;if((r==="#"||r==="#/")&&s===l.baseId)return d();let u=I2.resolveRef.call(c,l,s,r);if(u===void 0)throw new f_e.default(n.opts.uriResolver,s,r);if(u instanceof I2.SchemaEnv)return p(u);return m(u);function d(){if(i===l)return fh(e,o,i,i.$async);let f=t.scopeValue("root",{ref:l});return fh(e,(0,jr._)`${f}.validate`,l,l.$async)}function p(f){let h=C2(e,f);fh(e,h,f,f.$async)}function m(f){let h=t.scopeValue("schema",a.code.source===!0?{ref:f,code:(0,jr.stringify)(f)}:{ref:f}),v=t.name("valid"),b=e.subschema({schema:f,dataTypes:[],schemaPath:jr.nil,topSchemaRef:h,errSchemaPath:r},v);e.mergeEvaluated(b),e.ok(v)}}};function C2(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,jr._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Ro.getValidate=C2;function fh(e,t,r,n){let{gen:s,it:i}=e,{allErrors:o,schemaEnv:a,opts:c}=i,l=c.passContext?rc.default.this:jr.nil;n?u():d();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let f=s.let("valid");s.try(()=>{s.code((0,jr._)`await ${(0,A2.callValidateCode)(e,t,l)}`),m(t),o||s.assign(f,!0)},h=>{s.if((0,jr._)`!(${h} instanceof ${i.ValidationError})`,()=>s.throw(h)),p(h),o||s.assign(f,!1)}),e.ok(f)}function d(){e.result((0,A2.callValidateCode)(e,t,l),()=>m(t),()=>p(t))}function p(f){let h=(0,jr._)`${f}.errors`;s.assign(rc.default.vErrors,(0,jr._)`${rc.default.vErrors} === null ? ${h} : ${rc.default.vErrors}.concat(${h})`),s.assign(rc.default.errors,(0,jr._)`${rc.default.vErrors}.length`)}function m(f){var h;if(!i.opts.unevaluated)return;let v=(h=r?.validate)===null||h===void 0?void 0:h.evaluated;if(i.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(i.props=dh.mergeEvaluated.props(s,v.props,i.props));else{let b=s.var("props",(0,jr._)`${f}.evaluated.props`);i.props=dh.mergeEvaluated.props(s,b,i.props,jr.Name)}if(i.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(i.items=dh.mergeEvaluated.items(s,v.items,i.items));else{let b=s.var("items",(0,jr._)`${f}.evaluated.items`);i.items=dh.mergeEvaluated.items(s,b,i.items,jr.Name)}}}Ro.callRef=fh;Ro.default=p_e});var q2=y(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});var m_e=N2(),h_e=j2(),y_e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",m_e.default,h_e.default];HS.default=y_e});var D2=y(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});var ph=ye(),Ei=ph.operators,mh={maximum:{okStr:"<=",ok:Ei.LTE,fail:Ei.GT},minimum:{okStr:">=",ok:Ei.GTE,fail:Ei.LT},exclusiveMaximum:{okStr:"<",ok:Ei.LT,fail:Ei.GTE},exclusiveMinimum:{okStr:">",ok:Ei.GT,fail:Ei.LTE}},g_e={message:({keyword:e,schemaCode:t})=>(0,ph.str)`must be ${mh[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ph._)`{comparison: ${mh[e].okStr}, limit: ${t}}`},v_e={keyword:Object.keys(mh),type:"number",schemaType:"number",$data:!0,error:g_e,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,ph._)`${r} ${mh[t].fail} ${n} || isNaN(${r})`)}};BS.default=v_e});var L2=y(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});var Fl=ye(),__e={message:({schemaCode:e})=>(0,Fl.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Fl._)`{multipleOf: ${e}}`},b_e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:__e,code(e){let{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,o=t.let("res"),a=i?(0,Fl._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,Fl._)`${o} !== parseInt(${o})`;e.fail$data((0,Fl._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};KS.default=b_e});var M2=y(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});function F2(e){let t=e.length,r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}GS.default=F2;F2.code='require("ajv/dist/runtime/ucs2length").default'});var z2=y(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});var Po=ye(),w_e=Me(),x_e=M2(),S_e={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,Po.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Po._)`{limit: ${e}}`},E_e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:S_e,code(e){let{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?Po.operators.GT:Po.operators.LT,o=s.opts.unicode===!1?(0,Po._)`${r}.length`:(0,Po._)`${(0,w_e.useFunc)(e.gen,x_e.default)}(${r})`;e.fail$data((0,Po._)`${o} ${i} ${n}`)}};JS.default=E_e});var U2=y(WS=>{"use strict";Object.defineProperty(WS,"__esModule",{value:!0});var $_e=nn(),hh=ye(),R_e={message:({schemaCode:e})=>(0,hh.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,hh._)`{pattern: ${e}}`},P_e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:R_e,code(e){let{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,o=i.opts.unicodeRegExp?"u":"",a=r?(0,hh._)`(new RegExp(${s}, ${o}))`:(0,$_e.usePattern)(e,n);e.fail$data((0,hh._)`!${a}.test(${t})`)}};WS.default=P_e});var V2=y(YS=>{"use strict";Object.defineProperty(YS,"__esModule",{value:!0});var Ml=ye(),T_e={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,Ml.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ml._)`{limit: ${e}}`},O_e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:T_e,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Ml.operators.GT:Ml.operators.LT;e.fail$data((0,Ml._)`Object.keys(${r}).length ${s} ${n}`)}};YS.default=O_e});var H2=y(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});var zl=nn(),Ul=ye(),k_e=Me(),N_e={message:({params:{missingProperty:e}})=>(0,Ul.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ul._)`{missingProperty: ${e}}`},A_e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:N_e,code(e){let{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:o}=e,{opts:a}=o;if(!i&&r.length===0)return;let c=r.length>=a.loopRequired;if(o.allErrors?l():u(),a.strictRequired){let m=e.parentSchema.properties,{definedProperties:f}=e.it;for(let h of r)if(m?.[h]===void 0&&!f.has(h)){let v=o.schemaEnv.baseId+o.errSchemaPath,b=`required property "${h}" is not defined at "${v}" (strictRequired)`;(0,k_e.checkStrictMode)(o,b,o.opts.strictRequired)}}function l(){if(c||i)e.block$data(Ul.nil,d);else for(let m of r)(0,zl.checkReportMissingProp)(e,m)}function u(){let m=t.let("missing");if(c||i){let f=t.let("valid",!0);e.block$data(f,()=>p(m,f)),e.ok(f)}else t.if((0,zl.checkMissingProp)(e,r,m)),(0,zl.reportMissingProp)(e,m),t.else()}function d(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,zl.noPropertyInData)(t,s,m,a.ownProperties),()=>e.error())})}function p(m,f){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(f,(0,zl.propertyInData)(t,s,m,a.ownProperties)),t.if((0,Ul.not)(f),()=>{e.error(),t.break()})},Ul.nil)}}};XS.default=A_e});var B2=y(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});var Vl=ye(),I_e={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,Vl.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Vl._)`{limit: ${e}}`},C_e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:I_e,code(e){let{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?Vl.operators.GT:Vl.operators.LT;e.fail$data((0,Vl._)`${r}.length ${s} ${n}`)}};QS.default=C_e});var yh=y(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});var K2=Kr();K2.code='require("ajv/dist/runtime/equal").default';ZS.default=K2});var G2=y(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});var eE=Ol(),Ht=ye(),j_e=Me(),q_e=yh(),D_e={message:({params:{i:e,j:t}})=>(0,Ht.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ht._)`{i: ${e}, j: ${t}}`},L_e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:D_e,code(e){let{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:o,it:a}=e;if(!n&&!s)return;let c=t.let("valid"),l=i.items?(0,eE.getSchemaTypes)(i.items):[];e.block$data(c,u,(0,Ht._)`${o} === false`),e.ok(c);function u(){let f=t.let("i",(0,Ht._)`${r}.length`),h=t.let("j");e.setParams({i:f,j:h}),t.assign(c,!0),t.if((0,Ht._)`${f} > 1`,()=>(d()?p:m)(f,h))}function d(){return l.length>0&&!l.some(f=>f==="object"||f==="array")}function p(f,h){let v=t.name("item"),b=(0,eE.checkDataTypes)(l,v,a.opts.strictNumbers,eE.DataType.Wrong),S=t.const("indices",(0,Ht._)`{}`);t.for((0,Ht._)`;${f}--;`,()=>{t.let(v,(0,Ht._)`${r}[${f}]`),t.if(b,(0,Ht._)`continue`),l.length>1&&t.if((0,Ht._)`typeof ${v} == "string"`,(0,Ht._)`${v} += "_"`),t.if((0,Ht._)`typeof ${S}[${v}] == "number"`,()=>{t.assign(h,(0,Ht._)`${S}[${v}]`),e.error(),t.assign(c,!1).break()}).code((0,Ht._)`${S}[${v}] = ${f}`)})}function m(f,h){let v=(0,j_e.useFunc)(t,q_e.default),b=t.name("outer");t.label(b).for((0,Ht._)`;${f}--;`,()=>t.for((0,Ht._)`${h} = ${f}; ${h}--;`,()=>t.if((0,Ht._)`${v}(${r}[${f}], ${r}[${h}])`,()=>{e.error(),t.assign(c,!1).break(b)})))}}};tE.default=L_e});var J2=y(nE=>{"use strict";Object.defineProperty(nE,"__esModule",{value:!0});var rE=ye(),F_e=Me(),M_e=yh(),z_e={message:"must be equal to constant",params:({schemaCode:e})=>(0,rE._)`{allowedValue: ${e}}`},U_e={keyword:"const",$data:!0,error:z_e,code(e){let{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,rE._)`!${(0,F_e.useFunc)(t,M_e.default)}(${r}, ${s})`):e.fail((0,rE._)`${i} !== ${r}`)}};nE.default=U_e});var W2=y(sE=>{"use strict";Object.defineProperty(sE,"__esModule",{value:!0});var Hl=ye(),V_e=Me(),H_e=yh(),B_e={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Hl._)`{allowedValues: ${e}}`},K_e={keyword:"enum",schemaType:"array",$data:!0,error:B_e,code(e){let{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let a=s.length>=o.opts.loopEnum,c,l=()=>c??(c=(0,V_e.useFunc)(t,H_e.default)),u;if(a||n)u=t.let("valid"),e.block$data(u,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let m=t.const("vSchema",i);u=(0,Hl.or)(...s.map((f,h)=>p(m,h)))}e.pass(u);function d(){t.assign(u,!1),t.forOf("v",i,m=>t.if((0,Hl._)`${l()}(${r}, ${m})`,()=>t.assign(u,!0).break()))}function p(m,f){let h=s[f];return typeof h=="object"&&h!==null?(0,Hl._)`${l()}(${r}, ${m}[${f}])`:(0,Hl._)`${r} === ${h}`}}};sE.default=K_e});var Y2=y(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});var G_e=D2(),J_e=L2(),W_e=z2(),Y_e=U2(),X_e=V2(),Q_e=H2(),Z_e=B2(),e0e=G2(),t0e=J2(),r0e=W2(),n0e=[G_e.default,J_e.default,W_e.default,Y_e.default,X_e.default,Q_e.default,Z_e.default,e0e.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},t0e.default,r0e.default];iE.default=n0e});var aE=y(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.validateAdditionalItems=void 0;var To=ye(),oE=Me(),s0e={message:({params:{len:e}})=>(0,To.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,To._)`{limit: ${e}}`},i0e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:s0e,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,oE.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}X2(e,n)}};function X2(e,t){let{gen:r,schema:n,data:s,keyword:i,it:o}=e;o.items=!0;let a=r.const("len",(0,To._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,To._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,oE.alwaysValidSchema)(o,n)){let l=r.var("valid",(0,To._)`${a} <= ${t.length}`);r.if((0,To.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,a,u=>{e.subschema({keyword:i,dataProp:u,dataPropType:oE.Type.Num},l),o.allErrors||r.if((0,To.not)(l),()=>r.break())})}}Bl.validateAdditionalItems=X2;Bl.default=i0e});var cE=y(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.validateTuple=void 0;var Q2=ye(),gh=Me(),o0e=nn(),a0e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return Z2(e,"additionalItems",t);r.items=!0,!(0,gh.alwaysValidSchema)(r,t)&&e.ok((0,o0e.validateArray)(e))}};function Z2(e,t,r=e.schema){let{gen:n,parentSchema:s,data:i,keyword:o,it:a}=e;u(s),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=gh.mergeEvaluated.items(n,r.length,a.items));let c=n.name("valid"),l=n.const("len",(0,Q2._)`${i}.length`);r.forEach((d,p)=>{(0,gh.alwaysValidSchema)(a,d)||(n.if((0,Q2._)`${l} > ${p}`,()=>e.subschema({keyword:o,schemaProp:p,dataProp:p},c)),e.ok(c))});function u(d){let{opts:p,errSchemaPath:m}=a,f=r.length,h=f===d.minItems&&(f===d.maxItems||d[t]===!1);if(p.strictTuples&&!h){let v=`"${o}" is ${f}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,gh.checkStrictMode)(a,v,p.strictTuples)}}}Kl.validateTuple=Z2;Kl.default=a0e});var ez=y(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});var c0e=cE(),u0e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,c0e.validateTuple)(e,"items")};uE.default=u0e});var rz=y(lE=>{"use strict";Object.defineProperty(lE,"__esModule",{value:!0});var tz=ye(),l0e=Me(),d0e=nn(),f0e=aE(),p0e={message:({params:{len:e}})=>(0,tz.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,tz._)`{limit: ${e}}`},m0e={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:p0e,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,l0e.alwaysValidSchema)(n,t)&&(s?(0,f0e.validateAdditionalItems)(e,s):e.ok((0,d0e.validateArray)(e)))}};lE.default=m0e});var nz=y(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});var on=ye(),vh=Me(),h0e={message:({params:{min:e,max:t}})=>t===void 0?(0,on.str)`must contain at least ${e} valid item(s)`:(0,on.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,on._)`{minContains: ${e}}`:(0,on._)`{minContains: ${e}, maxContains: ${t}}`},y0e={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:h0e,code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e,o,a,{minContains:c,maxContains:l}=n;i.opts.next?(o=c===void 0?1:c,a=l):o=1;let u=t.const("len",(0,on._)`${s}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,vh.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,vh.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,vh.alwaysValidSchema)(i,r)){let h=(0,on._)`${u} >= ${o}`;a!==void 0&&(h=(0,on._)`${h} && ${u} <= ${a}`),e.pass(h);return}i.items=!0;let d=t.name("valid");a===void 0&&o===1?m(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),a!==void 0&&t.if((0,on._)`${s}.length > 0`,p)):(t.let(d,!1),p()),e.result(d,()=>e.reset());function p(){let h=t.name("_valid"),v=t.let("count",0);m(h,()=>t.if(h,()=>f(v)))}function m(h,v){t.forRange("i",0,u,b=>{e.subschema({keyword:"contains",dataProp:b,dataPropType:vh.Type.Num,compositeRule:!0},h),v()})}function f(h){t.code((0,on._)`${h}++`),a===void 0?t.if((0,on._)`${h} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,on._)`${h} > ${a}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,on._)`${h} >= ${o}`,()=>t.assign(d,!0)))}}};dE.default=y0e});var oz=y(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.validateSchemaDeps=ns.validatePropertyDeps=ns.error=void 0;var fE=ye(),g0e=Me(),Gl=nn();ns.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,fE.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,fE._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var v0e={keyword:"dependencies",type:"object",schemaType:"object",error:ns.error,code(e){let[t,r]=_0e(e);sz(e,t),iz(e,r)}};function _0e({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let s=Array.isArray(e[n])?t:r;s[n]=e[n]}return[t,r]}function sz(e,t=e.schema){let{gen:r,data:n,it:s}=e;if(Object.keys(t).length===0)return;let i=r.let("missing");for(let o in t){let a=t[o];if(a.length===0)continue;let c=(0,Gl.propertyInData)(r,n,o,s.opts.ownProperties);e.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),s.allErrors?r.if(c,()=>{for(let l of a)(0,Gl.checkReportMissingProp)(e,l)}):(r.if((0,fE._)`${c} && (${(0,Gl.checkMissingProp)(e,a,i)})`),(0,Gl.reportMissingProp)(e,i),r.else())}}ns.validatePropertyDeps=sz;function iz(e,t=e.schema){let{gen:r,data:n,keyword:s,it:i}=e,o=r.name("valid");for(let a in t)(0,g0e.alwaysValidSchema)(i,t[a])||(r.if((0,Gl.propertyInData)(r,n,a,i.opts.ownProperties),()=>{let c=e.subschema({keyword:s,schemaProp:a},o);e.mergeValidEvaluated(c,o)},()=>r.var(o,!0)),e.ok(o))}ns.validateSchemaDeps=iz;ns.default=v0e});var cz=y(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});var az=ye(),b0e=Me(),w0e={message:"property name must be valid",params:({params:e})=>(0,az._)`{propertyName: ${e.propertyName}}`},x0e={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:w0e,code(e){let{gen:t,schema:r,data:n,it:s}=e;if((0,b0e.alwaysValidSchema)(s,r))return;let i=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,az.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};pE.default=x0e});var hE=y(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});var _h=nn(),On=ye(),S0e=qs(),bh=Me(),E0e={message:"must NOT have additional properties",params:({params:e})=>(0,On._)`{additionalProperty: ${e.additionalProperty}}`},$0e={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:E0e,code(e){let{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,bh.alwaysValidSchema)(o,r))return;let l=(0,_h.allSchemaProperties)(n.properties),u=(0,_h.allSchemaProperties)(n.patternProperties);d(),e.ok((0,On._)`${i} === ${S0e.default.errors}`);function d(){t.forIn("key",s,v=>{!l.length&&!u.length?f(v):t.if(p(v),()=>f(v))})}function p(v){let b;if(l.length>8){let S=(0,bh.schemaRefOrVal)(o,n.properties,"properties");b=(0,_h.isOwnProperty)(t,S,v)}else l.length?b=(0,On.or)(...l.map(S=>(0,On._)`${v} === ${S}`)):b=On.nil;return u.length&&(b=(0,On.or)(b,...u.map(S=>(0,On._)`${(0,_h.usePattern)(e,S)}.test(${v})`))),(0,On.not)(b)}function m(v){t.code((0,On._)`delete ${s}[${v}]`)}function f(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,bh.alwaysValidSchema)(o,r)){let b=t.name("valid");c.removeAdditional==="failing"?(h(v,b,!1),t.if((0,On.not)(b),()=>{e.reset(),m(v)})):(h(v,b),a||t.if((0,On.not)(b),()=>t.break()))}}function h(v,b,S){let _={keyword:"additionalProperties",dataProp:v,dataPropType:bh.Type.Str};S===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,b)}}};mE.default=$0e});var dz=y(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});var R0e=Il(),uz=nn(),yE=Me(),lz=hE(),P0e={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&lz.default.code(new R0e.KeywordCxt(i,lz.default,"additionalProperties"));let o=(0,uz.allSchemaProperties)(r);for(let d of o)i.definedProperties.add(d);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=yE.mergeEvaluated.props(t,(0,yE.toHash)(o),i.props));let a=o.filter(d=>!(0,yE.alwaysValidSchema)(i,r[d]));if(a.length===0)return;let c=t.name("valid");for(let d of a)l(d)?u(d):(t.if((0,uz.propertyInData)(t,s,d,i.opts.ownProperties)),u(d),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(c);function l(d){return i.opts.useDefaults&&!i.compositeRule&&r[d].default!==void 0}function u(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};gE.default=P0e});var hz=y(vE=>{"use strict";Object.defineProperty(vE,"__esModule",{value:!0});var fz=nn(),wh=ye(),pz=Me(),mz=Me(),T0e={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:o}=i,a=(0,fz.allSchemaProperties)(r),c=a.filter(h=>(0,pz.alwaysValidSchema)(i,r[h]));if(a.length===0||c.length===a.length&&(!i.opts.unevaluated||i.props===!0))return;let l=o.strictSchema&&!o.allowMatchingProperties&&s.properties,u=t.name("valid");i.props!==!0&&!(i.props instanceof wh.Name)&&(i.props=(0,mz.evaluatedPropsToName)(t,i.props));let{props:d}=i;p();function p(){for(let h of a)l&&m(h),i.allErrors?f(h):(t.var(u,!0),f(h),t.if(u))}function m(h){for(let v in l)new RegExp(h).test(v)&&(0,pz.checkStrictMode)(i,`property ${v} matches pattern ${h} (use allowMatchingProperties)`)}function f(h){t.forIn("key",n,v=>{t.if((0,wh._)`${(0,fz.usePattern)(e,h)}.test(${v})`,()=>{let b=c.includes(h);b||e.subschema({keyword:"patternProperties",schemaProp:h,dataProp:v,dataPropType:mz.Type.Str},u),i.opts.unevaluated&&d!==!0?t.assign((0,wh._)`${d}[${v}]`,!0):!b&&!i.allErrors&&t.if((0,wh.not)(u),()=>t.break())})})}}};vE.default=T0e});var yz=y(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});var O0e=Me(),k0e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,O0e.alwaysValidSchema)(n,r)){e.fail();return}let s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};_E.default=k0e});var gz=y(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0});var N0e=nn(),A0e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:N0e.validateUnion,error:{message:"must match a schema in anyOf"}};bE.default=A0e});var vz=y(wE=>{"use strict";Object.defineProperty(wE,"__esModule",{value:!0});var xh=ye(),I0e=Me(),C0e={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,xh._)`{passingSchemas: ${e.passing}}`},j0e={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:C0e,code(e){let{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let i=r,o=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){i.forEach((u,d)=>{let p;(0,I0e.alwaysValidSchema)(s,u)?t.var(c,!0):p=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&t.if((0,xh._)`${c} && ${o}`).assign(o,!1).assign(a,(0,xh._)`[${a}, ${d}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(a,d),p&&e.mergeEvaluated(p,xh.Name)})})}}};wE.default=j0e});var _z=y(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});var q0e=Me(),D0e={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=t.name("valid");r.forEach((i,o)=>{if((0,q0e.alwaysValidSchema)(n,i))return;let a=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(a)})}};xE.default=D0e});var xz=y(SE=>{"use strict";Object.defineProperty(SE,"__esModule",{value:!0});var Sh=ye(),wz=Me(),L0e={message:({params:e})=>(0,Sh.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Sh._)`{failingKeyword: ${e.ifClause}}`},F0e={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:L0e,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,wz.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=bz(n,"then"),i=bz(n,"else");if(!s&&!i)return;let o=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),s&&i){let u=t.let("ifClause");e.setParams({ifClause:u}),t.if(a,l("then",u),l("else",u))}else s?t.if(a,l("then")):t.if((0,Sh.not)(a),l("else"));e.pass(o,()=>e.error(!0));function c(){let u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(u)}function l(u,d){return()=>{let p=e.subschema({keyword:u},a);t.assign(o,a),e.mergeValidEvaluated(p,o),d?t.assign(d,(0,Sh._)`${u}`):e.setParams({ifClause:u})}}}};function bz(e,t){let r=e.schema[t];return r!==void 0&&!(0,wz.alwaysValidSchema)(e,r)}SE.default=F0e});var Sz=y(EE=>{"use strict";Object.defineProperty(EE,"__esModule",{value:!0});var M0e=Me(),z0e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,M0e.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};EE.default=z0e});var Ez=y($E=>{"use strict";Object.defineProperty($E,"__esModule",{value:!0});var U0e=aE(),V0e=ez(),H0e=cE(),B0e=rz(),K0e=nz(),G0e=oz(),J0e=cz(),W0e=hE(),Y0e=dz(),X0e=hz(),Q0e=yz(),Z0e=gz(),ebe=vz(),tbe=_z(),rbe=xz(),nbe=Sz();function sbe(e=!1){let t=[Q0e.default,Z0e.default,ebe.default,tbe.default,rbe.default,nbe.default,J0e.default,W0e.default,G0e.default,Y0e.default,X0e.default];return e?t.push(V0e.default,B0e.default):t.push(U0e.default,H0e.default),t.push(K0e.default),t}$E.default=sbe});var $z=y(RE=>{"use strict";Object.defineProperty(RE,"__esModule",{value:!0});var wt=ye(),ibe={message:({schemaCode:e})=>(0,wt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,wt._)`{format: ${e}}`},obe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:ibe,code(e,t){let{gen:r,data:n,$data:s,schema:i,schemaCode:o,it:a}=e,{opts:c,errSchemaPath:l,schemaEnv:u,self:d}=a;if(!c.validateFormats)return;s?p():m();function p(){let f=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),h=r.const("fDef",(0,wt._)`${f}[${o}]`),v=r.let("fType"),b=r.let("format");r.if((0,wt._)`typeof ${h} == "object" && !(${h} instanceof RegExp)`,()=>r.assign(v,(0,wt._)`${h}.type || "string"`).assign(b,(0,wt._)`${h}.validate`),()=>r.assign(v,(0,wt._)`"string"`).assign(b,h)),e.fail$data((0,wt.or)(S(),_()));function S(){return c.strictSchema===!1?wt.nil:(0,wt._)`${o} && !${b}`}function _(){let g=u.$async?(0,wt._)`(${h}.async ? await ${b}(${n}) : ${b}(${n}))`:(0,wt._)`${b}(${n})`,x=(0,wt._)`(typeof ${b} == "function" ? ${g} : ${b}.test(${n}))`;return(0,wt._)`${b} && ${b} !== true && ${v} === ${t} && !${x}`}}function m(){let f=d.formats[i];if(!f){S();return}if(f===!0)return;let[h,v,b]=_(f);h===t&&e.pass(g());function S(){if(c.strictSchema===!1){d.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${i}" ignored in schema at path "${l}"`}}function _(x){let R=x instanceof RegExp?(0,wt.regexpCode)(x):c.code.formats?(0,wt._)`${c.code.formats}${(0,wt.getProperty)(i)}`:void 0,w=r.scopeValue("formats",{key:i,ref:x,code:R});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,wt._)`${w}.validate`]:["string",x,w]}function g(){if(typeof f=="object"&&!(f instanceof RegExp)&&f.async){if(!u.$async)throw new Error("async format in sync schema");return(0,wt._)`await ${b}(${n})`}return typeof v=="function"?(0,wt._)`${b}(${n})`:(0,wt._)`${b}.test(${n})`}}}};RE.default=obe});var Rz=y(PE=>{"use strict";Object.defineProperty(PE,"__esModule",{value:!0});var abe=$z(),cbe=[abe.default];PE.default=cbe});var Pz=y(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.contentVocabulary=nc.metadataVocabulary=void 0;nc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];nc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Oz=y(TE=>{"use strict";Object.defineProperty(TE,"__esModule",{value:!0});var ube=q2(),lbe=Y2(),dbe=Ez(),fbe=Rz(),Tz=Pz(),pbe=[ube.default,lbe.default,(0,dbe.default)(),fbe.default,Tz.metadataVocabulary,Tz.contentVocabulary];TE.default=pbe});var Nz=y(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.DiscrError=void 0;var kz;(function(e){e.Tag="tag",e.Mapping="mapping"})(kz||(Eh.DiscrError=kz={}))});var Iz=y(kE=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});var sc=ye(),OE=Nz(),Az=ih(),mbe=Cl(),hbe=Me(),ybe={message:({params:{discrError:e,tagName:t}})=>e===OE.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,sc._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},gbe={keyword:"discriminator",type:"object",schemaType:"object",error:ybe,code(e){let{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:o}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let c=t.let("valid",!1),l=t.const("tag",(0,sc._)`${r}${(0,sc.getProperty)(a)}`);t.if((0,sc._)`typeof ${l} == "string"`,()=>u(),()=>e.error(!1,{discrError:OE.DiscrError.Tag,tag:l,tagName:a})),e.ok(c);function u(){let m=p();t.if(!1);for(let f in m)t.elseIf((0,sc._)`${l} === ${f}`),t.assign(c,d(m[f]));t.else(),e.error(!1,{discrError:OE.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function d(m){let f=t.name("valid"),h=e.subschema({keyword:"oneOf",schemaProp:m},f);return e.mergeEvaluated(h,sc.Name),f}function p(){var m;let f={},h=b(s),v=!0;for(let g=0;g<o.length;g++){let x=o[g];if(x?.$ref&&!(0,hbe.schemaHasRulesButRef)(x,i.self.RULES)){let w=x.$ref;if(x=Az.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,w),x instanceof Az.SchemaEnv&&(x=x.schema),x===void 0)throw new mbe.default(i.opts.uriResolver,i.baseId,w)}let R=(m=x?.properties)===null||m===void 0?void 0:m[a];if(typeof R!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(h||b(x)),S(R,g)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return f;function b({required:g}){return Array.isArray(g)&&g.includes(a)}function S(g,x){if(g.const)_(g.const,x);else if(g.enum)for(let R of g.enum)_(R,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(g,x){if(typeof g!="string"||g in f)throw new Error(`discriminator: "${a}" values must be unique strings`);f[g]=x}}}};kE.default=gbe});var Cz=y((Dqe,vbe)=>{vbe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var qz=y((ut,NE)=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.MissingRefError=ut.ValidationError=ut.CodeGen=ut.Name=ut.nil=ut.stringify=ut.str=ut._=ut.KeywordCxt=ut.Ajv=void 0;var _be=k2(),bbe=Oz(),wbe=Iz(),jz=Cz(),xbe=["/properties"],$h="http://json-schema.org/draft-07/schema",ic=class extends _be.default{_addVocabularies(){super._addVocabularies(),bbe.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(wbe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(jz,xbe):jz;this.addMetaSchema(t,$h,!1),this.refs["http://json-schema.org/schema"]=$h}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema($h)?$h:void 0)}};ut.Ajv=ic;NE.exports=ut=ic;NE.exports.Ajv=ic;Object.defineProperty(ut,"__esModule",{value:!0});ut.default=ic;var Sbe=Il();Object.defineProperty(ut,"KeywordCxt",{enumerable:!0,get:function(){return Sbe.KeywordCxt}});var oc=ye();Object.defineProperty(ut,"_",{enumerable:!0,get:function(){return oc._}});Object.defineProperty(ut,"str",{enumerable:!0,get:function(){return oc.str}});Object.defineProperty(ut,"stringify",{enumerable:!0,get:function(){return oc.stringify}});Object.defineProperty(ut,"nil",{enumerable:!0,get:function(){return oc.nil}});Object.defineProperty(ut,"Name",{enumerable:!0,get:function(){return oc.Name}});Object.defineProperty(ut,"CodeGen",{enumerable:!0,get:function(){return oc.CodeGen}});var Ebe=nh();Object.defineProperty(ut,"ValidationError",{enumerable:!0,get:function(){return Ebe.default}});var $be=Cl();Object.defineProperty(ut,"MissingRefError",{enumerable:!0,get:function(){return $be.default}})});var Dz=y(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.formatLimitDefinition=void 0;var Rbe=qz(),kn=ye(),$i=kn.operators,Rh={formatMaximum:{okStr:"<=",ok:$i.LTE,fail:$i.GT},formatMinimum:{okStr:">=",ok:$i.GTE,fail:$i.LT},formatExclusiveMaximum:{okStr:"<",ok:$i.LT,fail:$i.GTE},formatExclusiveMinimum:{okStr:">",ok:$i.GT,fail:$i.LTE}},Pbe={message:({keyword:e,schemaCode:t})=>kn.str`should be ${Rh[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>kn._`{comparison: ${Rh[e].okStr}, limit: ${t}}`};ac.formatLimitDefinition={keyword:Object.keys(Rh),type:"string",schemaType:"string",$data:!0,error:Pbe,code(e){let{gen:t,data:r,schemaCode:n,keyword:s,it:i}=e,{opts:o,self:a}=i;if(!o.validateFormats)return;let c=new Rbe.KeywordCxt(i,a.RULES.all.format.definition,"format");c.$data?l():u();function l(){let p=t.scopeValue("formats",{ref:a.formats,code:o.code.formats}),m=t.const("fmt",kn._`${p}[${c.schemaCode}]`);e.fail$data(kn.or(kn._`typeof ${m} != "object"`,kn._`${m} instanceof RegExp`,kn._`typeof ${m}.compare != "function"`,d(m)))}function u(){let p=c.schema,m=a.formats[p];if(!m||m===!0)return;if(typeof m!="object"||m instanceof RegExp||typeof m.compare!="function")throw new Error(`"${s}": format "${p}" does not define "compare" function`);let f=t.scopeValue("formats",{key:p,ref:m,code:o.code.formats?kn._`${o.code.formats}${kn.getProperty(p)}`:void 0});e.fail$data(d(f))}function d(p){return kn._`${p}.compare(${r}, ${n}) ${Rh[s].fail} 0`}},dependencies:["format"]};var Tbe=e=>(e.addKeyword(ac.formatLimitDefinition),e);ac.default=Tbe});var zz=y((Jl,Mz)=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var cc=lM(),Obe=Dz(),AE=ye(),Lz=new AE.Name("fullFormats"),kbe=new AE.Name("fastFormats"),IE=(e,t={keywords:!0})=>{if(Array.isArray(t))return Fz(e,t,cc.fullFormats,Lz),e;let[r,n]=t.mode==="fast"?[cc.fastFormats,kbe]:[cc.fullFormats,Lz],s=t.formats||cc.formatNames;return Fz(e,s,r,n),t.keywords&&Obe.default(e),e};IE.get=(e,t="full")=>{let n=(t==="fast"?cc.fastFormats:cc.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function Fz(e,t,r,n){var s,i;(s=(i=e.opts.code).formats)!==null&&s!==void 0||(i.formats=AE._`require("ajv-formats/dist/formats").${n}`);for(let o of t)e.addFormat(o,r[o])}Mz.exports=Jl=IE;Object.defineProperty(Jl,"__esModule",{value:!0});Jl.default=IE});var Hz=y((Fqe,Vz)=>{"use strict";var Nbe=cF().default,Abe=Vx(),Uz=Hx(),CE=class{constructor(t,r){r.mode==="JTD"?this.ajv=new Abe(Object.assign({},Uz,r.customOptions)):this.ajv=new Nbe(Object.assign({},Uz,r.customOptions));let n=!0;if(r.plugins&&r.plugins.length>0)for(let i of r.plugins)Array.isArray(i)?(n=n&&i[0].name!=="formatsPlugin",i[0](this.ajv,i[1])):(n=n&&i.name!=="formatsPlugin",i(this.ajv));n&&zz()(this.ajv),r.onCreate?.(this.ajv);let s=Object.values(t);for(let i of s)this.ajv.addSchema(i)}buildValidatorFunction({schema:t}){if(t.$id){let r=this.ajv.getSchema(t.$id);if(r)return r}return this.ajv.compile(t)}};Vz.exports=CE});var Kz=y((Mqe,Bz)=>{"use strict";var Ibe=Vx(),Cbe=Hx(),jE=class{constructor(t,r){this.ajv=new Ibe(Object.assign({},Cbe,r))}buildSerializerFunction({schema:t}){return this.ajv.compileSerializer(t)}};Bz.exports=jE});var Wz=y((Yl,Jz)=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});var Wl=am(),Nn=xa();function Gz(e,t){if(!e.opts.code.source)throw new Error("moduleCode: ajv instance must have code.source option");let{_n:r}=e.scope.opts;return typeof t=="function"?s(t.source):t!==void 0?i(t,n):i(e.schemas,a=>a.meta?void 0:e.compile(a.schema));function n(a){let c=e.getSchema(a);if(!c)throw new Error(`moduleCode: no schema with id ${a}`);return c}function s(a){let c={},l=a?.validateName,u=o(c,a);return e.opts.code.esm?`"use strict";${r}export const validate = ${l};${r}export default ${l};${r}${u}`:`"use strict";${r}module.exports = ${l};${r}module.exports.default = ${l};${r}${u}`}function i(a,c){var l;let u={},d=(0,Nn._)`"use strict";`;for(let p in a){let m=c(a[p]);if(m){let f=o(u,m.source),h=e.opts.code.esm?(0,Nn._)`export const ${(0,Nn.getEsmExportName)(p)}`:(0,Nn._)`exports${(0,Nn.getProperty)(p)}`;d=(0,Nn._)`${d}${r}${h} = ${(l=m.source)===null||l===void 0?void 0:l.validateName};${r}${f}`}}return`${d}`}function o(a,c){if(!c)throw new Error('moduleCode: function does not have "source" property');if(p(c.validateName)===Wl.UsedValueState.Completed)return Nn.nil;m(c.validateName,Wl.UsedValueState.Started);let l=e.scope.scopeCode(c.scopeValues,a,d),u=new Nn._Code(`${l}${r}${c.validateCode}`);return c.evaluated?(0,Nn._)`${u}${c.validateName}.evaluated = ${c.evaluated};${r}`:u;function d(f){var h;let v=(h=f.value)===null||h===void 0?void 0:h.ref;if(f.prefix==="validate"&&typeof v=="function")return o(a,v.source);if((f.prefix==="root"||f.prefix==="wrapper")&&typeof v=="object"){let{validate:b,validateName:S}=v;if(!S)throw new Error("ajv internal error");let _=e.opts.code.es5?Wl.varKinds.var:Wl.varKinds.const,g=(0,Nn._)`${_} ${f} = {validate: ${S}};`;if(p(S)===Wl.UsedValueState.Started)return g;let x=o(a,b?.source);return(0,Nn._)`${g}${r}${x}`}}function p(f){var h;return(h=a[f.prefix])===null||h===void 0?void 0:h.get(f)}function m(f,h){let{prefix:v}=f;(a[v]=a[v]||new Map).set(f,h)}}}Jz.exports=Yl=Gz;Object.defineProperty(Yl,"__esModule",{value:!0});Yl.default=Gz});var Qz=y((zqe,Xz)=>{"use strict";var Yz=qE(),jbe=Wz().default;function qbe(e={readMode:!0}){if(e.readMode===!0&&!e.restoreFunction)throw new Error("You must provide a restoreFunction options when readMode ON");if(e.readMode!==!0&&!e.storeFunction)throw new Error("You must provide a storeFunction options when readMode OFF");if(e.readMode===!0)return function(){return function(n){return e.restoreFunction(n)}};let t=Yz();return function(n,s={}){(!s.customOptions||!s.customOptions.code)&&(s.customOptions=Object.assign({},s.customOptions,{code:{source:!0}}));let i=t(n,s);return function(o){let a=i(o),c=jbe(i[Yz.AjvReference].ajv,a);return e.storeFunction(o,c),a}}}Xz.exports=qbe});var qE=y((Uqe,uc)=>{"use strict";var eU=Symbol.for("fastify.ajv-compiler.reference"),Dbe=Hz(),Lbe=Kz();function DE(e){let t=new Map,r=new Map;return e&&e.jtdSerializer===!0?function(s,i){let o=Zz({},i);if(r.has(o))return r.get(o);let a=new Lbe(s,i),c=a.buildSerializerFunction.bind(a);return r.set(o,c),c}:function(s,i){let o=Zz(s,i.customOptions);if(t.has(o))return t.get(o);let a=new Dbe(s,i),c=a.buildValidatorFunction.bind(a);return t.set(o,c),i.customOptions.code!==void 0&&(c[eU]=a),c}}function Zz(e,t){let r=JSON.stringify(e),n=JSON.stringify(t);return`${r}${n}`}uc.exports=DE;uc.exports.default=DE;uc.exports.AjvCompiler=DE;uc.exports.AjvReference=eU;uc.exports.StandaloneValidator=Qz()});var LE=y((Vqe,tU)=>{"use strict";var{buildSchemas:Fbe}=Bc(),Mbe=Pb(),zbe=qE();function Ube(e,t){if(e)return new lc(e,t);let r=Object.assign({buildValidator:null,buildSerializer:null},t?.compilersFactory);r.buildValidator||(r.buildValidator=zbe()),r.buildSerializer||(r.buildSerializer=Mbe());let n={bucket:t&&t.bucket||Fbe,compilersFactory:r,isCustomValidatorCompiler:typeof t?.compilersFactory?.buildValidator=="function",isCustomSerializerCompiler:typeof t?.compilersFactory?.buildValidator=="function"};return new lc(void 0,n)}var lc=class{constructor(t,r){this.opts=r||t?.opts,this.addedSchemas=!1,this.compilersFactory=this.opts.compilersFactory,t?(this.schemaBucket=this.opts.bucket(t.getSchemas()),this.validatorCompiler=t.getValidatorCompiler(),this.serializerCompiler=t.getSerializerCompiler(),this.isCustomValidatorCompiler=t.isCustomValidatorCompiler,this.isCustomSerializerCompiler=t.isCustomSerializerCompiler,this.parent=t):(this.schemaBucket=this.opts.bucket(),this.isCustomValidatorCompiler=this.opts.isCustomValidatorCompiler||!1,this.isCustomSerializerCompiler=this.opts.isCustomSerializerCompiler||!1)}add(t){return this.addedSchemas=!0,this.schemaBucket.add(t)}getSchema(t){return this.schemaBucket.getSchema(t)}getSchemas(){return this.schemaBucket.getSchemas()}setValidatorCompiler(t){this.compilersFactory=Object.assign({},this.compilersFactory,{buildValidator:()=>t}),this.validatorCompiler=t,this.isCustomValidatorCompiler=!0}setSerializerCompiler(t){this.compilersFactory=Object.assign({},this.compilersFactory,{buildSerializer:()=>t}),this.serializerCompiler=t,this.isCustomSerializerCompiler=!0}getValidatorCompiler(){return this.validatorCompiler||this.parent&&this.parent.getValidatorCompiler()}getSerializerCompiler(){return this.serializerCompiler||this.parent&&this.parent.getSerializerCompiler()}getSerializerBuilder(){return this.compilersFactory.buildSerializer||this.parent&&this.parent.getSerializerBuilder()}getValidatorBuilder(){return this.compilersFactory.buildValidator||this.parent&&this.parent.getValidatorBuilder()}setupValidator(t){this.validatorCompiler!==void 0&&!this.addedSchemas||(this.validatorCompiler=this.getValidatorBuilder()(this.schemaBucket.getSchemas(),t.ajv))}setupSerializer(t){this.serializerCompiler!==void 0&&!this.addedSchemas||(this.serializerCompiler=this.getSerializerBuilder()(this.schemaBucket.getSchemas(),t.serializerOpts))}};lc.buildSchemaController=Ube;tU.exports=lc});var HE=y((Hqe,VE)=>{"use strict";var FE=W0(),zE=require("node:assert"),UE=Symbol.for("registered-plugin"),{kTestInternals:Vbe}=At(),{exist:Hbe,existReply:Bbe,existRequest:Kbe}=ib(),{FST_ERR_PLUGIN_VERSION_MISMATCH:Gbe,FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:Jbe}=Jt(),{FSTWRN002:Wbe}=ps();function Xl(e){return e[Symbol.for("plugin-meta")]}function rU(e){let t=nU(e);if(t)return t;let r=require.cache;if(r){let n=Object.keys(r);for(let s=0;s<n.length;s++){let i=n[s];if(r[i].exports===e)return i}}return e.name?e.name:null}function Ybe(e){return e.toString().split(`
`).slice(0,2).map(t=>t.trim()).join(" -- ")}function nU(e){return e[Symbol.for("fastify.display-name")]}function sU(e){return!!e[Symbol.for("skip-override")]}function iU(e){let t=Xl(e);if(!t)return;let r=t.dependencies;r&&(zE(Array.isArray(r),"The dependencies should be an array of strings"),r.forEach(n=>{zE(this[UE].indexOf(n)>-1,`The dependency '${n}' of plugin '${t.name}' is not registered`)}))}function oU(e){let t=Xl(e);if(!t)return;let{decorators:r,name:n}=t;r&&(r.fastify&&ME(this,"Fastify",r.fastify,n),r.reply&&ME(this,"Reply",r.reply,n),r.request&&ME(this,"Request",r.request,n))}var Xbe={Fastify:Hbe,Request:Kbe,Reply:Bbe};function ME(e,t,r,n){zE(Array.isArray(r),"The decorators should be an array of strings"),r.forEach(s=>{let i=typeof n=="string"?` required by '${n}'`:"";if(!Xbe[t].call(e,s))throw new Jbe(s,i,t)})}function Qbe(e){let t=Xl(e);if(!t)return;let r=t.fastify,n=/-rc.+$/.test(this.version);if(!(n===!0&&FE.gt(this.version,FE.coerce(r))===!0)&&r&&FE.satisfies(this.version,r,{includePrerelease:n})===!1)throw new Gbe(t.name,r,this.version)}function Zbe(e){let t=Xl(e);if(!t)return;let r=t.name;if(r)return this[UE].push(r),r}function ewe(e,t){e.constructor.name==="AsyncFunction"&&e.length===3&&Wbe(t||"anonymous")}function twe(e){let t=Zbe.call(this,e)||rU(e);return ewe.call(this,e,t),Qbe.call(this,e),oU.call(this,e),iU.call(this,e),sU(e)}VE.exports={getPluginName:rU,getFuncPreview:Ybe,kRegisteredPlugins:UE,getDisplayName:nU,registerPlugin:twe};VE.exports[Vbe]={shouldSkipOverride:sU,getMeta:Xl,checkDecorators:oU,checkDependencies:iU}});var Ph=y((Bqe,aU)=>{"use strict";function rwe(e,t){let r=t||swe();return e?iwe(e,r):r}function nwe(e,t){return e.genReqId(t)}function swe(){let t=0;return function(){return t=t+1&2147483647,`req-${t.toString(36)}`}}function iwe(e,t){return function(r){return r.headers[e]||t(r)}}aU.exports={getGenReqId:nwe,reqIdGenFactory:rwe}});var dU=y((Kqe,lU)=>{"use strict";var cU=12,owe=0,BE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function awe(e){var t=e.indexOf("%");if(t===-1)return e;for(var r=e.length,n="",s=0,i=0,o=t,a=cU;t>-1&&t<r;){var c=uU(e[t+1],4),l=uU(e[t+2],0),u=c|l,d=BE[u];if(a=BE[256+a+d],i=i<<6|u&BE[364+d],a===cU)n+=e.slice(s,o),n+=i<=65535?String.fromCharCode(i):String.fromCharCode(55232+(i>>10),56320+(i&1023)),i=0,s=t+3,t=o=e.indexOf("%",s);else{if(a===owe)return null;if(t+=3,t<r&&e.charCodeAt(t)===37)continue;return null}}return n+e.slice(s)}var cwe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function uU(e,t){var r=cwe[e];return r===void 0?255:r<<t}lU.exports=awe});var yU=y((Gqe,hU)=>{"use strict";var fU=dU(),pU=/\+/g,mU=function(){};mU.prototype=Object.create(null);function uwe(e){let t=new mU;if(typeof e!="string")return t;let r=e.length,n="",s="",i=-1,o=-1,a=!1,c=!1,l=!1,u=!1,d=!1,p=0;for(let m=0;m<r+1;m++)if(p=m!==r?e.charCodeAt(m):38,p===38){if(d=o>i,d||(o=m),n=e.slice(i+1,o),d||n.length>0){l&&(n=n.replace(pU," ")),a&&(n=fU(n)||n),d&&(s=e.slice(o+1,m),u&&(s=s.replace(pU," ")),c&&(s=fU(s)||s));let f=t[n];f===void 0?t[n]=s:f.pop?f.push(s):t[n]=[f,s]}s="",i=m,o=m,a=!1,c=!1,l=!1,u=!1}else p===61?o<=i?o=m:c=!0:p===43?o>i?u=!0:l=!0:p===37&&(o>i?c=!0:a=!0);return t}hU.exports=uwe});var vU=y((Jqe,gU)=>{var ss=Array.from({length:256},(e,t)=>"%"+((t<16?"0":"")+t.toString(16)).toUpperCase()),lwe=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function dwe(e){let t=e.length;if(t===0)return"";let r="",n=0,s=0;e:for(;s<t;s++){let i=e.charCodeAt(s);for(;i<128;){if(lwe[i]!==1&&(n<s&&(r+=e.slice(n,s)),n=s+1,r+=ss[i]),++s===t)break e;i=e.charCodeAt(s)}if(n<s&&(r+=e.slice(n,s)),i<2048){n=s+1,r+=ss[192|i>>6]+ss[128|i&63];continue}if(i<55296||i>=57344){n=s+1,r+=ss[224|i>>12]+ss[128|i>>6&63]+ss[128|i&63];continue}if(++s,s>=t)throw new Error("URI malformed");let o=e.charCodeAt(s)&1023;n=s+1,i=65536+((i&1023)<<10|o),r+=ss[240|i>>18]+ss[128|i>>12&63]+ss[128|i>>6&63]+ss[128|i&63]}return n===0?e:n<t?r+e.slice(n):r}gU.exports={encodeString:dwe}});var wU=y((Wqe,bU)=>{"use strict";var{encodeString:KE}=vU();function _U(e){let t=typeof e;return t==="string"?KE(e):t==="bigint"?e.toString():t==="boolean"?e?"true":"false":t==="number"&&Number.isFinite(e)?e<1e21?""+e:KE(""+e):""}function fwe(e){let t="";if(e===null||typeof e!="object")return t;let r="&",n=Object.keys(e),s=n.length,i=0;for(let o=0;o<s;o++){let a=n[o],c=e[a],l=KE(a)+"=";if(o&&(t+=r),Array.isArray(c)){i=c.length;for(let u=0;u<i;u++)u&&(t+=r),t+=l,t+=_U(c[u])}else t+=l,t+=_U(c)}return t}bU.exports=fwe});var $U=y((Yqe,Ql)=>{"use strict";var xU=yU(),SU=wU(),EU={parse:xU,stringify:SU};Ql.exports=EU;Ql.exports.default=EU;Ql.exports.parse=xU;Ql.exports.stringify=SU});var PU=y(RU=>{"use strict";Object.defineProperty(RU,"__esModule",{value:!0})});var TU=y(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.types=void 0;var pwe;(function(e){e[e.ROOT=0]="ROOT",e[e.GROUP=1]="GROUP",e[e.POSITION=2]="POSITION",e[e.SET=3]="SET",e[e.RANGE=4]="RANGE",e[e.REPETITION=5]="REPETITION",e[e.REFERENCE=6]="REFERENCE",e[e.CHAR=7]="CHAR"})(pwe=Zl.types||(Zl.types={}))});var kU=y(OU=>{"use strict";Object.defineProperty(OU,"__esModule",{value:!0})});var Ms=y(Fs=>{"use strict";var mwe=Fs&&Fs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GE=Fs&&Fs.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mwe(t,e,r)};Object.defineProperty(Fs,"__esModule",{value:!0});GE(PU(),Fs);GE(TU(),Fs);GE(kU(),Fs)});var Th=y(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.anyChar=ar.notWhitespace=ar.whitespace=ar.notInts=ar.ints=ar.notWords=ar.words=void 0;var Ve=Ms(),NU=()=>[{type:Ve.types.RANGE,from:48,to:57}],AU=()=>[{type:Ve.types.CHAR,value:95},{type:Ve.types.RANGE,from:97,to:122},{type:Ve.types.RANGE,from:65,to:90},{type:Ve.types.RANGE,from:48,to:57}],IU=()=>[{type:Ve.types.CHAR,value:9},{type:Ve.types.CHAR,value:10},{type:Ve.types.CHAR,value:11},{type:Ve.types.CHAR,value:12},{type:Ve.types.CHAR,value:13},{type:Ve.types.CHAR,value:32},{type:Ve.types.CHAR,value:160},{type:Ve.types.CHAR,value:5760},{type:Ve.types.RANGE,from:8192,to:8202},{type:Ve.types.CHAR,value:8232},{type:Ve.types.CHAR,value:8233},{type:Ve.types.CHAR,value:8239},{type:Ve.types.CHAR,value:8287},{type:Ve.types.CHAR,value:12288},{type:Ve.types.CHAR,value:65279}],hwe=()=>[{type:Ve.types.CHAR,value:10},{type:Ve.types.CHAR,value:13},{type:Ve.types.CHAR,value:8232},{type:Ve.types.CHAR,value:8233}];ar.words=()=>({type:Ve.types.SET,set:AU(),not:!1});ar.notWords=()=>({type:Ve.types.SET,set:AU(),not:!0});ar.ints=()=>({type:Ve.types.SET,set:NU(),not:!1});ar.notInts=()=>({type:Ve.types.SET,set:NU(),not:!0});ar.whitespace=()=>({type:Ve.types.SET,set:IU(),not:!1});ar.notWhitespace=()=>({type:Ve.types.SET,set:IU(),not:!0});ar.anyChar=()=>({type:Ve.types.SET,set:hwe(),not:!0})});var jU=y(an=>{"use strict";var ywe=an&&an.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gwe=an&&an.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vwe=an&&an.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ywe(t,e,r);return gwe(t,e),t};Object.defineProperty(an,"__esModule",{value:!0});an.tokenizeClass=an.strToChars=void 0;var CU=Ms(),dc=vwe(Th()),_we="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";an.strToChars=e=>{let t=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return e.replace(t,(r,n,s,i,o,a,c)=>{if(s)return r;let l=n?8:i?parseInt(i,16):o?parseInt(o,16):a?_we.indexOf(a):{0:0,t:9,n:10,v:11,f:12,r:13}[c],u=String.fromCharCode(l);return/[[\]{}^$.|?*+()]/.test(u)?`\\${u}`:u})};an.tokenizeClass=(e,t)=>{var r,n,s,i,o,a,c;let l=[],u,d,p=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(((?:\\)])|(((?:\\)?([^\]])))))|(\])|(?:\\)?([^])/g;for(;(u=p.exec(e))!==null;){let m=(c=(a=(o=(i=(s=(n=(r=u[1]&&dc.words())!==null&&r!==void 0?r:u[2]&&dc.ints())!==null&&n!==void 0?n:u[3]&&dc.whitespace())!==null&&s!==void 0?s:u[4]&&dc.notWords())!==null&&i!==void 0?i:u[5]&&dc.notInts())!==null&&o!==void 0?o:u[6]&&dc.notWhitespace())!==null&&a!==void 0?a:u[7]&&{type:CU.types.RANGE,from:(u[8]||u[9]).charCodeAt(0),to:(d=u[10]).charCodeAt(d.length-1)})!==null&&c!==void 0?c:(d=u[16])&&{type:CU.types.CHAR,value:d.charCodeAt(0)};if(m)l.push(m);else return[l,p.lastIndex]}throw new SyntaxError(`Invalid regular expression: /${t}/: Unterminated character class`)}});var JE=y(is=>{"use strict";var bwe=is&&is.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wwe=is&&is.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DU=is&&is.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bwe(t,e,r);return wwe(t,e),t};Object.defineProperty(is,"__esModule",{value:!0});is.tokenizer=void 0;var qU=DU(jU()),Bt=Ms(),Oo=DU(Th());is.tokenizer=e=>{let t=0,r,n={type:Bt.types.ROOT,stack:[]},s=n,i=n.stack,o=[],a=[],c=0,l=d=>{throw new SyntaxError(`Invalid regular expression: /${e}/: Nothing to repeat at column ${d-1}`)},u=qU.strToChars(e);for(;t<u.length;)switch(r=u[t++]){case"\\":if(t===u.length)throw new SyntaxError(`Invalid regular expression: /${e}/: \\ at end of pattern`);switch(r=u[t++]){case"b":i.push({type:Bt.types.POSITION,value:"b"});break;case"B":i.push({type:Bt.types.POSITION,value:"B"});break;case"w":i.push(Oo.words());break;case"W":i.push(Oo.notWords());break;case"d":i.push(Oo.ints());break;case"D":i.push(Oo.notInts());break;case"s":i.push(Oo.whitespace());break;case"S":i.push(Oo.notWhitespace());break;default:if(/\d/.test(r)){let d=r;for(;t<u.length&&/\d/.test(u[t]);)d+=u[t++];let p=parseInt(d,10),m={type:Bt.types.REFERENCE,value:p};i.push(m),a.push({reference:m,stack:i,index:i.length-1})}else i.push({type:Bt.types.CHAR,value:r.charCodeAt(0)})}break;case"^":i.push({type:Bt.types.POSITION,value:"^"});break;case"$":i.push({type:Bt.types.POSITION,value:"$"});break;case"[":{let d;u[t]==="^"?(d=!0,t++):d=!1;let p=qU.tokenizeClass(u.slice(t),e);t+=p[1],i.push({type:Bt.types.SET,set:p[0],not:d});break}case".":i.push(Oo.anyChar());break;case"(":{let d={type:Bt.types.GROUP,stack:[],remember:!0};if(u[t]==="?"){if(r=u[t+1],t+=2,r==="=")d.followedBy=!0;else if(r==="!")d.notFollowedBy=!0;else if(r!==":")throw new SyntaxError(`Invalid regular expression: /${e}/: Invalid group, character '${r}' after '?' at column ${t-1}`);d.remember=!1}else c+=1;i.push(d),o.push(s),s=d,i=d.stack;break}case")":if(o.length===0)throw new SyntaxError(`Invalid regular expression: /${e}/: Unmatched ) at column ${t-1}`);s=o.pop(),i=s.options?s.options[s.options.length-1]:s.stack;break;case"|":{s.options||(s.options=[s.stack],delete s.stack);let d=[];s.options.push(d),i=d;break}case"{":{let d=/^(\d+)(,(\d+)?)?\}/.exec(u.slice(t)),p,m;d!==null?(i.length===0&&l(t),p=parseInt(d[1],10),m=d[2]?d[3]?parseInt(d[3],10):1/0:p,t+=d[0].length,i.push({type:Bt.types.REPETITION,min:p,max:m,value:i.pop()})):i.push({type:Bt.types.CHAR,value:123});break}case"?":i.length===0&&l(t),i.push({type:Bt.types.REPETITION,min:0,max:1,value:i.pop()});break;case"+":i.length===0&&l(t),i.push({type:Bt.types.REPETITION,min:1,max:1/0,value:i.pop()});break;case"*":i.length===0&&l(t),i.push({type:Bt.types.REPETITION,min:0,max:1/0,value:i.pop()});break;default:i.push({type:Bt.types.CHAR,value:r.charCodeAt(0)})}if(o.length!==0)throw new SyntaxError(`Invalid regular expression: /${e}/: Unterminated group`);return xwe(a,c),n};function xwe(e,t){for(let r of e.reverse())if(t<r.reference.value){r.reference.type=Bt.types.CHAR;let n=r.reference.value.toString();if(r.reference.value=parseInt(n,8),!/^[0-7]+$/.test(n)){let s=0;for(;n[s]!=="8"&&n[s]!=="9";)s+=1;if(s===0?(r.reference.value=n.charCodeAt(0),s+=1):r.reference.value=parseInt(n.slice(0,s),8),n.length>s){let i=r.stack.splice(r.index+1);for(let o of n.slice(s))r.stack.push({type:Bt.types.CHAR,value:o.charCodeAt(0)});r.stack.push(...i)}}}}});var FU=y(cr=>{"use strict";var Swe=cr&&cr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ewe=cr&&cr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$we=cr&&cr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Swe(t,e,r);return Ewe(t,e),t};Object.defineProperty(cr,"__esModule",{value:!0});cr.NOTANYCHAR=cr.WHITESPACE=cr.WORDS=cr.INTS=void 0;var Oh=$we(Th()),LU=Ms();function kh(e){let t={},r=0;for(let n of e)n.type===LU.types.CHAR&&(t[n.value]=!0),n.type===LU.types.RANGE&&(t[`${n.from}-${n.to}`]=!0),r+=1;return{lookup:()=>Object.assign({},t),len:r}}cr.INTS=kh(Oh.ints().set);cr.WORDS=kh(Oh.words().set);cr.WHITESPACE=kh(Oh.whitespace().set);cr.NOTANYCHAR=kh(Oh.anyChar().set)});var zU=y(cn=>{"use strict";var Rwe=cn&&cn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Pwe=cn&&cn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Twe=cn&&cn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Rwe(t,e,r);return Pwe(t,e),t};Object.defineProperty(cn,"__esModule",{value:!0});cn.writeSetTokens=cn.setChar=void 0;var Ch=Ms(),Nh=Twe(FU());function Ih(e){return e===94?"\\^":e===92?"\\\\":e===93?"\\]":e===45?"\\-":String.fromCharCode(e)}cn.setChar=Ih;function Ah(e,{lookup:t,len:r}){if(r!==e.length)return!1;let n=t();for(let s of e){if(s.type===Ch.types.SET)return!1;let i=s.type===Ch.types.CHAR?s.value:`${s.from}-${s.to}`;if(n[i])n[i]=!1;else return!1}return!0}function MU(e,t=!1){if(Ah(e.set,Nh.INTS))return e.not?"\\D":"\\d";if(Ah(e.set,Nh.WORDS))return e.not?"\\W":"\\w";if(e.not&&Ah(e.set,Nh.NOTANYCHAR))return".";if(Ah(e.set,Nh.WHITESPACE))return e.not?"\\S":"\\s";let r="";for(let s=0;s<e.set.length;s++){let i=e.set[s];r+=Owe(i)}let n=`${e.not?"^":""}${r}`;return t?n:`[${n}]`}cn.writeSetTokens=MU;function Owe(e){return e.type===Ch.types.CHAR?Ih(e.value):e.type===Ch.types.RANGE?`${Ih(e.from)}-${Ih(e.to)}`:MU(e,!0)}});var YE=y(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.reconstruct=void 0;var Ri=Ms(),WE=zU(),UU=e=>e.map(fc.reconstruct).join(""),VU=e=>{if("options"in e)return e.options.map(UU).join("|");if("stack"in e)return UU(e.stack);throw new Error("options or stack must be Root or Group token")};fc.reconstruct=e=>{switch(e.type){case Ri.types.ROOT:return VU(e);case Ri.types.CHAR:{let t=String.fromCharCode(e.value);return(/[[\\{}$^.|?*+()]/.test(t)?"\\":"")+t}case Ri.types.POSITION:return e.value==="^"||e.value==="$"?e.value:`\\${e.value}`;case Ri.types.REFERENCE:return`\\${e.value}`;case Ri.types.SET:return WE.writeSetTokens(e);case Ri.types.GROUP:return`(${e.remember?"":e.followedBy?"?=":e.notFollowedBy?"?!":"?:"}${VU(e)})`;case Ri.types.REPETITION:{let{min:t,max:r}=e,n;return t===0&&r===1?n="?":t===1&&r===1/0?n="+":t===0&&r===1/0?n="*":r===1/0?n=`{${t},}`:t===r?n=`{${t}}`:n=`{${t},${r}}`,`${fc.reconstruct(e.value)}${n}`}case Ri.types.RANGE:return`${WE.setChar(e.from)}-${WE.setChar(e.to)}`;default:throw new Error(`Invalid token type ${e}`)}}});var KU=y((un,jh)=>{"use strict";var kwe=un&&un.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),XE=un&&un.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kwe(t,e,r)};Object.defineProperty(un,"__esModule",{value:!0});un.types=void 0;var HU=Ms();Object.defineProperty(un,"types",{enumerable:!0,get:function(){return HU.types}});XE(JE(),un);XE(YE(),un);var BU=JE(),Nwe=YE();XE(Ms(),un);un.default=BU.tokenizer;jh.exports=BU.tokenizer;jh.exports.types=HU.types;jh.exports.reconstruct=Nwe.reconstruct});var JU=y((aDe,qh)=>{"use strict";var GU=KU(),Awe=GU.types;function QE(e,t){t||(t={});let r=t.limit===void 0?25:t.limit;Iwe(e)?e=e.source:typeof e!="string"&&(e=String(e));try{e=GU(e)}catch{return!1}let n=0;return function s(i,o){let a,c,l;if(i.type===Awe.REPETITION&&(o++,n++,o>1||n>r))return!1;if(i.options){for(a=0,l=i.options.length;a<l;a++)if(c=s({stack:i.options[a]},o),!c)return!1}let u=i.stack||i.value&&i.value.stack;if(!u)return!0;for(a=0;a<u.length;a++)if(c=s(u[a],o),!c)return!1;return!0}(e,0)}function Iwe(e){return{}.toString.call(e)==="[object RegExp]"}qh.exports=QE;qh.exports.default=QE;qh.exports.safeRegex=QE});var Dh=y((cDe,WU)=>{"use strict";WU.exports={name:"__fmw_internal_strategy_merged_tree_http_method__",storage:function(){let e={};return{get:t=>e[t]||null,set:(t,r)=>{e[t]=r}}},deriveConstraint:e=>e.method,mustMatchWhenDerived:!0}});var rV=y((uDe,tV)=>{"use strict";var YU=Kr(),XU=Dh(),QU=Symbol("treeData");function ZU(e,t=""){let r="",n=Object.keys(e);for(let s=0;s<n.length;s++){let i=n[s],o=e[i],a=s===n.length-1,c=a?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ",l=a?"    ":"\u2502   ",d=(o[QU]||"").split(`
`).join(`
`+t+l);r+=t+c+i+d+`
`,r+=ZU(o,t+l)}return r}function Cwe(e){let t=e.name||"";return t=t.replace("bound","").trim(),t=(t||"anonymous")+"()",t}function eV(e){return Array.isArray(e)?e.map(t=>eV(t)):typeof e=="symbol"?e.toString():typeof e=="function"?Cwe(e):e}function jwe(e,t){if(!t.includeMeta)return{};let r=t.buildPrettyMeta(e),n={},s=t.includeMeta;Array.isArray(s)||(s=Reflect.ownKeys(r));for(let i of s){if(!Object.prototype.hasOwnProperty.call(r,i))continue;let o=i.toString(),a=r[i];if(a!=null){let c=JSON.stringify(eV(a));n[o]=c}}return n}function qwe(e){let t="";for(let[r,n]of Object.entries(e))t+=`
\u2022 (${r}) ${n}`;return t}function Dwe(e){let t={...e.opts.constraints},r=t[XU.name];return delete t[XU.name],{...e,method:r,opts:{constraints:t}}}function Lwe(e){let t=` (${e.method})`,r=e.opts.constraints||{};return Object.keys(r).length!==0&&(t+=" "+JSON.stringify(r)),t+=qwe(e.metaData),t}function Fwe(e){return e.reduce((t,r)=>{for(let n of t)if(YU(r.opts.constraints,n.opts.constraints)&&YU(r.metaData,n.metaData))return n.method+=", "+r.method,t;return t.push(r),t},[])}function Mwe(e,t,r){let n=e.routes;return r.method===void 0&&(n=n.map(Dwe)),n=n.map(s=>(s.metaData=jwe(s,r),s)),r.method===void 0&&(n=Fwe(n)),n.map(Lwe).join(`
${t}`)}function Lh(e,t,r,n){if((e.isLeafNode||n.commonPrefix!==!1)&&(r=r||"(empty root node)",t=t[r]={},e.isLeafNode&&(t[QU]=Mwe(e,r,n)),r=""),e.staticChildren)for(let s of Object.values(e.staticChildren))Lh(s,t,r+s.prefix,n);if(e.parametricChildren)for(let s of Object.values(e.parametricChildren)){let i=Array.from(s.nodePaths).join("|");Lh(s,t,r+i,n)}e.wildcardChild&&Lh(e.wildcardChild,t,"*",n)}function zwe(e,t){let r={};return Lh(e,r,e.prefix,t),ZU(r)}tV.exports={prettyPrintTree:zwe}});var sV=y((lDe,nV)=>{"use strict";var Uwe=Dh(),ZE=class{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(t){return t===void 0?this.unconstrainedHandler:this._getHandlerMatchingConstraints(t)}addHandler(t,r){let n=r.params,s=r.opts.constraints||{},i={params:n,constraints:s,handler:r.handler,store:r.store||null,_createParamsObject:this._compileCreateParamsObject(n)},o=Object.keys(s);o.length===0&&(this.unconstrainedHandler=i);for(let c of o)this.constraints.includes(c)||(c==="version"?this.constraints.unshift(c):this.constraints.push(c));let a=o.includes(Uwe.name);if(!a&&this.handlers.length>=31)throw new Error("find-my-way supports a maximum of 31 route handlers per node when there are constraints, limit reached");this.handlers.push(i),this.handlers.sort((c,l)=>Object.keys(c.constraints).length-Object.keys(l.constraints).length),a||this._compileGetHandlerMatchingConstraints(t,s)}_compileCreateParamsObject(t){let r=[];for(let n=0;n<t.length;n++)r.push(`'${t[n]}': paramsArray[${n}]`);return new Function("paramsArray",`return {${r.join(",")}}`)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(t,r){for(let n=0;n<this.handlers.length;n++){let i=this.handlers[n].constraints[r];if(i!==void 0){let o=t.get(i)||0;o|=1<<n,t.set(i,o)}}}_constrainedIndexBitmask(t){let r=0;for(let n=0;n<this.handlers.length;n++)this.handlers[n].constraints[t]!==void 0&&(r|=1<<n);return~r}_compileGetHandlerMatchingConstraints(t){this.constrainedHandlerStores={};for(let n of this.constraints){let s=t.newStoreForConstraint(n);this.constrainedHandlerStores[n]=s,this._buildConstraintStore(s,n)}let r=[];r.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let n of this.constraints){r.push(`
      mask = ${this._constrainedIndexBitmask(n)}
      value = derivedConstraints.${n}
      `);let i=t.strategies[n].mustMatchWhenDerived?"matches":"(matches | mask)";r.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${n}.get(value) || 0
        candidates &= ${i}
      }
      if (candidates === 0) return null;
      `)}for(let n in t.strategies)t.strategies[n].mustMatchWhenDerived&&!this.constraints.includes(n)&&r.push(`if (derivedConstraints.${n} !== undefined) return null`);r.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",r.join(`
`))}};nV.exports=ZE});var oV=y((dDe,iV)=>{"use strict";var Vwe=sV(),Hh={STATIC:0,PARAMETRIC:1,WILDCARD:2},Fh=class{constructor(){this.isLeafNode=!1,this.routes=null,this.handlerStorage=null}addRoute(t,r){this.routes===null&&(this.routes=[]),this.handlerStorage===null&&(this.handlerStorage=new Vwe),this.isLeafNode=!0,this.routes.push(t),this.handlerStorage.addHandler(r,t)}},Mh=class extends Fh{constructor(){super(),this.staticChildren={}}findStaticMatchingChild(t,r){let n=this.staticChildren[t.charAt(r)];return n===void 0||!n.matchPrefix(t,r)?null:n}getStaticChild(t,r=0){if(t.length===r)return this;let n=this.findStaticMatchingChild(t,r);return n?n.getStaticChild(t,r+n.prefix.length):null}createStaticChild(t){if(t.length===0)return this;let r=this.staticChildren[t.charAt(0)];if(r){let s=1;for(;s<r.prefix.length;s++)if(t.charCodeAt(s)!==r.prefix.charCodeAt(s)){r=r.split(this,s);break}return r.createStaticChild(t.slice(s))}let n=t.charAt(0);return this.staticChildren[n]=new zh(t),this.staticChildren[n]}},zh=class e extends Mh{constructor(t){super(),this.prefix=t,this.wildcardChild=null,this.parametricChildren=[],this.kind=Hh.STATIC,this._compilePrefixMatch()}getParametricChild(t){let r=t&&t.source,n=this.parametricChildren.find(s=>(s.regex&&s.regex.source)===r);return n||null}createParametricChild(t,r,n){let s=this.getParametricChild(t);return s?(s.nodePaths.add(n),s):(s=new Uh(t,r,n),this.parametricChildren.push(s),this.parametricChildren.sort((i,o)=>i.isRegex?o.isRegex?i.staticSuffix===null?1:o.staticSuffix===null?-1:o.staticSuffix.endsWith(i.staticSuffix)?1:i.staticSuffix.endsWith(o.staticSuffix)?-1:0:-1:1),s)}getWildcardChild(){return this.wildcardChild}createWildcardChild(){return this.wildcardChild=this.getWildcardChild()||new Vh,this.wildcardChild}split(t,r){let n=this.prefix.slice(0,r),s=this.prefix.slice(r);this.prefix=s,this._compilePrefixMatch();let i=new e(n);return i.staticChildren[s.charAt(0)]=this,t.staticChildren[n.charAt(0)]=i,i}getNextNode(t,r,n,s){let i=this.findStaticMatchingChild(t,r),o=0;if(i===null){if(this.parametricChildren.length===0)return this.wildcardChild;i=this.parametricChildren[0],o=1}this.wildcardChild!==null&&n.push({paramsCount:s,brotherPathIndex:r,brotherNode:this.wildcardChild});for(let a=this.parametricChildren.length-1;a>=o;a--)n.push({paramsCount:s,brotherPathIndex:r,brotherNode:this.parametricChildren[a]});return i}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let t=[];for(let r=1;r<this.prefix.length;r++){let n=this.prefix.charCodeAt(r);t.push(`path.charCodeAt(i + ${r}) === ${n}`)}this.matchPrefix=new Function("path","i",`return ${t.join(" && ")}`)}},Uh=class extends Mh{constructor(t,r,n){super(),this.isRegex=!!t,this.regex=t||null,this.staticSuffix=r||null,this.kind=Hh.PARAMETRIC,this.nodePaths=new Set([n])}getNextNode(t,r){return this.findStaticMatchingChild(t,r)}},Vh=class extends Fh{constructor(){super(),this.kind=Hh.WILDCARD}getNextNode(){return null}};iV.exports={StaticNode:zh,ParametricNode:Uh,WildcardNode:Vh,NODE_TYPES:Hh}});var cV=y((fDe,aV)=>{"use strict";var Hwe=require("node:assert");function ed(){if(!(this instanceof ed))return new ed;this.store={},this.maxMajor=0,this.maxMinors={},this.maxPatches={}}ed.prototype.set=function(e,t){if(typeof e!="string")throw new TypeError("Version should be a string");let[r,n,s]=e.split(".");if(isNaN(r))throw new TypeError("Major version must be a numeric value");return r=Number(r),n=Number(n)||0,s=Number(s)||0,r>=this.maxMajor&&(this.maxMajor=r,this.store.x=t,this.store["*"]=t,this.store["x.x"]=t,this.store["x.x.x"]=t),n>=(this.maxMinors[r]||0)&&(this.maxMinors[r]=n,this.store[`${r}.x`]=t,this.store[`${r}.x.x`]=t),s>=(this.maxPatches[`${r}.${n}`]||0)&&(this.maxPatches[`${r}.${n}`]=s,this.store[`${r}.${n}.x`]=t),this.store[`${r}.${n}.${s}`]=t,this};ed.prototype.get=function(e){return this.store[e]};aV.exports={name:"version",mustMatchWhenDerived:!0,storage:ed,validate(e){Hwe(typeof e=="string","Version should be a string")}}});var lV=y((pDe,uV)=>{"use strict";var Bwe=require("node:assert");function Kwe(){let e={},t=[];return{get:r=>{let n=e[r];if(n)return n;for(let s of t)if(s.host.test(r))return s.value},set:(r,n)=>{r instanceof RegExp?t.push({host:r,value:n}):e[r]=n}}}uV.exports={name:"host",mustMatchWhenDerived:!1,storage:Kwe,validate(e){Bwe(typeof e=="string"||Object.prototype.toString.call(e)==="[object RegExp]","Host should be a string or a RegExp")}}});var fV=y((mDe,dV)=>{"use strict";var Gwe=cV(),Jwe=lV(),e$=require("node:assert"),t$=class{constructor(t){if(this.strategies={version:Gwe,host:Jwe},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,t)for(let r of Object.values(t))this.addConstraintStrategy(r)}isStrategyUsed(t){return this.strategiesInUse.has(t)||this.asyncStrategiesInUse.has(t)}hasConstraintStrategy(t){let r=this.strategies[t];return r!==void 0?r.isCustom||this.isStrategyUsed(t):!1}addConstraintStrategy(t){if(e$(typeof t.name=="string"&&t.name!=="","strategy.name is required."),e$(t.storage&&typeof t.storage=="function","strategy.storage function is required."),e$(t.deriveConstraint&&typeof t.deriveConstraint=="function","strategy.deriveConstraint function is required."),this.strategies[t.name]&&this.strategies[t.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${t.name}.`);if(this.isStrategyUsed(t.name))throw new Error(`There already exists a route with ${t.name} constraint.`);t.isCustom=!0,t.isAsync=t.deriveConstraint.length===3,this.strategies[t.name]=t,t.mustMatchWhenDerived&&this.noteUsage({[t.name]:t})}deriveConstraints(t,r,n){let s=this.deriveSyncConstraints(t,r);if(n===void 0)return s;this.deriveAsyncConstraints(s,t,r,n)}deriveSyncConstraints(t,r){}noteUsage(t){if(t){let r=this.strategiesInUse.size;for(let n in t)this.strategies[n].isAsync?this.asyncStrategiesInUse.add(n):this.strategiesInUse.add(n);r!==this.strategiesInUse.size&&this._buildDeriveConstraints()}}newStoreForConstraint(t){if(!this.strategies[t])throw new Error(`No strategy registered for constraint key ${t}`);return this.strategies[t].storage()}validateConstraints(t){for(let r in t){let n=t[r];if(typeof n>"u")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let s=this.strategies[r];if(!s)throw new Error(`No strategy registered for constraint key ${r}`);s.validate&&s.validate(n)}}deriveAsyncConstraints(t,r,n,s){let i=this.asyncStrategiesInUse.size;if(i===0){s(null,t);return}t=t||{};for(let o of this.asyncStrategiesInUse)this.strategies[o].deriveConstraint(r,n,(c,l)=>{if(c!==null){s(c);return}t[o]=l,--i===0&&s(null,t)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let t=["return {"];for(let r of this.strategiesInUse){let n=this.strategies[r];n.isCustom?t.push(`  ${n.name}: this.strategies.${r}.deriveConstraint(req, ctx),`):r==="version"?t.push("   version: req.headers['accept-version'],"):t.push("   host: req.headers.host || req.headers[':authority'],")}t.push("}"),this.deriveSyncConstraints=new Function("req","ctx",t.join(`
`)).bind(this)}};dV.exports=t$});var mV=y((hDe,pV)=>{"use strict";var Wwe=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];pV.exports=Wwe});var gV=y((yDe,yV)=>{"use strict";function hV(e,t){return e===50?t===53?"%":t===51?"#":t===52?"$":t===54?"&":t===66||t===98?"+":t===67||t===99?",":t===70||t===102?"/":null:e===51?t===65||t===97?":":t===66||t===98?";":t===68||t===100?"=":t===70||t===102?"?":null:e===52&&t===48?"@":null}function Ywe(e,t){let r=!1,n=!1,s="";for(let o=1;o<e.length;o++){let a=e.charCodeAt(o);if(a===37){let c=e.charCodeAt(o+1),l=e.charCodeAt(o+2);hV(c,l)===null?r=!0:(n=!0,c===50&&l===53&&(r=!0,e=e.slice(0,o+1)+"25"+e.slice(o+1),o+=2),o+=2)}else if(a===63||a===35||a===59&&t){s=e.slice(o+1),e=e.slice(0,o);break}}return{path:r?decodeURI(e):e,querystring:s,shouldDecodeParam:n}}function Xwe(e){let t=e.indexOf("%");if(t===-1)return e;let r="",n=t;for(let s=t;s<e.length;s++)if(e.charCodeAt(s)===37){let i=e.charCodeAt(s+1),o=e.charCodeAt(s+2),a=hV(i,o);r+=e.slice(n,s)+a,n=s+3}return e.slice(0,t)+r+e.slice(n)}yV.exports={safeDecodeURI:Ywe,safeDecodeURIComponent:Xwe}});var o$=y((gDe,$V)=>{"use strict";var xt=require("node:assert"),Qwe=$U(),Bh=JU(),n$=Kr(),{prettyPrintTree:Zwe}=rV(),{StaticNode:vV,NODE_TYPES:_V}=oV(),exe=fV(),pc=mV(),r$=Dh(),{safeDecodeURI:txe,safeDecodeURIComponent:bV}=gV(),wV=/^https?:\/\/.*?\//,ko=/(\/:[^/()]*?)\?(\/?)/;if(!Bh(wV))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!Bh(ko))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");function pt(e){if(!(this instanceof pt))return new pt(e);e=e||{},this._opts=e,e.defaultRoute?(xt(typeof e.defaultRoute=="function","The default route must be a function"),this.defaultRoute=e.defaultRoute):this.defaultRoute=null,e.onBadUrl?(xt(typeof e.onBadUrl=="function","The bad url handler must be a function"),this.onBadUrl=e.onBadUrl):this.onBadUrl=null,e.buildPrettyMeta?(xt(typeof e.buildPrettyMeta=="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=e.buildPrettyMeta):this.buildPrettyMeta=rxe,e.querystringParser?(xt(typeof e.querystringParser=="function","querystringParser must be a function"),this.querystringParser=e.querystringParser):this.querystringParser=t=>t===""?{}:Qwe.parse(t),this.caseSensitive=e.caseSensitive===void 0?!0:e.caseSensitive,this.ignoreTrailingSlash=e.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=e.ignoreDuplicateSlashes||!1,this.maxParamLength=e.maxParamLength||100,this.allowUnsafeRegex=e.allowUnsafeRegex||!1,this.constrainer=new exe(e.constraints),this.useSemicolonDelimiter=e.useSemicolonDelimiter||!1,this.routes=[],this.trees={}}pt.prototype.on=function(t,r,n,s,i){typeof n=="function"&&(s!==void 0&&(i=s),s=n,n={}),xt(typeof r=="string","Path should be a string"),xt(r.length>0,"The path could not be empty"),xt(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),xt(typeof s=="function","Handler should be a function");let o=r.match(ko);if(o){xt(r.length===o.index+o[0].length,"Optional Parameter needs to be the last parameter of the path");let l=r.replace(ko,"$1$2"),u=r.replace(ko,"$2")||"/";this.on(t,l,n,s,i),this.on(t,u,n,s,i);return}let a=r;this.ignoreDuplicateSlashes&&(r=s$(r)),this.ignoreTrailingSlash&&(r=i$(r));let c=Array.isArray(t)?t:[t];for(let l of c)xt(typeof l=="string","Method should be a string"),xt(pc.includes(l),`Method '${l}' is not an http method.`),this._on(l,r,n,s,i,a)};pt.prototype._on=function(t,r,n,s,i){let o={};n.constraints!==void 0&&(xt(typeof n.constraints=="object"&&n.constraints!==null,"Constraints should be an object"),Object.keys(n.constraints).length!==0&&(o=n.constraints)),this.constrainer.validateConstraints(o),this.constrainer.noteUsage(o),this.trees[t]===void 0&&(this.trees[t]=new vV("/"));let a=r;if(a==="*"&&this.trees[t].prefix.length!==0){let p=this.trees[t];this.trees[t]=new vV(""),this.trees[t].staticChildren["/"]=p}let c=this.trees[t],l=c.prefix.length,u=[];for(let p=0;p<=a.length;p++){if(a.charCodeAt(p)===58&&a.charCodeAt(p+1)===58){p++;continue}let m=a.charCodeAt(p)===58&&a.charCodeAt(p+1)!==58,f=a.charCodeAt(p)===42;if(m||f||p===a.length&&p!==l){let h=a.slice(l,p);this.caseSensitive||(h=h.toLowerCase()),h=h.split("::").join(":"),h=h.split("%").join("%25"),c=c.createStaticChild(h)}if(m){let h=!1,v=!0,b="",S=[],_=p+1;for(let g=_;;g++){let x=a.charCodeAt(g),R=x===40,w=x===45||x===46,E=x===47||g===a.length;if(R||w||E){let P=a.slice(_,g);if(u.push(P),h=h||R||w,R){let O=EV(a,g),T=a.slice(g,O+1);this.allowUnsafeRegex||xt(Bh(new RegExp(T)),`The regex '${T}' is not safe!`),S.push(SV(T)),g=O+1,v=!0}else S.push(v?"(.*?)":`(${b}|(?:(?!${b}).)*)`),v=!1;let $=g;for(;g<a.length;g++){let O=a.charCodeAt(g);if(O===47)break;if(O===58)if(a.charCodeAt(g+1)===58)g++;else break}let j=a.slice($,g);if(j&&(j=j.split("::").join(":"),j=j.split("%").join("%25"),S.push(b=xV(j))),_=g+1,E||a.charCodeAt(g)===47||g===a.length){let O=h?"()"+j:j,T=a.slice(p,g);a=a.slice(0,p+1)+O+a.slice(g),p+=O.length;let A=h?new RegExp("^"+S.join("")+"$"):null;c=c.createParametricChild(A,j||null,T),l=p+1;break}}}}else if(f&&(u.push("*"),c=c.createWildcardChild(),l=p+1,p!==a.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(a=a.toLowerCase()),a==="*"&&(a="/*");for(let p of this.routes){let m=p.opts.constraints||{};if(p.method===t&&p.pattern===a&&n$(m,o))throw new Error(`Method '${t}' already declared for route '${a}' with constraints '${JSON.stringify(o)}'`)}let d={method:t,path:r,pattern:a,params:u,opts:n,handler:s,store:i};this.routes.push(d),c.addRoute(d,this.constrainer)};pt.prototype.hasRoute=function(t,r,n){return this.findRoute(t,r,n)!==null};pt.prototype.findRoute=function(t,r,n={}){if(this.trees[t]===void 0)return null;let s=r,i=this.trees[t],o=i.prefix.length,a=[];for(let c=0;c<=s.length;c++){if(s.charCodeAt(c)===58&&s.charCodeAt(c+1)===58){c++;continue}let l=s.charCodeAt(c)===58&&s.charCodeAt(c+1)!==58,u=s.charCodeAt(c)===42;if(l||u||c===s.length&&c!==o){let d=s.slice(o,c);if(this.caseSensitive||(d=d.toLowerCase()),d=d.split("::").join(":"),d=d.split("%").join("%25"),i=i.getStaticChild(d),i===null)return null}if(l){let d=!1,p=!0,m="",f=[],h=c+1;for(let v=h;;v++){let b=s.charCodeAt(v),S=b===40,_=b===45||b===46,g=b===47||v===s.length;if(S||_||g){let x=s.slice(h,v);if(a.push(x),d=d||S||_,S){let E=EV(s,v),P=s.slice(v,E+1);this.allowUnsafeRegex||xt(Bh(new RegExp(P)),`The regex '${P}' is not safe!`),f.push(SV(P)),v=E+1,p=!1}else f.push(p?"(.*?)":`(${m}|(?:(?!${m}).)*)`),p=!1;let R=v;for(;v<s.length;v++){let E=s.charCodeAt(v);if(E===47)break;if(E===58)if(s.charCodeAt(v+1)===58)v++;else break}let w=s.slice(R,v);if(w&&(w=w.split("::").join(":"),w=w.split("%").join("%25"),f.push(m=xV(w))),h=v+1,g||s.charCodeAt(v)===47||v===s.length){let E=d?"()"+w:w,P=s.slice(c,v);s=s.slice(0,c+1)+E+s.slice(v),c+=E.length;let $=d?new RegExp("^"+f.join("")+"$"):null;if(i=i.getParametricChild($,w||null,P),i===null)return null;o=c+1;break}}}}else if(u&&(a.push("*"),i=i.getWildcardChild(),o=c+1,c!==s.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(s=s.toLowerCase());for(let c of this.routes){let l=c.opts.constraints||{};if(c.method===t&&c.pattern===s&&n$(l,n))return{handler:c.handler,store:c.store,params:c.params}}return null};pt.prototype.hasConstraintStrategy=function(e){return this.constrainer.hasConstraintStrategy(e)};pt.prototype.addConstraintStrategy=function(e){this.constrainer.addConstraintStrategy(e),this._rebuild(this.routes)};pt.prototype.reset=function(){this.trees={},this.routes=[]};pt.prototype.off=function(t,r,n){xt(typeof r=="string","Path should be a string"),xt(r.length>0,"The path could not be empty"),xt(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),xt(typeof n>"u"||typeof n=="object"&&!Array.isArray(n)&&n!==null,"Constraints should be an object or undefined.");let s=r.match(ko);if(s){xt(r.length===s.index+s[0].length,"Optional Parameter needs to be the last parameter of the path");let o=r.replace(ko,"$1$2"),a=r.replace(ko,"$2");this.off(t,o,n),this.off(t,a,n);return}this.ignoreDuplicateSlashes&&(r=s$(r)),this.ignoreTrailingSlash&&(r=i$(r));let i=Array.isArray(t)?t:[t];for(let o of i)this._off(o,r,n)};pt.prototype._off=function(t,r,n){xt(typeof t=="string","Method should be a string"),xt(pc.includes(t),`Method '${t}' is not an http method.`);function s(c){return t!==c.method||r!==c.path}function i(c){return s(c)||!n$(n,c.opts.constraints||{})}let o=n?i:s,a=this.routes.filter(o);this._rebuild(a)};pt.prototype.lookup=function(t,r,n,s){if(typeof n=="function"&&(s=n,n=void 0),s===void 0){let i=this.constrainer.deriveConstraints(t,n),o=this.find(t.method,t.url,i);return this.callHandler(o,t,r,n)}this.constrainer.deriveConstraints(t,n,(i,o)=>{if(i!==null){s(i);return}try{let a=this.find(t.method,t.url,o),c=this.callHandler(a,t,r,n);s(null,c)}catch(a){s(a)}})};pt.prototype.callHandler=function(t,r,n,s){return t===null?this._defaultRoute(r,n,s):s===void 0?t.handler(r,n,t.params,t.store,t.searchParams):t.handler.call(s,r,n,t.params,t.store,t.searchParams)};pt.prototype.find=function(t,r,n){let s=this.trees[t];if(s===void 0)return null;r.charCodeAt(0)!==47&&(r=r.replace(wV,"/")),this.ignoreDuplicateSlashes&&(r=s$(r));let i,o,a;try{i=txe(r,this.useSemicolonDelimiter),r=i.path,o=i.querystring,a=i.shouldDecodeParam}catch{return this._onBadUrl(r)}this.ignoreTrailingSlash&&(r=i$(r));let c=r;this.caseSensitive===!1&&(r=r.toLowerCase());let l=this.maxParamLength,u=s.prefix.length,d=[],p=r.length,m=[];for(;;){if(u===p&&s.isLeafNode){let b=s.handlerStorage.getMatchingHandler(n);if(b!==null)return{handler:b.handler,store:b.store,params:b._createParamsObject(d),searchParams:this.querystringParser(o)}}let f=s.getNextNode(r,u,m,d.length);if(f===null){if(m.length===0)return null;let b=m.pop();u=b.brotherPathIndex,d.splice(b.paramsCount),f=b.brotherNode}if(s=f,s.kind===_V.STATIC){u+=s.prefix.length;continue}if(s.kind===_V.WILDCARD){let b=c.slice(u);a&&(b=bV(b)),d.push(b),u=p;continue}let h=c.indexOf("/",u);h===-1&&(h=p);let v=c.slice(u,h);if(a&&(v=bV(v)),s.isRegex){let b=s.regex.exec(v);if(b===null)continue;for(let S=1;S<b.length;S++){let _=b[S];if(_.length>l)return null;d.push(_)}}else{if(v.length>l)return null;d.push(v)}u=h}};pt.prototype._rebuild=function(e){this.reset();for(let t of e){let{method:r,path:n,opts:s,handler:i,store:o}=t;this._on(r,n,s,i,o)}};pt.prototype._defaultRoute=function(e,t,r){if(this.defaultRoute!==null)return r===void 0?this.defaultRoute(e,t):this.defaultRoute.call(r,e,t);t.statusCode=404,t.end()};pt.prototype._onBadUrl=function(e){if(this.onBadUrl===null)return null;let t=this.onBadUrl;return{handler:(r,n,s)=>t(e,r,n),params:{},store:null}};pt.prototype.prettyPrint=function(e={}){let t=e.method;e.buildPrettyMeta=this.buildPrettyMeta.bind(this);let r=null;if(t===void 0){let{version:n,host:s,...i}=this.constrainer.strategies;i[r$.name]=r$;let o=new pt({...this._opts,constraints:i}),a=this.routes.map(c=>{let l={...c.opts.constraints,[r$.name]:c.method};return{...c,method:"MERGED",opts:{constraints:l}}});o._rebuild(a),r=o.trees.MERGED}else r=this.trees[t];return r==null?"(empty tree)":Zwe(r,e)};for(let e in pc){if(!pc.hasOwnProperty(e))continue;let t=pc[e],r=t.toLowerCase();pt.prototype[r]=function(n,s,i){return this.on(t,n,s,i)}}pt.prototype.all=function(e,t,r){this.on(pc,e,t,r)};$V.exports=pt;function xV(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s$(e){return e.replace(/\/\/+/g,"/")}function i$(e){return e.length>1&&e.charCodeAt(e.length-1)===47?e.slice(0,-1):e}function SV(e){return e.charCodeAt(1)===94&&(e=e.slice(0,1)+e.slice(2)),e.charCodeAt(e.length-2)===36&&(e=e.slice(0,e.length-2)+e.slice(e.length-1)),e}function EV(e,t){let r=1;for(;t<e.length;){if(t++,e[t]==="\\"){t++;continue}if(e[t]===")"?r--:e[t]==="("&&r++,!r)return t}throw new TypeError('Invalid regexp expression in "'+e+'"')}function rxe(e){return e?e.store?Object.assign({},e.store):{}:{}}});var PV=y((vDe,RV)=>{"use strict";function a$(e,t,r,n){if(r===void 0)return t.header("content-length","0"),n(null,null);if(typeof r.resume=="function")return r.on("error",i=>{t.log.error({err:i},"Error on Stream found for HEAD route")}),r.resume(),n(null,null);let s=""+Buffer.byteLength(r);t.header("content-length",s),n(null,null)}function nxe(e){return e==null?a$:Array.isArray(e)?[...e,a$]:[e,a$]}RV.exports={parseHeadOnSendHandlers:nxe}});var HV=y((_De,VV)=>{"use strict";var sxe=o$(),ixe=Up(),TV=xg(),{onRequestAbortHookRunner:oxe,lifecycleHooks:OV,preParsingHookRunner:axe,onTimeoutHookRunner:cxe,onRequestHookRunner:uxe}=Bs(),{supportedMethods:lxe}=eb(),{normalizeSchema:dxe}=Bc(),{parseHeadOnSendHandlers:fxe}=PV(),{FSTDEP007:pxe,FSTDEP008:mxe,FSTDEP014:kV}=ps(),{compileSchemasForValidation:hxe,compileSchemasForSerialization:yxe}=gg(),{FST_ERR_SCH_VALIDATION_BUILD:gxe,FST_ERR_SCH_SERIALIZATION_BUILD:vxe,FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:_xe,FST_ERR_DUPLICATED_ROUTE:bxe,FST_ERR_INVALID_URL:wxe,FST_ERR_HOOK_INVALID_HANDLER:NV,FST_ERR_ROUTE_OPTIONS_NOT_OBJ:xxe,FST_ERR_ROUTE_DUPLICATED_HANDLER:Sxe,FST_ERR_ROUTE_HANDLER_NOT_FN:AV,FST_ERR_ROUTE_MISSING_HANDLER:Exe,FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:$xe,FST_ERR_ROUTE_METHOD_INVALID:Rxe,FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:Pxe,FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:Txe,FST_ERR_HOOK_INVALID_ASYNC_HANDLER:c$}=Jt(),{kRoutePrefix:Oxe,kLogLevel:kxe,kLogSerializers:IV,kHooks:CV,kSchemaController:Nxe,kOptions:jV,kReplySerializerDefault:u$,kReplyIsError:Axe,kRequestPayloadStream:Ixe,kDisableRequestLogging:Cxe,kSchemaErrorFormatter:jxe,kErrorHandler:qV,kHasBeenDecorated:DV,kRequestAcceptVersion:l$,kRouteByFastify:d$,kRouteContext:LV}=At(),{buildErrorHandler:qxe}=Su(),{createChildLogger:Dxe}=Hc(),{getGenReqId:Lxe}=Ph();function Fxe(e){let t=sxe(e.config),r,n,s,i,o,a,c,l,u,d,p,m,f,h=!1;return{setup(E,P){r=P.avvio,n=P.fourOhFour,s=P.logger,i=P.hasLogger,o=P.setupResponseListeners,a=P.throwIfAlreadyStarted,m=P.validateHTTPVersion,p=E.exposeHeadRoutes,c=E.disableRequestLogging,l=E.ignoreTrailingSlash,u=E.ignoreDuplicateSlashes,d=Object.prototype.hasOwnProperty.call(E,"return503OnClosing")?E.return503OnClosing:!0,f=P.keepAliveConnections},routing:t.lookup.bind(t),route:R,hasRoute:g,prepareRoute:_,getDefaultRoute:function(){return kV(),t.defaultRoute},setDefaultRoute:function(E){if(kV(),typeof E!="function")throw new _xe;t.defaultRoute=E},routeHandler:w,closeRoutes:()=>{h=!0},printRoutes:t.prettyPrint.bind(t),addConstraintStrategy:v,hasConstraintStrategy:b,isAsyncConstraint:S,findRoute:x};function v(E){return a("Cannot add constraint strategy!"),t.addConstraintStrategy(E)}function b(E){return t.hasConstraintStrategy(E)}function S(){return t.constrainer.asyncStrategiesInUse.size>0}function _({method:E,url:P,options:$,handler:j,isFastify:O}){if(typeof P!="string")throw new wxe(typeof P);if(!j&&typeof $=="function")j=$,$={};else if(j&&typeof j=="function"){if(Object.prototype.toString.call($)!=="[object Object]")throw new xxe(E,P);if($.handler)throw typeof $.handler=="function"?new Sxe(E,P):new AV(E,P)}return $=Object.assign({},$,{method:E,url:P,path:P,handler:j||$&&$.handler}),R.call(this,{options:$,isFastify:O})}function g({options:E}){return x(E)!==null}function x(E){let P=t.find(E.method,E.url||"",E.constraints);return P?{handler:P.handler,params:P.params,searchParams:P.searchParams}:null}function R({options:E,isFastify:P}){let $={...E},{exposeHeadRoute:j}=$,T=j!=null?j:p,A=$.method==="GET"||Array.isArray($.method)&&$.method.includes("GET"),F=$.method==="HEAD"||Array.isArray($.method)&&$.method.includes("HEAD"),C=T&&A?{...E}:null;a("Cannot add route!");let I=$.url||$.path||"";if(Array.isArray($.method))for(var D=0;D<$.method.length;++D)$.method[D]=FV($.method[D]),MV($.method[D],I,$.schema);else $.method=FV($.method),MV($.method,I,$.schema);if(!$.handler)throw new Exe($.method,I);if($.errorHandler!==void 0&&typeof $.errorHandler!="function")throw new AV($.method,I);UV($.bodyLimit);let q=this[Oxe];if(I==="/"&&q.length>0&&$.method!=="HEAD")switch($.prefixTrailingSlash){case"slash":te.call(this,{path:I,isFastify:P});break;case"no-slash":te.call(this,{path:"",isFastify:P});break;case"both":default:te.call(this,{path:"",isFastify:P}),l!==!0&&(u!==!0||!q.endsWith("/"))&&te.call(this,{path:I,prefixing:!0,isFastify:P})}else I[0]==="/"&&q.endsWith("/")?te.call(this,{path:I.slice(1),isFastify:P}):te.call(this,{path:I,isFastify:P});return this;function te({path:se,prefixing:Q=!1,isFastify:lt=!1}){let He=q+se;if($.url=He,$.path=He,$.routePath=se,$.prefix=q,$.logLevel=$.logLevel||this[kxe],(this[IV]||$.logSerializers)&&($.logSerializers=Object.assign(Object.create(this[IV]),$.logSerializers)),$.attachValidation==null&&($.attachValidation=!1),Q===!1)for(let Ue of this[CV].onRoute)Ue.call(this,$);for(let Ue of OV)if($&&Ue in $){if(Array.isArray($[Ue]))for(let be of $[Ue]){if(typeof be!="function")throw new NV(Ue,Object.prototype.toString.call(be));if(Ue==="onSend"||Ue==="preSerialization"||Ue==="onError"||Ue==="preParsing"){if(be.constructor.name==="AsyncFunction"&&be.length===4)throw new c$}else if(Ue==="onRequestAbort"){if(be.constructor.name==="AsyncFunction"&&be.length!==1)throw new c$}else if(be.constructor.name==="AsyncFunction"&&be.length===3)throw new c$}else if($[Ue]!==void 0&&typeof $[Ue]!="function")throw new NV(Ue,Object.prototype.toString.call($[Ue]))}let ce=$.constraints||{},Et={...$.config,url:He,method:$.method},ne=new ixe({schema:$.schema,handler:$.handler.bind(this),config:Et,errorHandler:$.errorHandler,childLoggerFactory:$.childLoggerFactory,bodyLimit:$.bodyLimit,logLevel:$.logLevel,logSerializers:$.logSerializers,attachValidation:$.attachValidation,schemaErrorFormatter:$.schemaErrorFormatter,replySerializer:this[u$],validatorCompiler:$.validatorCompiler,serializerCompiler:$.serializerCompiler,exposeHeadRoute:T,prefixTrailingSlash:$.prefixTrailingSlash||"both",server:this,isFastify:lt});$.version&&(mxe(),ce.version=$.version);let G=t.findRoute("HEAD",$.url,ce),kt=G!==null;F&&kt&&!ne[d$]&&G.store[d$]&&t.off("HEAD",$.url,ce);try{t.on($.method,$.url,{constraints:ce},w,ne)}catch(Ue){if(!ne[d$])throw Ue.message.includes(`Method '${$.method}' already declared for route '${$.url}'`)?new bxe($.method,$.url):Ue}if(this.after((Ue,be)=>{ne.errorHandler=$.errorHandler?qxe(this[qV],$.errorHandler):this[qV],ne._parserOptions.limit=$.bodyLimit||null,ne.logLevel=$.logLevel,ne.logSerializers=$.logSerializers,ne.attachValidation=$.attachValidation,ne[u$]=this[u$],ne.schemaErrorFormatter=$.schemaErrorFormatter||this[jxe]||ne.schemaErrorFormatter,r.once("preReady",()=>{for(let N of OV){let M=this[CV][N].concat($[N]||[]).map(V=>V.bind(this));ne[N]=M.length?M:null}for(;!ne.Request[DV]&&ne.Request.parent;)ne.Request=ne.Request.parent;for(;!ne.Reply[DV]&&ne.Reply.parent;)ne.Reply=ne.Reply.parent;if(n.setContext(this,ne),$.schema){ne.schema=dxe(ne.schema,this.initialConfig);let N=this[Nxe];!$.validatorCompiler&&($.schema.body||$.schema.headers||$.schema.querystring||$.schema.params)&&N.setupValidator(this[jV]);try{let M=typeof $?.validatorCompiler=="function"||N.isCustomValidatorCompiler;hxe(ne,$.validatorCompiler||N.validatorCompiler,M)}catch(M){throw new gxe($.method,He,M.message)}$.schema.response&&!$.serializerCompiler&&N.setupSerializer(this[jV]);try{yxe(ne,$.serializerCompiler||N.serializerCompiler)}catch(M){throw new vxe($.method,He,M.message)}}}),be(Ue)}),T&&A&&!F&&!kt){let Ue=fxe(C.onSend);_.call(this,{method:"HEAD",url:se,options:{...C,onSend:Ue},isFastify:!0})}else kt&&j&&pxe()}}function w(E,P,$,j,O){let T=Lxe(j.server,E),A={level:j.logLevel};j.logSerializers&&(A.serializers=j.logSerializers);let F=Dxe(j,s,E,T,A);if(F[Cxe]=c,!m(E.httpVersion)){F.info({res:{statusCode:505}},"request aborted - invalid HTTP version");let q='{"error":"HTTP Version Not Supported","message":"HTTP Version Not Supported","statusCode":505}',te={"Content-Type":"application/json","Content-Length":q.length};P.writeHead(505,te),P.end(q);return}if(h===!0&&(E.httpVersionMajor!==2&&P.setHeader("Connection","close"),d)){let q={"Content-Type":"application/json","Content-Length":"80"};P.writeHead(503,q),P.end('{"error":"Service Unavailable","message":"Service Unavailable","statusCode":503}'),F.info({res:{statusCode:503}},"request aborted - refusing to accept new requests as server is closing");return}String.prototype.toLowerCase.call(E.headers.connection||"")==="keep-alive"&&f.has(E.socket)===!1&&(f.add(E.socket),E.socket.on("close",Uxe.bind({keepAliveConnections:f,socket:E.socket}))),E.headers[l$]!==void 0&&(E.headers["accept-version"]=E.headers[l$],E.headers[l$]=void 0);let I=new j.Request(T,$,E,O,F,j),D=new j.Reply(P,I,F);c===!1&&F.info({req:I},"incoming request"),(i===!0||j.onResponse!==null)&&o(D),j.onRequest!==null?uxe(j.onRequest,I,D,zV):zV(null,I,D),j.onRequestAbort!==null&&E.on("close",()=>{E.aborted&&oxe(j.onRequestAbort,I,Mxe.bind(null,D))}),j.onTimeout!==null&&(I.raw.socket._meta||I.raw.socket.on("timeout",zxe),I.raw.socket._meta={context:j,request:I,reply:D})}}function Mxe(e,t){t&&e.log.error({err:t},"onRequestAborted hook failed")}function zxe(){let{context:e,request:t,reply:r}=this._meta;cxe(e.onTimeout,t,r,Vxe)}function FV(e){if(typeof e!="string")throw new Rxe;if(e=e.toUpperCase(),lxe.indexOf(e)===-1)throw new $xe(e);return e}function MV(e,t,r){if((e==="GET"||e==="HEAD")&&r&&r.body)throw new Pxe(e,t)}function UV(e){if(e!==void 0&&(!Number.isInteger(e)||e<=0))throw new Txe(e)}function zV(e,t,r){if(r.sent!==!0){if(e!=null){r[Axe]=!0,r.send(e);return}t[Ixe]=t.raw,t[LV].preParsing!==null?axe(t[LV].preParsing,t,r,TV):TV(null,t,r)}}function Uxe(){this.keepAliveConnections.delete(this.socket)}function Vxe(){}VV.exports={buildRouting:Fxe,validateBodyLimitOption:UV}});var XV=y((bDe,YV)=>{"use strict";var Hxe=o$(),BV=Ep(),KV=zp(),Bxe=Up(),{kRoutePrefix:Kxe,kCanSetNotFoundHandler:td,kFourOhFourLevelInstance:rd,kFourOhFourContext:os,kHooks:Gxe,kErrorHandler:GV}=At(),{lifecycleHooks:Jxe}=Bs(),{buildErrorHandler:Wxe}=Su(),{FST_ERR_NOT_FOUND:Yxe}=Jt(),{createChildLogger:JV}=Hc(),{getGenReqId:WV}=Ph();function Xxe(e){let{logger:t}=e,r=Hxe({onBadUrl:o(),defaultRoute:u}),n=null;return{router:r,setNotFoundHandler:c,setContext:a,arrange404:s};function s(d){d[rd]=d,d[td]=!0,r.onBadUrl=r.onBadUrl.bind(d),r.defaultRoute=r.defaultRoute.bind(d)}function i(d,p){let{url:m,method:f}=d.raw,h=`Route ${f}:${m} not found`;d.log.info(h),p.code(404).send({message:h,error:"Not Found",statusCode:404})}function o(){return function(p,m,f){let h=this[rd][os],v=WV(h.server,m),b=JV(h,t,m,v),S=new KV(v,null,m,null,b,h),_=new BV(f,S,b);n(S,_)}}function a(d,p){let m=Object.assign({},d[os]);m.onSend=p.onSend,p[os]=m}function c(d,p,m,f){this[td]===void 0&&(this[td]=!0),this[os]===void 0&&(this[os]=null);let h=this,v=this[Kxe]||"/";if(this[td]===!1)throw new Error(`Not found handler already set for Fastify instance with prefix: '${v}'`);typeof d=="object"&&(d.preHandler&&(Array.isArray(d.preHandler)?d.preHandler=d.preHandler.map(b=>b.bind(h)):d.preHandler=d.preHandler.bind(h)),d.preValidation&&(Array.isArray(d.preValidation)?d.preValidation=d.preValidation.map(b=>b.bind(h)):d.preValidation=d.preValidation.bind(h))),typeof d=="function"&&(p=d,d=void 0),d=d||{},p?(this[rd][td]=!1,p=p.bind(this),n=p):(p=i,n=i),this.after((b,S)=>{l.call(this,v,d,p,m,f),S(b)})}function l(d,p,m,f,h){let v=new Bxe({schema:p.schema,handler:m,config:p.config||{},server:this});if(f.once("preReady",()=>{let b=this[os];for(let S of Jxe){let _=this[Gxe][S].concat(p[S]||[]).map(g=>g.bind(this));b[S]=_.length?_:null}b.errorHandler=p.errorHandler?Wxe(this[GV],p.errorHandler):this[GV]}),this[os]!==null&&d==="/"){Object.assign(this[os],v);return}this[rd][os]=v,r.all(d+(d.endsWith("/")?"*":"/*"),h,v),r.all(d,h,v)}function u(d,p){let m=this[rd][os],f=WV(m.server,d),h=JV(m,t,d,f);h.info({req:d},"incoming request");let v=new KV(f,null,d,null,h,m),b=new BV(p,v,h);v.log.warn("the default handler for 404 did not catch this, this is likely a fastify bug, please report it"),v.log.warn(r.prettyPrint()),b.code(404).send(new Yxe)}}YV.exports=Xxe});var ZV=y((wDe,Kh)=>{"use strict";Kh.exports=ze;Kh.exports.default=ze;var QV={type:"object",additionalProperties:!1,properties:{connectionTimeout:{type:"integer",default:0},keepAliveTimeout:{type:"integer",default:72e3},forceCloseConnections:{oneOf:[{type:"string",pattern:"idle"},{type:"boolean"}]},maxRequestsPerSocket:{type:"integer",default:0,nullable:!0},requestTimeout:{type:"integer",default:0},bodyLimit:{type:"integer",default:1048576},caseSensitive:{type:"boolean",default:!0},allowUnsafeRegex:{type:"boolean",default:!1},http2:{type:"boolean"},https:{if:{not:{oneOf:[{type:"boolean"},{type:"null"},{type:"object",additionalProperties:!1,required:["allowHTTP1"],properties:{allowHTTP1:{type:"boolean"}}}]}},then:{setDefaultValue:!0}},ignoreTrailingSlash:{type:"boolean",default:!1},ignoreDuplicateSlashes:{type:"boolean",default:!1},disableRequestLogging:{type:"boolean",default:!1},jsonShorthand:{type:"boolean",default:!0},maxParamLength:{type:"integer",default:100},onProtoPoisoning:{type:"string",default:"error"},onConstructorPoisoning:{type:"string",default:"error"},pluginTimeout:{type:"integer",default:1e4},requestIdHeader:{anyOf:[{enum:[!1]},{type:"string"}],default:"request-id"},requestIdLogLabel:{type:"string",default:"reqId"},http2SessionTimeout:{type:"integer",default:72e3},exposeHeadRoutes:{type:"boolean",default:!0},useSemicolonDelimiter:{type:"boolean",default:!0},versioning:{type:"object",additionalProperties:!0,required:["storage","deriveVersion"],properties:{storage:{},deriveVersion:{}}},constraints:{type:"object",additionalProperties:{type:"object",required:["name","storage","validate","deriveConstraint"],additionalProperties:!0,properties:{name:{type:"string"},storage:{},validate:{},deriveConstraint:{}}}}}},Qxe=Object.prototype.hasOwnProperty,Zxe=new RegExp("idle","u");function ze(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let i=null,o=0;if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){e.connectionTimeout===void 0&&(e.connectionTimeout=0),e.keepAliveTimeout===void 0&&(e.keepAliveTimeout=72e3),e.maxRequestsPerSocket===void 0&&(e.maxRequestsPerSocket=0),e.requestTimeout===void 0&&(e.requestTimeout=0),e.bodyLimit===void 0&&(e.bodyLimit=1048576),e.caseSensitive===void 0&&(e.caseSensitive=!0),e.allowUnsafeRegex===void 0&&(e.allowUnsafeRegex=!1),e.ignoreTrailingSlash===void 0&&(e.ignoreTrailingSlash=!1),e.ignoreDuplicateSlashes===void 0&&(e.ignoreDuplicateSlashes=!1),e.disableRequestLogging===void 0&&(e.disableRequestLogging=!1),e.jsonShorthand===void 0&&(e.jsonShorthand=!0),e.maxParamLength===void 0&&(e.maxParamLength=100),e.onProtoPoisoning===void 0&&(e.onProtoPoisoning="error"),e.onConstructorPoisoning===void 0&&(e.onConstructorPoisoning="error"),e.pluginTimeout===void 0&&(e.pluginTimeout=1e4),e.requestIdHeader===void 0&&(e.requestIdHeader="request-id"),e.requestIdLogLabel===void 0&&(e.requestIdLogLabel="reqId"),e.http2SessionTimeout===void 0&&(e.http2SessionTimeout=72e3),e.exposeHeadRoutes===void 0&&(e.exposeHeadRoutes=!0),e.useSemicolonDelimiter===void 0&&(e.useSemicolonDelimiter=!0);let f=o;for(let h in e)Qxe.call(QV.properties,h)||delete e[h];if(f===o){let h=e.connectionTimeout,v=o;if(!(typeof h=="number"&&!(h%1)&&!isNaN(h)&&isFinite(h))){let b=typeof h,S;if(S===void 0)if(b==="boolean"||h===null||b==="string"&&h&&h==+h&&!(h%1))S=+h;else return ze.errors=[{instancePath:t+"/connectionTimeout",schemaPath:"#/properties/connectionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;S!==void 0&&(h=S,e!==void 0&&(e.connectionTimeout=S))}var a=v===o;if(a){let b=e.keepAliveTimeout,S=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b))){let g=typeof b,x;if(x===void 0)if(g==="boolean"||b===null||g==="string"&&b&&b==+b&&!(b%1))x=+b;else return ze.errors=[{instancePath:t+"/keepAliveTimeout",schemaPath:"#/properties/keepAliveTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;x!==void 0&&(b=x,e!==void 0&&(e.keepAliveTimeout=x))}var a=S===o;if(a){if(e.forceCloseConnections!==void 0){let g=e.forceCloseConnections,x=o,R=o,w=!1,E=null,P=o;if(typeof g!="string"){let O=typeof g,T;if(T===void 0)if(O=="number"||O=="boolean")T=""+g;else if(g===null)T="";else{let A={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[A]:i.push(A),o++}T!==void 0&&(g=T,e!==void 0&&(e.forceCloseConnections=T))}if(o===P&&typeof g=="string"&&!Zxe.test(g)){let O={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/pattern",keyword:"pattern",params:{pattern:"idle"},message:'must match pattern "idle"'};i===null?i=[O]:i.push(O),o++}var c=P===o;c&&(w=!0,E=0);let $=o;if(typeof g!="boolean"){let O;if(O===void 0)if(g==="false"||g===0||g===null)O=!1;else if(g==="true"||g===1)O=!0;else{let T={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/1/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};i===null?i=[T]:i.push(T),o++}O!==void 0&&(g=O,e!==void 0&&(e.forceCloseConnections=O))}var c=$===o;if(c&&w?(w=!1,E=[E,1]):c&&(w=!0,E=1),w)o=R,i!==null&&(R?i.length=R:i=null);else{let O={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf",keyword:"oneOf",params:{passingSchemas:E},message:"must match exactly one schema in oneOf"};return i===null?i=[O]:i.push(O),o++,ze.errors=i,!1}var a=x===o}else var a=!0;if(a){let g=e.maxRequestsPerSocket,x=o;if(!(typeof g=="number"&&!(g%1)&&!isNaN(g)&&isFinite(g))&&g!==null){let w=typeof g,E;if(E===void 0)if(w==="boolean"||g===null||w==="string"&&g&&g==+g&&!(g%1))E=+g;else if(g===""||g===0||g===!1)E=null;else return ze.errors=[{instancePath:t+"/maxRequestsPerSocket",schemaPath:"#/properties/maxRequestsPerSocket/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;E!==void 0&&(g=E,e!==void 0&&(e.maxRequestsPerSocket=E))}var a=x===o;if(a){let w=e.requestTimeout,E=o;if(!(typeof w=="number"&&!(w%1)&&!isNaN(w)&&isFinite(w))){let $=typeof w,j;if(j===void 0)if($==="boolean"||w===null||$==="string"&&w&&w==+w&&!(w%1))j=+w;else return ze.errors=[{instancePath:t+"/requestTimeout",schemaPath:"#/properties/requestTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;j!==void 0&&(w=j,e!==void 0&&(e.requestTimeout=j))}var a=E===o;if(a){let $=e.bodyLimit,j=o;if(!(typeof $=="number"&&!($%1)&&!isNaN($)&&isFinite($))){let T=typeof $,A;if(A===void 0)if(T==="boolean"||$===null||T==="string"&&$&&$==+$&&!($%1))A=+$;else return ze.errors=[{instancePath:t+"/bodyLimit",schemaPath:"#/properties/bodyLimit/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;A!==void 0&&($=A,e!==void 0&&(e.bodyLimit=A))}var a=j===o;if(a){let T=e.caseSensitive,A=o;if(typeof T!="boolean"){let C;if(C===void 0)if(T==="false"||T===0||T===null)C=!1;else if(T==="true"||T===1)C=!0;else return ze.errors=[{instancePath:t+"/caseSensitive",schemaPath:"#/properties/caseSensitive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;C!==void 0&&(T=C,e!==void 0&&(e.caseSensitive=C))}var a=A===o;if(a){let C=e.allowUnsafeRegex,I=o;if(typeof C!="boolean"){let q;if(q===void 0)if(C==="false"||C===0||C===null)q=!1;else if(C==="true"||C===1)q=!0;else return ze.errors=[{instancePath:t+"/allowUnsafeRegex",schemaPath:"#/properties/allowUnsafeRegex/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;q!==void 0&&(C=q,e!==void 0&&(e.allowUnsafeRegex=q))}var a=I===o;if(a){if(e.http2!==void 0){let q=e.http2,te=o;if(typeof q!="boolean"){let Q;if(Q===void 0)if(q==="false"||q===0||q===null)Q=!1;else if(q==="true"||q===1)Q=!0;else return ze.errors=[{instancePath:t+"/http2",schemaPath:"#/properties/http2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Q!==void 0&&(q=Q,e!==void 0&&(e.http2=Q))}var a=te===o}else var a=!0;if(a){if(e.https!==void 0){let q=e.https,te=o,se=o,Q=!0,lt=o,He=o,ce=o,Et=o,ne=!1,G=null,kt=o;if(typeof q!="boolean"){let N;if(N===void 0)if(q==="false"||q===0||q===null)N=!1;else if(q==="true"||q===1)N=!0;else{let M={};i===null?i=[M]:i.push(M),o++}N!==void 0&&(q=N,e!==void 0&&(e.https=N))}var l=kt===o;l&&(ne=!0,G=0);let Ue=o;if(q!==null){let N;if(N===void 0)if(q===""||q===0||q===!1)N=null;else{let M={};i===null?i=[M]:i.push(M),o++}N!==void 0&&(q=N,e!==void 0&&(e.https=N))}var l=Ue===o;if(l&&ne)ne=!1,G=[G,1];else{l&&(ne=!0,G=1);let N=o;if(o===N)if(q&&typeof q=="object"&&!Array.isArray(q)){let V;if(q.allowHTTP1===void 0&&(V="allowHTTP1")){let Z={};i===null?i=[Z]:i.push(Z),o++}else{let Z=o;for(let Te in q)Te!=="allowHTTP1"&&delete q[Te];if(Z===o&&q.allowHTTP1!==void 0){let Te=q.allowHTTP1;if(typeof Te!="boolean"){let ee;if(ee===void 0)if(Te==="false"||Te===0||Te===null)ee=!1;else if(Te==="true"||Te===1)ee=!0;else{let tt={};i===null?i=[tt]:i.push(tt),o++}ee!==void 0&&(Te=ee,q!==void 0&&(q.allowHTTP1=ee))}}}}else{let V={};i===null?i=[V]:i.push(V),o++}var l=N===o;l&&ne?(ne=!1,G=[G,2]):l&&(ne=!0,G=2)}if(ne)o=Et,i!==null&&(Et?i.length=Et:i=null);else{let N={};i===null?i=[N]:i.push(N),o++}var u=ce===o;if(u){let N={};i===null?i=[N]:i.push(N),o++}else o=He,i!==null&&(He?i.length=He:i=null);var d=lt===o;if(o=se,i!==null&&(se?i.length=se:i=null),d){let N=o;e.https=!0;var d=N===o;Q=d}if(!Q){let N={instancePath:t+"/https",schemaPath:"#/properties/https/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return i===null?i=[N]:i.push(N),o++,ze.errors=i,!1}var a=te===o}else var a=!0;if(a){let q=e.ignoreTrailingSlash,te=o;if(typeof q!="boolean"){let Q;if(Q===void 0)if(q==="false"||q===0||q===null)Q=!1;else if(q==="true"||q===1)Q=!0;else return ze.errors=[{instancePath:t+"/ignoreTrailingSlash",schemaPath:"#/properties/ignoreTrailingSlash/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Q!==void 0&&(q=Q,e!==void 0&&(e.ignoreTrailingSlash=Q))}var a=te===o;if(a){let Q=e.ignoreDuplicateSlashes,lt=o;if(typeof Q!="boolean"){let ce;if(ce===void 0)if(Q==="false"||Q===0||Q===null)ce=!1;else if(Q==="true"||Q===1)ce=!0;else return ze.errors=[{instancePath:t+"/ignoreDuplicateSlashes",schemaPath:"#/properties/ignoreDuplicateSlashes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ce!==void 0&&(Q=ce,e!==void 0&&(e.ignoreDuplicateSlashes=ce))}var a=lt===o;if(a){let ce=e.disableRequestLogging,Et=o;if(typeof ce!="boolean"){let G;if(G===void 0)if(ce==="false"||ce===0||ce===null)G=!1;else if(ce==="true"||ce===1)G=!0;else return ze.errors=[{instancePath:t+"/disableRequestLogging",schemaPath:"#/properties/disableRequestLogging/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;G!==void 0&&(ce=G,e!==void 0&&(e.disableRequestLogging=G))}var a=Et===o;if(a){let G=e.jsonShorthand,kt=o;if(typeof G!="boolean"){let be;if(be===void 0)if(G==="false"||G===0||G===null)be=!1;else if(G==="true"||G===1)be=!0;else return ze.errors=[{instancePath:t+"/jsonShorthand",schemaPath:"#/properties/jsonShorthand/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;be!==void 0&&(G=be,e!==void 0&&(e.jsonShorthand=be))}var a=kt===o;if(a){let be=e.maxParamLength,N=o;if(!(typeof be=="number"&&!(be%1)&&!isNaN(be)&&isFinite(be))){let V=typeof be,Z;if(Z===void 0)if(V==="boolean"||be===null||V==="string"&&be&&be==+be&&!(be%1))Z=+be;else return ze.errors=[{instancePath:t+"/maxParamLength",schemaPath:"#/properties/maxParamLength/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;Z!==void 0&&(be=Z,e!==void 0&&(e.maxParamLength=Z))}var a=N===o;if(a){let V=e.onProtoPoisoning,Z=o;if(typeof V!="string"){let ee=typeof V,tt;if(tt===void 0)if(ee=="number"||ee=="boolean")tt=""+V;else if(V===null)tt="";else return ze.errors=[{instancePath:t+"/onProtoPoisoning",schemaPath:"#/properties/onProtoPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;tt!==void 0&&(V=tt,e!==void 0&&(e.onProtoPoisoning=tt))}var a=Z===o;if(a){let ee=e.onConstructorPoisoning,tt=o;if(typeof ee!="string"){let ht=typeof ee,Cn;if(Cn===void 0)if(ht=="number"||ht=="boolean")Cn=""+ee;else if(ee===null)Cn="";else return ze.errors=[{instancePath:t+"/onConstructorPoisoning",schemaPath:"#/properties/onConstructorPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Cn!==void 0&&(ee=Cn,e!==void 0&&(e.onConstructorPoisoning=Cn))}var a=tt===o;if(a){let ht=e.pluginTimeout,Cn=o;if(!(typeof ht=="number"&&!(ht%1)&&!isNaN(ht)&&isFinite(ht))){let ds=typeof ht,Li;if(Li===void 0)if(ds==="boolean"||ht===null||ds==="string"&&ht&&ht==+ht&&!(ht%1))Li=+ht;else return ze.errors=[{instancePath:t+"/pluginTimeout",schemaPath:"#/properties/pluginTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;Li!==void 0&&(ht=Li,e!==void 0&&(e.pluginTimeout=Li))}var a=Cn===o;if(a){let ds=e.requestIdHeader,Li=o,Qy=o,Uo=!1,vB=o;if(ds!==!1){let Mr={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/0/enum",keyword:"enum",params:{allowedValues:QV.properties.requestIdHeader.anyOf[0].enum},message:"must be equal to one of the allowed values"};i===null?i=[Mr]:i.push(Mr),o++}var p=vB===o;if(Uo=Uo||p,!Uo){let Mr=o;if(typeof ds!="string"){let _P=typeof ds,ft;if(ft===void 0)if(_P=="number"||_P=="boolean")ft=""+ds;else if(ds===null)ft="";else{let fn={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[fn]:i.push(fn),o++}ft!==void 0&&(ds=ft,e!==void 0&&(e.requestIdHeader=ft))}var p=Mr===o;Uo=Uo||p}if(Uo)o=Qy,i!==null&&(Qy?i.length=Qy:i=null);else{let Mr={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[Mr]:i.push(Mr),o++,ze.errors=i,!1}var a=Li===o;if(a){let Mr=e.requestIdLogLabel,_B=o;if(typeof Mr!="string"){let ft=typeof Mr,fn;if(fn===void 0)if(ft=="number"||ft=="boolean")fn=""+Mr;else if(Mr===null)fn="";else return ze.errors=[{instancePath:t+"/requestIdLogLabel",schemaPath:"#/properties/requestIdLogLabel/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;fn!==void 0&&(Mr=fn,e!==void 0&&(e.requestIdLogLabel=fn))}var a=_B===o;if(a){let ft=e.http2SessionTimeout,fn=o;if(!(typeof ft=="number"&&!(ft%1)&&!isNaN(ft)&&isFinite(ft))){let jn=typeof ft,Fi;if(Fi===void 0)if(jn==="boolean"||ft===null||jn==="string"&&ft&&ft==+ft&&!(ft%1))Fi=+ft;else return ze.errors=[{instancePath:t+"/http2SessionTimeout",schemaPath:"#/properties/http2SessionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;Fi!==void 0&&(ft=Fi,e!==void 0&&(e.http2SessionTimeout=Fi))}var a=fn===o;if(a){let jn=e.exposeHeadRoutes,Fi=o;if(typeof jn!="boolean"){let wr;if(wr===void 0)if(jn==="false"||jn===0||jn===null)wr=!1;else if(jn==="true"||jn===1)wr=!0;else return ze.errors=[{instancePath:t+"/exposeHeadRoutes",schemaPath:"#/properties/exposeHeadRoutes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;wr!==void 0&&(jn=wr,e!==void 0&&(e.exposeHeadRoutes=wr))}var a=Fi===o;if(a){let wr=e.useSemicolonDelimiter,bB=o;if(typeof wr!="boolean"){let Nt;if(Nt===void 0)if(wr==="false"||wr===0||wr===null)Nt=!1;else if(wr==="true"||wr===1)Nt=!0;else return ze.errors=[{instancePath:t+"/useSemicolonDelimiter",schemaPath:"#/properties/useSemicolonDelimiter/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Nt!==void 0&&(wr=Nt,e!==void 0&&(e.useSemicolonDelimiter=Nt))}var a=bB===o;if(a){if(e.versioning!==void 0){let Nt=e.versioning,Cc=o;if(o===Cc)if(Nt&&typeof Nt=="object"&&!Array.isArray(Nt)){let fs;if(Nt.storage===void 0&&(fs="storage")||Nt.deriveVersion===void 0&&(fs="deriveVersion"))return ze.errors=[{instancePath:t+"/versioning",schemaPath:"#/properties/versioning/required",keyword:"required",params:{missingProperty:fs},message:"must have required property '"+fs+"'"}],!1}else return ze.errors=[{instancePath:t+"/versioning",schemaPath:"#/properties/versioning/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=Cc===o}else var a=!0;if(a)if(e.constraints!==void 0){let Nt=e.constraints,Cc=o;if(o===Cc)if(Nt&&typeof Nt=="object"&&!Array.isArray(Nt))for(let fs in Nt){let pn=Nt[fs],bP=o;if(o===bP)if(pn&&typeof pn=="object"&&!Array.isArray(pn)){let Vo;if(pn.name===void 0&&(Vo="name")||pn.storage===void 0&&(Vo="storage")||pn.validate===void 0&&(Vo="validate")||pn.deriveConstraint===void 0&&(Vo="deriveConstraint"))return ze.errors=[{instancePath:t+"/constraints/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/required",keyword:"required",params:{missingProperty:Vo},message:"must have required property '"+Vo+"'"}],!1;if(pn.name!==void 0){let jc=pn.name;if(typeof jc!="string"){let wP=typeof jc,Ho;if(Ho===void 0)if(wP=="number"||wP=="boolean")Ho=""+jc;else if(jc===null)Ho="";else return ze.errors=[{instancePath:t+"/constraints/"+fs.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/constraints/additionalProperties/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ho!==void 0&&(jc=Ho,pn!==void 0&&(pn.name=Ho))}}}else return ze.errors=[{instancePath:t+"/constraints/"+fs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=bP===o;if(!m)break}else return ze.errors=[{instancePath:t+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=Cc===o}else var a=!0}}}}}}}}}}}}}}}}}}}}}}}}}else return ze.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ze.errors=i,o===0}Kh.exports.defaultInitOptions={connectionTimeout:0,keepAliveTimeout:72e3,maxRequestsPerSocket:0,requestTimeout:0,bodyLimit:1048576,caseSensitive:!0,allowUnsafeRegex:!1,disableRequestLogging:!1,jsonShorthand:!0,ignoreTrailingSlash:!1,ignoreDuplicateSlashes:!1,maxParamLength:100,onProtoPoisoning:"error",onConstructorPoisoning:"error",pluginTimeout:1e4,requestIdHeader:"request-id",requestIdLogLabel:"reqId",http2SessionTimeout:72e3,exposeHeadRoutes:!0,useSemicolonDelimiter:!0}});var e4=y((xDe,Jh)=>{"use strict";var Gh=ZV(),eSe=Nf()({circles:!0,proto:!1}),{FST_ERR_INIT_OPTS_INVALID:tSe}=Jt();function rSe(e){let t=eSe(e);if(!Gh(t)){let r=new tSe(JSON.stringify(Gh.errors.map(n=>n.message)));throw r.errors=Gh.errors,r}return f$(t)}function f$(e){let t=Object.getOwnPropertyNames(e);for(let r of t){let n=e[r];ArrayBuffer.isView(n)&&!(n instanceof DataView)||(e[r]=n&&typeof n=="object"?f$(n):n)}return Object.freeze(e)}Jh.exports=rSe;Jh.exports.defaultInitOptions=Gh.defaultInitOptions;Jh.exports.utils={deepFreezeObject:f$}});var u4=y((SDe,c4)=>{"use strict";var{kAvvioBoot:nSe,kChildren:t4,kRoutePrefix:r4,kLogLevel:n4,kLogSerializers:p$,kHooks:m$,kSchemaController:mc,kContentTypeParser:s4,kReply:i4,kRequest:o4,kFourOhFour:sSe,kPluginNameChain:a4}=At(),iSe=Ep(),oSe=zp(),aSe=LE(),cSe=mb(),{buildHooks:uSe}=Bs(),nd=HE();c4.exports=function(t,r,n){let s=nd.registerPlugin.call(t,r),i=nd.getPluginName(r)||nd.getFuncPreview(r);if(s)return t[a4].push(i),t;let o=Object.create(t);t[t4].push(o),o.ready=t[nSe].bind(o),o[t4]=[],o[i4]=iSe.buildReply(o[i4]),o[o4]=oSe.buildRequest(o[o4]),o[s4]=cSe.helpers.buildContentTypeParser(o[s4]),o[m$]=uSe(o[m$]),o[r4]=lSe(o[r4],n.prefix),o[n4]=n.logLevel||o[n4],o[mc]=aSe.buildSchemaController(t[mc]),o.getSchema=o[mc].getSchema.bind(o[mc]),o.getSchemas=o[mc].getSchemas.bind(o[mc]),o[nd.kRegisteredPlugins]=Object.create(o[nd.kRegisteredPlugins]),o[a4]=[i],(o[p$]||n.logSerializers)&&(o[p$]=Object.assign(Object.create(o[p$]),n.logSerializers)),n.prefix&&o[sSe].arrange404(o);for(let a of o[m$].onRegister)a.call(this,o,n);return o};function lSe(e,t){return t?(e.endsWith("/")&&t[0]==="/"?t=t.slice(1):t[0]!=="/"&&(t="/"+t),e+t):e}});var d4=y((EDe,l4)=>{"use strict";l4.exports=function(){return{[Symbol.iterator]:function*(){},add(){},delete(){},has(){return!0}}}});var m4=y(h$=>{"use strict";h$.parse=gSe;h$.serialize=vSe;var dSe=Object.prototype.toString,fSe=Object.prototype.hasOwnProperty,pSe=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,mSe=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,hSe=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,ySe=/^[\u0020-\u003A\u003D-\u007E]*$/;function gSe(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var s=t&&t.decode||_Se,i=0,o=0,a=0;do{if(o=e.indexOf("=",i),o===-1)break;if(a=e.indexOf(";",i),a===-1)a=n;else if(o>a){i=e.lastIndexOf(";",o-1)+1;continue}var c=f4(e,i,o),l=p4(e,o,c),u=e.slice(c,l);if(!fSe.call(r,u)){var d=f4(e,o+1,a),p=p4(e,a,d);e.charCodeAt(d)===34&&e.charCodeAt(p-1)===34&&(d++,p--);var m=e.slice(d,p);r[u]=wSe(m,s)}i=a+1}while(i<n);return r}function f4(e,t,r){do{var n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function p4(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function vSe(e,t,r){var n=r&&r.encode||encodeURIComponent;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!pSe.test(e))throw new TypeError("argument name is invalid");var s=n(t);if(!mSe.test(s))throw new TypeError("argument val is invalid");var i=e+"="+s;if(!r)return i;if(r.maxAge!=null){var o=Math.floor(r.maxAge);if(!isFinite(o))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+o}if(r.domain){if(!hSe.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!ySe.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){var a=r.expires;if(!bSe(a)||isNaN(a.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+a.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority){var c=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(c){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i}function _Se(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function bSe(e){return dSe.call(e)==="[object Date]"}function wSe(e,t){try{return t(e)}catch{return e}}});var g4=y((RDe,y4)=>{"use strict";var{URL:h4}=require("node:url"),y$="http://localhost";y4.exports=function(t,r){(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]")&&t.startsWith("//")&&(t=y$+t);let n=typeof t=="object"?Object.assign(new h4(y$),t):new h4(t,y$);if(typeof r=="string"){r=new URLSearchParams(r);for(let s of r.keys()){n.searchParams.delete(s);for(let i of r.getAll(s))n.searchParams.append(s,i)}}else{let s=Object.assign({},t.query,r);for(let i in s){let o=s[i];if(Array.isArray(o)){n.searchParams.delete(i);for(let a of o)n.searchParams.append(i,a)}else n.searchParams.set(i,o)}}return n}});var v4=y((PDe,g$)=>{"use strict";var{randomUUID:xSe}=require("node:crypto"),{Readable:SSe}=require("node:stream"),hc;function ESe(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}function $Se(e){hc=hc??new TextEncoder;let t=`----formdata-${xSe()}`,r=`--${t}\r
Content-Disposition: form-data`;let n=c=>c.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),s=c=>c.replace(/\r?\n|\r/g,`\r
`),i=new Uint8Array([13,10]);async function*o(){for(let[c,l]of e)if(typeof l=="string")yield hc.encode(`${r}; name="${n(s(c))}"\r
\r
`),yield hc.encode(`${s(l)}\r
`);else{let u=`${r}; name="${n(s(c))}"`;l.name&&(u+=`; filename="${n(l.name)}"`),u+=`\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,yield hc.encode(u),l.stream?yield*l.stream():yield l,yield i}yield hc.encode(`--${t}--`)}return{stream:SSe.from(o()),contentType:`multipart/form-data; boundary=${t}`}}g$.exports.isFormDataLike=ESe;g$.exports.formDataToStream=$Se});var w4=y((TDe,Wh)=>{"use strict";var{Readable:_4,addAbortSignal:RSe}=require("node:stream"),_$=require("node:util"),PSe=m4(),TSe=require("node:assert"),{createDeprecation:OSe}=dg(),kSe=g4(),{isFormDataLike:NSe,formDataToStream:ASe}=v4(),{EventEmitter:ISe}=require("node:events"),CSe=OSe({name:"FastifyDeprecationLightMyRequest",code:"FST_LIGHTMYREQUEST_DEP01",message:'You are accessing "request.connection", use "request.socket" instead.'});function jSe(e){return e.port?e.host:e.hostname+(e.protocol==="https:"?":443":":80")}var v$=class extends ISe{constructor(t){super(),this.remoteAddress=t}};function b4(e){return new t(this);function t(r){as.call(r,{...e,Request:void 0}),Object.assign(this,r);for(let n of Object.keys(as.prototype))this.constructor.prototype[n]=as.prototype[n];return _$.inherits(this.constructor,e.Request),this}}function as(e){_4.call(this,{autoDestroy:!1});let t=kSe(e.url||e.path,e.query);this.url=t.pathname+t.search,this.aborted=!1,this.httpVersionMajor=1,this.httpVersionMinor=1,this.httpVersion="1.1",this.method=e.method?e.method.toUpperCase():"GET",this.headers={},this.rawHeaders=[];let r=e.headers||{};for(let o in r){let a=o.toLowerCase();if((a==="user-agent"||a==="content-type")&&r[o]===void 0){this.headers[a]=void 0;continue}let c=r[o];TSe(c!==void 0,'invalid value "undefined" for header '+o),this.headers[a]=""+c}if("user-agent"in this.headers||(this.headers["user-agent"]="lightMyRequest"),this.headers.host=this.headers.host||e.authority||jSe(t),e.cookies){let{cookies:o}=e,a=Object.keys(o).map(c=>PSe.serialize(c,o[c]));this.headers.cookie&&a.unshift(this.headers.cookie),this.headers.cookie=a.join("; ")}this.socket=new v$(e.remoteAddress||"127.0.0.1"),Object.defineProperty(this,"connection",{get(){return CSe(),this.socket},configurable:!0});let n=e.payload||e.body||null,s=n&&typeof n.resume=="function";if(NSe(n)){let o=ASe(n);n=o.stream,s=!0,this.headers["content-type"]=o.contentType}n&&typeof n!="string"&&!s&&!Buffer.isBuffer(n)&&(n=JSON.stringify(n),"content-type"in this.headers||(this.headers["content-type"]="application/json")),n&&!s&&!Object.prototype.hasOwnProperty.call(this.headers,"content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(n)?n.length:Buffer.byteLength(n)).toString());for(let o of Object.keys(this.headers))this.rawHeaders.push(o,this.headers[o]);this._lightMyRequest={payload:n,isDone:!1,simulate:e.simulate||{}};let i=e.signal;return i&&RSe(i,this),this}_$.inherits(as,_4);_$.inherits(b4,as);as.prototype.prepare=function(e){let t=this._lightMyRequest.payload;if(!t||typeof t.resume!="function")return e();let r=[];t.on("data",n=>r.push(Buffer.from(n))),t.on("end",()=>{let n=Buffer.concat(r);return this.headers["content-length"]=this.headers["content-length"]||""+n.length,this._lightMyRequest.payload=n,e()}),t.resume()};as.prototype._read=function(e){setImmediate(()=>{if(this._lightMyRequest.isDone){this._lightMyRequest.simulate.end!==!1&&this.push(null);return}this._lightMyRequest.isDone=!0,this._lightMyRequest.payload&&(this._lightMyRequest.simulate.split?(this.push(this._lightMyRequest.payload.slice(0,1)),this.push(this._lightMyRequest.payload.slice(1))):this.push(this._lightMyRequest.payload)),this._lightMyRequest.simulate.error&&this.emit("error",new Error("Simulated")),this._lightMyRequest.simulate.close&&this.emit("close"),this._lightMyRequest.simulate.end!==!1&&this.push(null)})};as.prototype.destroy=function(e){this.destroyed||this._lightMyRequest.isDone||(this.destroyed=!0,e&&(this._error=!0,process.nextTick(()=>this.emit("error",e))),process.nextTick(()=>this.emit("close")))};Wh.exports=as;Wh.exports.Request=as;Wh.exports.CustomRequest=b4});var S4=y((ODe,sd)=>{"use strict";var Yh={decodeValues:!0,map:!1,silent:!1};function b$(e){return typeof e!="string"||e in{}}function w$(){return Object.create(null)}function x$(e){return typeof e=="string"&&!!e.trim()}function S$(e,t){var r=e.split(";").filter(x$),n=r.shift(),s=qSe(n),i=s.name,o=s.value;if(t=t?Object.assign({},Yh,t):Yh,b$(i))return null;try{o=t.decodeValues?decodeURIComponent(o):o}catch(c){console.error("set-cookie-parser: failed to decode cookie value. Set options.decodeValues=false to disable decoding.",c)}var a=w$();return a.name=i,a.value=o,r.forEach(function(c){var l=c.split("="),u=l.shift().trimLeft().toLowerCase();if(!b$(u)){var d=l.join("=");if(u==="expires")a.expires=new Date(d);else if(u==="max-age"){var p=parseInt(d,10);Number.isNaN(p)||(a.maxAge=p)}else u==="secure"?a.secure=!0:u==="httponly"?a.httpOnly=!0:u==="samesite"?a.sameSite=d:u==="partitioned"?a.partitioned=!0:u&&(a[u]=d)}}),a}function qSe(e){var t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}function x4(e,t){if(t=t?Object.assign({},Yh,t):Yh,!e)return t.map?w$():[];if(e.headers)if(typeof e.headers.getSetCookie=="function")e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var r=e.headers[Object.keys(e.headers).find(function(s){return s.toLowerCase()==="set-cookie"})];!r&&e.headers.cookie&&!t.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=r}if(Array.isArray(e)||(e=[e]),t.map){var n=w$();return e.filter(x$).reduce(function(s,i){var o=S$(i,t);return o&&!b$(o.name)&&(s[o.name]=o),s},n)}else return e.filter(x$).map(function(s){return S$(s,t)}).filter(Boolean)}function DSe(e){if(Array.isArray(e))return e;if(typeof e!="string")return[];var t=[],r=0,n,s,i,o,a;function c(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function l(){return s=e.charAt(r),s!=="="&&s!==";"&&s!==","}for(;r<e.length;){for(n=r,a=!1;c();)if(s=e.charAt(r),s===","){for(i=r,r+=1,c(),o=r;r<e.length&&l();)r+=1;r<e.length&&e.charAt(r)==="="?(a=!0,r=o,t.push(e.substring(n,i)),n=r):r=i+1}else r+=1;(!a||r>=e.length)&&t.push(e.substring(n,e.length))}return t}sd.exports=x4;sd.exports.parse=x4;sd.exports.parseString=S$;sd.exports.splitCookiesString=DSe});var R4=y((kDe,$4)=>{"use strict";var id=require("node:http"),{Writable:LSe,Readable:FSe}=require("node:stream"),MSe=require("node:util"),zSe=S4();function Pi(e,t,r){id.ServerResponse.call(this,e),this._lightMyRequest={headers:null,trailers:{},payloadChunks:[]},this.setHeader("foo","bar"),this.removeHeader("foo"),this.assignSocket(VSe()),this._promiseCallback=typeof r=="function";let n=!1,s=o=>{if(n=!0,this._promiseCallback)return process.nextTick(()=>t(o));process.nextTick(()=>t(null,o))},i=o=>{if(!n){if(n=!0,this._promiseCallback)return process.nextTick(()=>r(o));process.nextTick(()=>t(o,null))}};this.once("finish",()=>{let o=USe(this);o.raw.req=e,s(o)}),this.connection.once("error",i),this.once("error",i),this.once("close",i)}MSe.inherits(Pi,id.ServerResponse);Pi.prototype.setTimeout=function(e,t){return this.timeoutHandle=setTimeout(()=>{this.emit("timeout")},e),this.on("timeout",t),this};Pi.prototype.writeHead=function(){let e=id.ServerResponse.prototype.writeHead.apply(this,arguments);return E4(this),e};Pi.prototype.write=function(e,t,r){return this.timeoutHandle&&clearTimeout(this.timeoutHandle),id.ServerResponse.prototype.write.call(this,e,t,r),this._lightMyRequest.payloadChunks.push(Buffer.from(e,t)),!0};Pi.prototype.end=function(e,t,r){e&&this.write(e,t),id.ServerResponse.prototype.end.call(this,r),this.emit("finish"),this.destroy()};Pi.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&process.nextTick(()=>this.emit("error",e)),process.nextTick(()=>this.emit("close")))};Pi.prototype.addTrailers=function(e){for(let t in e)this._lightMyRequest.trailers[t.toLowerCase().trim()]=e[t].toString().trim()};function USe(e){e._lightMyRequest.headers===null&&E4(e),HSe(e);let t={raw:{res:e},headers:e._lightMyRequest.headers,statusCode:e.statusCode,statusMessage:e.statusMessage,trailers:{},get cookies(){return zSe.parse(this)}},r=Buffer.concat(e._lightMyRequest.payloadChunks);return t.rawPayload=r,t.payload=r.toString(),t.body=t.payload,t.trailers=e._lightMyRequest.trailers,t.json=function(){return JSON.parse(t.payload)},t.stream=function(){return FSe.from(e._lightMyRequest.payloadChunks)},t}function VSe(){return new LSe({write(e,t,r){setImmediate(r)}})}function HSe(e){let t=e._lightMyRequest.headers;for(let r of Object.keys(t)){let n=t[r];Array.isArray(n)?t[r]=n.map(s=>""+s):t[r]=""+n}}function E4(e){e._lightMyRequest.headers=Object.assign({},e.getHeaders()),["Date","Connection","Transfer-Encoding"].forEach(t=>{let r=new RegExp("\\r\\n"+t+": ([^\\r]*)\\r\\n"),n=e._header.match(r);n&&(e._lightMyRequest.headers[t.toLowerCase()]=n[1])})}$4.exports=Pi});var P4=y((NDe,E$)=>{"use strict";E$.exports=$t;E$.exports.default=$t;var BSe={type:"object",properties:{url:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},path:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},cookies:{type:"object",additionalProperties:!0},headers:{type:"object",additionalProperties:!0},query:{anyOf:[{type:"object",additionalProperties:!0},{type:"string"}]},simulate:{type:"object",properties:{end:{type:"boolean"},split:{type:"boolean"},error:{type:"boolean"},close:{type:"boolean"}}},authority:{type:"string"},remoteAddress:{type:"string"},method:{type:"string",enum:["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE","acl","bind","checkout","connect","copy","delete","get","head","link","lock","m-search","merge","mkactivity","mkcalendar","mkcol","move","notify","options","patch","post","propfind","proppatch","purge","put","rebind","report","search","source","subscribe","trace","unbind","unlink","unlock","unsubscribe"]},validate:{type:"boolean"}},additionalProperties:!0,oneOf:[{required:["url"]},{required:["path"]}]};function $t(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:s=e}={}){let i=null,o=0,a=o,c=!1,l=null,u=o;if(e&&typeof e=="object"&&!Array.isArray(e)){let g;if(e.url===void 0&&(g="url")){let x={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"};i===null?i=[x]:i.push(x),o++}}var p=u===o;p&&(c=!0,l=0);let d=o;if(e&&typeof e=="object"&&!Array.isArray(e)){let g;if(e.path===void 0&&(g="path")){let x={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"};i===null?i=[x]:i.push(x),o++}}var p=d===o;if(p&&c?(c=!1,l=[l,1]):p&&(c=!0,l=1),c)o=a,i!==null&&(a?i.length=a:i=null);else{let g={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf"};return i===null?i=[g]:i.push(g),o++,$t.errors=i,!1}if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){if(e.url!==void 0){let g=e.url,x=o,R=o,w=!1,E=null,P=o;if(typeof g!="string"){let j=typeof g,O;if(O===void 0)if(j=="number"||j=="boolean")O=""+g;else if(g===null)O="";else{let T={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[T]:i.push(T),o++}O!==void 0&&(g=O,e!==void 0&&(e.url=O))}var f=P===o;f&&(w=!0,E=0);let $=o;if(o===$)if(g&&typeof g=="object"&&!Array.isArray(g)){let j;if(g.pathname===void 0&&(j="pathname")){let O={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/1/required",keyword:"required",params:{missingProperty:j},message:"must have required property '"+j+"'"};i===null?i=[O]:i.push(O),o++}else{if(g.protocol!==void 0){let O=g.protocol,T=o;if(typeof O!="string"){let A=typeof O,F;if(F===void 0)if(A=="number"||A=="boolean")F=""+O;else if(O===null)F="";else{let C={instancePath:t+"/url/protocol",schemaPath:"#/properties/url/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),o++}F!==void 0&&(O=F,g!==void 0&&(g.protocol=F))}var m=T===o}else var m=!0;if(m){if(g.hostname!==void 0){let O=g.hostname,T=o;if(typeof O!="string"){let F=typeof O,C;if(C===void 0)if(F=="number"||F=="boolean")C=""+O;else if(O===null)C="";else{let I={instancePath:t+"/url/hostname",schemaPath:"#/properties/url/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[I]:i.push(I),o++}C!==void 0&&(O=C,g!==void 0&&(g.hostname=C))}var m=T===o}else var m=!0;if(m)if(g.pathname!==void 0){let O=g.pathname,T=o;if(typeof O!="string"){let F=typeof O,C;if(C===void 0)if(F=="number"||F=="boolean")C=""+O;else if(O===null)C="";else{let I={instancePath:t+"/url/pathname",schemaPath:"#/properties/url/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[I]:i.push(I),o++}C!==void 0&&(O=C,g!==void 0&&(g.pathname=C))}var m=T===o}else var m=!0}}}else{let j={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[j]:i.push(j),o++}var f=$===o;if(f&&w?(w=!1,E=[E,1]):f&&(w=!0,E=1),w)o=R,i!==null&&(R?i.length=R:i=null);else{let j={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf",keyword:"oneOf",params:{passingSchemas:E},message:"must match exactly one schema in oneOf"};return i===null?i=[j]:i.push(j),o++,$t.errors=i,!1}var h=x===o}else var h=!0;if(h){if(e.path!==void 0){let g=e.path,x=o,R=o,w=!1,E=null,P=o;if(typeof g!="string"){let O=typeof g,T;if(T===void 0)if(O=="number"||O=="boolean")T=""+g;else if(g===null)T="";else{let A={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[A]:i.push(A),o++}T!==void 0&&(g=T,e!==void 0&&(e.path=T))}var b=P===o;b&&(w=!0,E=0);let $=o;if(o===$)if(g&&typeof g=="object"&&!Array.isArray(g)){let O;if(g.pathname===void 0&&(O="pathname")){let T={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/1/required",keyword:"required",params:{missingProperty:O},message:"must have required property '"+O+"'"};i===null?i=[T]:i.push(T),o++}else{if(g.protocol!==void 0){let T=g.protocol,A=o;if(typeof T!="string"){let F=typeof T,C;if(C===void 0)if(F=="number"||F=="boolean")C=""+T;else if(T===null)C="";else{let I={instancePath:t+"/path/protocol",schemaPath:"#/properties/path/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[I]:i.push(I),o++}C!==void 0&&(T=C,g!==void 0&&(g.protocol=C))}var v=A===o}else var v=!0;if(v){if(g.hostname!==void 0){let T=g.hostname,A=o;if(typeof T!="string"){let C=typeof T,I;if(I===void 0)if(C=="number"||C=="boolean")I=""+T;else if(T===null)I="";else{let D={instancePath:t+"/path/hostname",schemaPath:"#/properties/path/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[D]:i.push(D),o++}I!==void 0&&(T=I,g!==void 0&&(g.hostname=I))}var v=A===o}else var v=!0;if(v)if(g.pathname!==void 0){let T=g.pathname,A=o;if(typeof T!="string"){let C=typeof T,I;if(I===void 0)if(C=="number"||C=="boolean")I=""+T;else if(T===null)I="";else{let D={instancePath:t+"/path/pathname",schemaPath:"#/properties/path/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[D]:i.push(D),o++}I!==void 0&&(T=I,g!==void 0&&(g.pathname=I))}var v=A===o}else var v=!0}}}else{let O={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[O]:i.push(O),o++}var b=$===o;if(b&&w?(w=!1,E=[E,1]):b&&(w=!0,E=1),w)o=R,i!==null&&(R?i.length=R:i=null);else{let O={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf",keyword:"oneOf",params:{passingSchemas:E},message:"must match exactly one schema in oneOf"};return i===null?i=[O]:i.push(O),o++,$t.errors=i,!1}var h=x===o}else var h=!0;if(h){if(e.cookies!==void 0){let g=e.cookies,x=o;if(o===x&&!(g&&typeof g=="object"&&!Array.isArray(g)))return $t.errors=[{instancePath:t+"/cookies",schemaPath:"#/properties/cookies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var h=x===o}else var h=!0;if(h){if(e.headers!==void 0){let g=e.headers,x=o;if(o===x&&!(g&&typeof g=="object"&&!Array.isArray(g)))return $t.errors=[{instancePath:t+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var h=x===o}else var h=!0;if(h){if(e.query!==void 0){let g=e.query,x=o,R=o,w=!1,E=o;if(o===E&&!(g&&typeof g=="object"&&!Array.isArray(g))){let $={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[$]:i.push($),o++}var S=E===o;if(w=w||S,!w){let $=o;if(typeof g!="string"){let O=typeof g,T;if(T===void 0)if(O=="number"||O=="boolean")T=""+g;else if(g===null)T="";else{let A={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[A]:i.push(A),o++}T!==void 0&&(g=T,e!==void 0&&(e.query=T))}var S=$===o;w=w||S}if(w)o=R,i!==null&&(R?i.length=R:i=null);else{let $={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[$]:i.push($),o++,$t.errors=i,!1}var h=x===o}else var h=!0;if(h){if(e.simulate!==void 0){let g=e.simulate,x=o;if(o===x)if(g&&typeof g=="object"&&!Array.isArray(g)){if(g.end!==void 0){let w=g.end,E=o;if(typeof w!="boolean"){let P;if(P===void 0)if(w==="false"||w===0||w===null)P=!1;else if(w==="true"||w===1)P=!0;else return $t.errors=[{instancePath:t+"/simulate/end",schemaPath:"#/properties/simulate/properties/end/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;P!==void 0&&(w=P,g!==void 0&&(g.end=P))}var _=E===o}else var _=!0;if(_){if(g.split!==void 0){let w=g.split,E=o;if(typeof w!="boolean"){let $;if($===void 0)if(w==="false"||w===0||w===null)$=!1;else if(w==="true"||w===1)$=!0;else return $t.errors=[{instancePath:t+"/simulate/split",schemaPath:"#/properties/simulate/properties/split/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$!==void 0&&(w=$,g!==void 0&&(g.split=$))}var _=E===o}else var _=!0;if(_){if(g.error!==void 0){let w=g.error,E=o;if(typeof w!="boolean"){let $;if($===void 0)if(w==="false"||w===0||w===null)$=!1;else if(w==="true"||w===1)$=!0;else return $t.errors=[{instancePath:t+"/simulate/error",schemaPath:"#/properties/simulate/properties/error/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$!==void 0&&(w=$,g!==void 0&&(g.error=$))}var _=E===o}else var _=!0;if(_)if(g.close!==void 0){let w=g.close,E=o;if(typeof w!="boolean"){let $;if($===void 0)if(w==="false"||w===0||w===null)$=!1;else if(w==="true"||w===1)$=!0;else return $t.errors=[{instancePath:t+"/simulate/close",schemaPath:"#/properties/simulate/properties/close/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$!==void 0&&(w=$,g!==void 0&&(g.close=$))}var _=E===o}else var _=!0}}}else return $t.errors=[{instancePath:t+"/simulate",schemaPath:"#/properties/simulate/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var h=x===o}else var h=!0;if(h){if(e.authority!==void 0){let g=e.authority,x=o;if(typeof g!="string"){let w=typeof g,E;if(E===void 0)if(w=="number"||w=="boolean")E=""+g;else if(g===null)E="";else return $t.errors=[{instancePath:t+"/authority",schemaPath:"#/properties/authority/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E!==void 0&&(g=E,e!==void 0&&(e.authority=E))}var h=x===o}else var h=!0;if(h){if(e.remoteAddress!==void 0){let g=e.remoteAddress,x=o;if(typeof g!="string"){let w=typeof g,E;if(E===void 0)if(w=="number"||w=="boolean")E=""+g;else if(g===null)E="";else return $t.errors=[{instancePath:t+"/remoteAddress",schemaPath:"#/properties/remoteAddress/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E!==void 0&&(g=E,e!==void 0&&(e.remoteAddress=E))}var h=x===o}else var h=!0;if(h){if(e.method!==void 0){let g=e.method,x=o;if(typeof g!="string"){let w=typeof g,E;if(E===void 0)if(w=="number"||w=="boolean")E=""+g;else if(g===null)E="";else return $t.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E!==void 0&&(g=E,e!==void 0&&(e.method=E))}if(!(g==="ACL"||g==="BIND"||g==="CHECKOUT"||g==="CONNECT"||g==="COPY"||g==="DELETE"||g==="GET"||g==="HEAD"||g==="LINK"||g==="LOCK"||g==="M-SEARCH"||g==="MERGE"||g==="MKACTIVITY"||g==="MKCALENDAR"||g==="MKCOL"||g==="MOVE"||g==="NOTIFY"||g==="OPTIONS"||g==="PATCH"||g==="POST"||g==="PROPFIND"||g==="PROPPATCH"||g==="PURGE"||g==="PUT"||g==="REBIND"||g==="REPORT"||g==="SEARCH"||g==="SOURCE"||g==="SUBSCRIBE"||g==="TRACE"||g==="UNBIND"||g==="UNLINK"||g==="UNLOCK"||g==="UNSUBSCRIBE"||g==="acl"||g==="bind"||g==="checkout"||g==="connect"||g==="copy"||g==="delete"||g==="get"||g==="head"||g==="link"||g==="lock"||g==="m-search"||g==="merge"||g==="mkactivity"||g==="mkcalendar"||g==="mkcol"||g==="move"||g==="notify"||g==="options"||g==="patch"||g==="post"||g==="propfind"||g==="proppatch"||g==="purge"||g==="put"||g==="rebind"||g==="report"||g==="search"||g==="source"||g==="subscribe"||g==="trace"||g==="unbind"||g==="unlink"||g==="unlock"||g==="unsubscribe"))return $t.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:BSe.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var h=x===o}else var h=!0;if(h)if(e.validate!==void 0){let g=e.validate,x=o;if(typeof g!="boolean"){let w;if(w===void 0)if(g==="false"||g===0||g===null)w=!1;else if(g==="true"||g===1)w=!0;else return $t.errors=[{instancePath:t+"/validate",schemaPath:"#/properties/validate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;w!==void 0&&(g=w,e!==void 0&&(e.validate=w))}var h=x===o}else var h=!0}}}}}}}}}else return $t.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return $t.errors=i,o===0}});var k4=y((ADe,ad)=>{"use strict";var KSe=require("node:assert"),$$=w4(),Xh=R4(),Zh="The dispatch function has already been invoked",T4=P4();function R$(e,t,r){return r===void 0?new od(e,t):Qh(e,t,r)}function O4(e,t,r,n){return r.once("error",function(s){this.destroyed&&n.destroy(s)}),r.once("close",function(){this.destroyed&&!this._error&&n.destroy()}),r.prepare(()=>e.call(t,r,n))}function Qh(e,t,r){if(t=typeof t=="string"?{url:t}:t,t.validate!==!1&&(KSe(typeof e=="function","dispatchFunc should be a function"),!T4(t)))throw new Error(T4.errors.map(o=>o.message));let n=t.server||{},s=t.Request?$$.CustomRequest:$$;if(e.request&&e.request.app===e&&(Object.setPrototypeOf(Object.getPrototypeOf(e.request),s.prototype),Object.setPrototypeOf(Object.getPrototypeOf(e.response),Xh.prototype)),typeof r=="function"){let i=new s(t),o=new Xh(i,r);return O4(e,n,i,o)}else return new Promise((i,o)=>{let a=new s(t),c=new Xh(a,i,o);O4(e,n,a,c)})}function od(e,t){typeof t=="string"?this.option={url:t}:this.option=Object.assign({},t),this.dispatch=e,this._hasInvoked=!1,this._promise=null,this.option.autoStart!==!1&&process.nextTick(()=>{this._hasInvoked||this.end()})}var GSe=["delete","get","head","options","patch","post","put","trace"];GSe.forEach(e=>{od.prototype[e]=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(Zh);return this.option.url=t,this.option.method=e.toUpperCase(),this}});var JSe=["body","cookies","headers","payload","query"];JSe.forEach(e=>{od.prototype[e]=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(Zh);return this.option[e]=t,this}});od.prototype.end=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(Zh);if(this._hasInvoked=!0,typeof e=="function")Qh(this.dispatch,this.option,e);else return this._promise=Qh(this.dispatch,this.option),this._promise};Object.getOwnPropertyNames(Promise.prototype).forEach(e=>{e!=="constructor"&&(od.prototype[e]=function(...t){if(!this._promise){if(this._hasInvoked===!0)throw new Error(Zh);this._hasInvoked=!0,this._promise=Qh(this.dispatch,this.option)}return this._promise[e](...t)})});function WSe(e){return e instanceof $$||e instanceof Xh||e&&e.constructor&&e.constructor.name==="_CustomLMRRequest"}ad.exports=R$;ad.exports.default=R$;ad.exports.inject=R$;ad.exports.isInjection=WSe});var B4=y((IDe,ny)=>{"use strict";var YSe="4.26.0",XSe=a1(),P$=require("node:http"),cd,{kAvvioBoot:ud,kChildren:T$,kServerBindings:N4,kBodyLimit:QSe,kRoutePrefix:A4,kLogLevel:ZSe,kLogSerializers:eEe,kHooks:O$,kSchemaController:Ti,kRequestAcceptVersion:tEe,kReplySerializerDefault:I4,kContentTypeParser:rEe,kReply:nEe,kRequest:sEe,kFourOhFour:iEe,kState:St,kOptions:k$,kPluginNameChain:ld,kSchemaErrorFormatter:N$,kErrorHandler:ey,kKeepAliveConnections:A$,kChildLoggerFactory:I$,kGenReqId:C$}=At(),{createServer:oEe,compileValidateHTTPVersion:aEe}=k1(),dd=Ep(),ty=zp(),cEe=Up(),{supportedMethods:uEe}=eb(),yc=ib(),No=mb(),C4=LE(),{Hooks:lEe,hookRunnerApplication:j4,supportedHooks:j$}=Bs(),{createLogger:dEe,createChildLogger:q4,defaultChildLoggerFactory:fEe}=Hc(),D4=HE(),{getGenReqId:L4,reqIdGenFactory:F4}=Ph(),{buildRouting:pEe,validateBodyLimitOption:mEe}=HV(),hEe=XV(),H4=e4(),yEe=u4(),{FSTDEP009:gEe}=ps(),vEe=d4(),{appendStackTrace:_Ee,AVVIO_ERRORS_MAP:M4,...Ao}=Jt(),{defaultInitOptions:qr}=H4,{FST_ERR_ASYNC_CONSTRAINT:bEe,FST_ERR_BAD_URL:wEe,FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:xEe,FST_ERR_OPTIONS_NOT_OBJ:SEe,FST_ERR_QSP_NOT_FN:EEe,FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:$Ee,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:REe,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:PEe,FST_ERR_VERSION_CONSTRAINT_NOT_STR:TEe,FST_ERR_INSTANCE_ALREADY_LISTENING:OEe,FST_ERR_REOPENED_CLOSE_SERVER:kEe,FST_ERR_ROUTE_REWRITE_NOT_STR:NEe,FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:z4}=Ao,{buildErrorHandler:U4}=Su();function AEe(e){let t={};return["errorHandler","logLevel","logSerializers"].concat(j$).forEach(n=>{t[n]=e.store[n]}),Object.assign({},t)}function ry(e){if(e=e||{},typeof e!="object")throw new SEe;if(e.querystringParser&&typeof e.querystringParser!="function")throw new EEe(typeof e.querystringParser);if(e.schemaController&&e.schemaController.bucket&&typeof e.schemaController.bucket!="function")throw new $Ee(typeof e.schemaController.bucket);mEe(e.bodyLimit);let t=e.requestIdHeader===!1?!1:(e.requestIdHeader||qr.requestIdHeader).toLowerCase(),r=F4(t,e.genReqId),n=e.requestIdLogLabel||"reqId",s=e.bodyLimit||qr.bodyLimit,i=e.disableRequestLogging||!1,o=Object.assign({customOptions:{},plugins:[]},e.ajv),a=e.frameworkErrors;if(!o.customOptions||Object.prototype.toString.call(o.customOptions)!=="[object Object]")throw new REe(typeof o.customOptions);if(!o.plugins||!Array.isArray(o.plugins))throw new PEe(typeof o.plugins);let{logger:c,hasLogger:l}=dEe(e);e.connectionTimeout=e.connectionTimeout||qr.connectionTimeout,e.keepAliveTimeout=e.keepAliveTimeout||qr.keepAliveTimeout,e.maxRequestsPerSocket=e.maxRequestsPerSocket||qr.maxRequestsPerSocket,e.requestTimeout=e.requestTimeout||qr.requestTimeout,e.logger=c,e.requestIdHeader=t,e.requestIdLogLabel=n,e.disableRequestLogging=i,e.ajv=o,e.clientErrorHandler=e.clientErrorHandler||I;let u=H4(e);e.exposeHeadRoutes=u.exposeHeadRoutes;let d=e.constraints;e.versioning&&(gEe(),d={...d,version:{name:"version",mustMatchWhenDerived:!0,storage:e.versioning.storage,deriveConstraint:e.versioning.deriveVersion,validate(N){if(typeof N!="string")throw new TEe}}});let p=pEe({config:{defaultRoute:D,onBadUrl:q,constraints:d,ignoreTrailingSlash:e.ignoreTrailingSlash||qr.ignoreTrailingSlash,ignoreDuplicateSlashes:e.ignoreDuplicateSlashes||qr.ignoreDuplicateSlashes,maxParamLength:e.maxParamLength||qr.maxParamLength,caseSensitive:e.caseSensitive,allowUnsafeRegex:e.allowUnsafeRegex||qr.allowUnsafeRegex,buildPrettyMeta:AEe,querystringParser:e.querystringParser,useSemicolonDelimiter:e.useSemicolonDelimiter??qr.useSemicolonDelimiter}}),m=hEe(e),f=Ue(p,e);e.http2SessionTimeout=u.http2SessionTimeout;let{server:h,listen:v}=oEe(e,f),b=typeof h.closeAllConnections=="function",S=typeof h.closeIdleConnections=="function",_=e.forceCloseConnections;if(_==="idle"&&!S)throw new xEe;typeof _!="boolean"&&(_=S?"idle":!1);let g=!b&&_===!0?new Set:vEe(),x=dd.setupResponseListeners,R=C4.buildSchemaController(null,e.schemaController),w={[St]:{listening:!1,closing:!1,started:!1,ready:!1,booting:!1,readyPromise:null},[A$]:g,[k$]:e,[T$]:[],[N4]:[],[QSe]:s,[A4]:"",[ZSe]:"",[eEe]:null,[O$]:new lEe,[Ti]:R,[N$]:null,[ey]:U4(),[I$]:fEe,[I4]:null,[rEe]:new No(s,e.onProtoPoisoning||qr.onProtoPoisoning,e.onConstructorPoisoning||qr.onConstructorPoisoning),[nEe]:dd.buildReply(dd),[sEe]:ty.buildRequest(ty,e.trustProxy),[iEe]:m,[D4.kRegisteredPlugins]:[],[ld]:["fastify"],[ud]:null,[C$]:r,routing:f,getDefaultRoute:p.getDefaultRoute.bind(p),setDefaultRoute:p.setDefaultRoute.bind(p),delete:function(M,V,Z){return p.prepareRoute.call(this,{method:"DELETE",url:M,options:V,handler:Z})},get:function(M,V,Z){return p.prepareRoute.call(this,{method:"GET",url:M,options:V,handler:Z})},head:function(M,V,Z){return p.prepareRoute.call(this,{method:"HEAD",url:M,options:V,handler:Z})},patch:function(M,V,Z){return p.prepareRoute.call(this,{method:"PATCH",url:M,options:V,handler:Z})},post:function(M,V,Z){return p.prepareRoute.call(this,{method:"POST",url:M,options:V,handler:Z})},put:function(M,V,Z){return p.prepareRoute.call(this,{method:"PUT",url:M,options:V,handler:Z})},options:function(M,V,Z){return p.prepareRoute.call(this,{method:"OPTIONS",url:M,options:V,handler:Z})},all:function(M,V,Z){return p.prepareRoute.call(this,{method:uEe,url:M,options:V,handler:Z})},route:function(M){return p.route.call(this,{options:M})},hasRoute:function(M){return p.hasRoute.call(this,{options:M})},findRoute:function(M){return p.findRoute(M)},log:c,withTypeProvider:A,addHook:F,addSchema:C,getSchema:R.getSchema.bind(R),getSchemas:R.getSchemas.bind(R),setValidatorCompiler:Q,setSerializerCompiler:He,setSchemaController:ce,setReplySerializer:Et,setSchemaErrorFormatter:lt,setGenReqId:be,addContentTypeParser:No.helpers.addContentTypeParser,hasContentTypeParser:No.helpers.hasContentTypeParser,getDefaultJsonParser:No.defaultParsers.getDefaultJsonParser,defaultTextParser:No.defaultParsers.defaultTextParser,removeContentTypeParser:No.helpers.removeContentTypeParser,removeAllContentTypeParsers:No.helpers.removeAllContentTypeParsers,register:null,after:null,ready:null,onClose:null,close:null,printPlugins:null,hasPlugin:function(N){return this[D4.kRegisteredPlugins].includes(N)||this[ld].includes(N)},listen:v,server:h,addresses:function(){let N=this[N4].map(M=>M.address());return N.push(this.server.address()),N.filter(M=>M)},decorate:yc.add,hasDecorator:yc.exist,decorateReply:yc.decorateReply,decorateRequest:yc.decorateRequest,hasRequestDecorator:yc.existRequest,hasReplyDecorator:yc.existReply,inject:O,printRoutes:kt,setNotFoundHandler:se,setErrorHandler:ne,setChildLoggerFactory:G,initialConfig:u,addConstraintStrategy:p.addConstraintStrategy.bind(p),hasConstraintStrategy:p.hasConstraintStrategy.bind(p)};Object.defineProperties(w,{listeningOrigin:{get(){let N=this.addresses().slice(-1).pop();if(typeof N=="string")return N;let M=N.family==="IPv6"?`[${N.address}]`:N.address;return`${this[k$].https?"https":"http"}://${M}:${N.port}`}},pluginName:{configurable:!0,get(){return this[ld].length>1?this[ld].join(" -> "):this[ld][0]}},prefix:{configurable:!0,get(){return this[A4]}},validatorCompiler:{configurable:!0,get(){return this[Ti].getValidatorCompiler()}},serializerCompiler:{configurable:!0,get(){return this[Ti].getSerializerCompiler()}},childLoggerFactory:{configurable:!0,get(){return this[I$]}},version:{configurable:!0,get(){return YSe}},errorHandler:{configurable:!0,get(){return this[ey].func}},genReqId:{configurable:!0,get(){return this[C$]}}}),e.schemaErrorFormatter&&(V4(e.schemaErrorFormatter),w[N$]=e.schemaErrorFormatter.bind(w));let E=Number(e.pluginTimeout),P=XSe(w,{autostart:!1,timeout:isNaN(E)===!1?E:qr.pluginTimeout,expose:{use:"register"}});P.override=yEe,P.on("start",()=>w[St].started=!0),w[ud]=w.ready,w.ready=T,w.printPlugins=P.prettyPrint.bind(P),P.once("preReady",()=>{w.onClose((N,M)=>{w[St].closing=!0,p.closeRoutes(),j4("preClose",w[ud],w,function(){if(w[St].listening){if(_==="idle")N.server.closeIdleConnections();else if(b&&_)N.server.closeAllConnections();else if(_===!0)for(let V of w[A$])V.destroy(),w[A$].delete(V)}!e.serverFactory||w[St].listening?N.server.close(function(V){V&&V.code!=="ERR_SERVER_NOT_RUNNING"?M(null):M()}):process.nextTick(M,null)})})});let $=new cEe({server:w,config:{}});w.setNotFoundHandler(),m.arrange404(w),p.setup(e,{avvio:P,fourOhFour:m,logger:c,hasLogger:l,setupResponseListeners:x,throwIfAlreadyStarted:j,validateHTTPVersion:aEe(e),keepAliveConnections:g}),h.on("clientError",e.clientErrorHandler.bind(w));try{let M=require("node:diagnostics_channel").channel("fastify.initialization");M.hasSubscribers&&M.publish({fastify:w})}catch{}return"asyncDispose"in Symbol&&(w[Symbol.asyncDispose]=function(){return w.close()}),w;function j(N){if(w[St].started)throw new OEe(N)}function O(N,M){if(cd===void 0&&(cd=k4()),w[St].started){if(w[St].closing){let V=new kEe;if(M){M(V);return}else return Promise.reject(V)}return cd(f,N,M)}if(M)this.ready(V=>{V?M(V,null):cd(f,N,M)});else return cd((V,Z)=>{this.ready(function(Te){if(Te){Z.emit("error",Te);return}f(V,Z)})},N)}function T(N){if(this[St].readyPromise!==null){if(N!=null){this[St].readyPromise.then(()=>N(null,w),N);return}return this[St].readyPromise}let M,V;if(process.nextTick(Z),this[St].readyPromise=new Promise(function(ee,tt){M=ee,V=tt}),N)this[St].readyPromise.then(()=>N(null,w),N);else return this[St].readyPromise;function Z(){w[ud]((ee,tt)=>{ee||w[St].started||w[St].ready||w[St].booting?Te(ee):(w[St].booting=!0,j4("onReady",w[ud],w,Te)),tt()})}function Te(ee){if(ee=ee!=null&&M4[ee.code]!=null?_Ee(ee,new M4[ee.code](ee.message)):ee,ee)return V(ee);M(w),w[St].booting=!1,w[St].ready=!0,w[St].promise=null}}function A(){return this}function F(N,M){if(j('Cannot call "addHook"!'),M==null)throw new Ao.FST_ERR_HOOK_INVALID_HANDLER(N,M);if(N==="onSend"||N==="preSerialization"||N==="onError"||N==="preParsing"){if(M.constructor.name==="AsyncFunction"&&M.length===4)throw new Ao.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(N==="onReady"||N==="onListen"){if(M.constructor.name==="AsyncFunction"&&M.length!==0)throw new Ao.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(N==="onRequestAbort"){if(M.constructor.name==="AsyncFunction"&&M.length!==1)throw new Ao.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(M.constructor.name==="AsyncFunction"&&M.length===3)throw new Ao.FST_ERR_HOOK_INVALID_ASYNC_HANDLER;return N==="onClose"?this.onClose(M):N==="onReady"||N==="onListen"||N==="onRoute"?this[O$].add(N,M):this.after((Z,Te)=>{V.call(this,N,M),Te(Z)}),this;function V(Z,Te){this[O$].add(Z,Te),this[T$].forEach(ee=>V.call(ee,Z,Te))}}function C(N){return j('Cannot call "addSchema"!'),this[Ti].add(N),this[T$].forEach(M=>M.addSchema(N)),this}function I(N,M){if(N.code==="ECONNRESET"||M.destroyed)return;let V,Z,Te,ee;N.code==="ERR_HTTP_REQUEST_TIMEOUT"?(Z="408",Te=P$.STATUS_CODES[Z],V=`{"error":"${Te}","message":"Client Timeout","statusCode":408}`,ee="timeout"):N.code==="HPE_HEADER_OVERFLOW"?(Z="431",Te=P$.STATUS_CODES[Z],V=`{"error":"${Te}","message":"Exceeded maximum allowed HTTP header size","statusCode":431}`,ee="header_overflow"):(Z="400",Te=P$.STATUS_CODES[Z],V=`{"error":"${Te}","message":"Client Error","statusCode":400}`,ee="error"),this.log.trace({err:N},`client ${ee}`),M.writable&&M.write(`HTTP/1.1 ${Z} ${Te}\r
Content-Length: ${V.length}\r
Content-Type: application/json\r
\r
${V}`),M.destroy(N)}function D(N,M){N.headers["accept-version"]!==void 0&&(N.headers[tEe]=N.headers["accept-version"],N.headers["accept-version"]=void 0),m.router.lookup(N,M)}function q(N,M,V){if(a){let Te=L4($.server,M),ee=q4($,c,M,Te),tt=new ty(Te,null,M,null,ee,$),ls=new dd(V,tt,ee);return i===!1&&ee.info({req:tt},"incoming request"),a(new wEe(N),tt,ls)}let Z=`{"error":"Bad Request","code":"FST_ERR_BAD_URL","message":"'${N}' is not a valid url component","statusCode":400}`;V.writeHead(400,{"Content-Type":"application/json","Content-Length":Z.length}),V.end(Z)}function te(N,M,V){if(N!==!1)return function(Te){if(Te){if(a){let tt=L4($.server,M),ls=q4($,c,M,tt),ht=new ty(tt,null,M,null,ls,$),Cn=new dd(V,ht,ls);return i===!1&&ls.info({req:ht},"incoming request"),a(new bEe,ht,Cn)}let ee='{"error":"Internal Server Error","message":"Unexpected error from async constraint","statusCode":500}';V.writeHead(500,{"Content-Type":"application/json","Content-Length":ee.length}),V.end(ee)}}}function se(N,M){return j('Cannot call "setNotFoundHandler"!'),m.setNotFoundHandler.call(this,N,M,P,p.routeHandler),this}function Q(N){return j('Cannot call "setValidatorCompiler"!'),this[Ti].setValidatorCompiler(N),this}function lt(N){return j('Cannot call "setSchemaErrorFormatter"!'),V4(N),this[N$]=N.bind(this),this}function He(N){return j('Cannot call "setSerializerCompiler"!'),this[Ti].setSerializerCompiler(N),this}function ce(N){j('Cannot call "setSchemaController"!');let M=this[Ti],V=C4.buildSchemaController(M,Object.assign({},M.opts,N));return this[Ti]=V,this.getSchema=V.getSchema.bind(V),this.getSchemas=V.getSchemas.bind(V),this}function Et(N){return j('Cannot call "setReplySerializer"!'),this[I4]=N,this}function ne(N){return j('Cannot call "setErrorHandler"!'),this[ey]=U4(this[ey],N.bind(this)),this}function G(N){return j('Cannot call "setChildLoggerFactory"!'),this[I$]=N,this}function kt(N={}){return N.includeMeta=N.includeHooks?N.includeMeta?j$.concat(N.includeMeta):j$:N.includeMeta,p.printRoutes(N)}function Ue(N,{rewriteUrl:M,logger:V}){let Z;return function(ee,tt){if(Z===void 0&&(Z=N.isAsyncConstraint()),M){ee.originalUrl=ee.url;let ls=M.call(w,ee);if(typeof ls=="string")ee.url=ls;else{let ht=new NEe(ee.url,typeof ls);ee.destroy(ht)}}N.routing(ee,tt,te(Z,ee,tt))}}function be(N){return j('Cannot call "setGenReqId"!'),this[C$]=F4(this[k$].requestIdHeader,N),this}}ry.errorCodes=Ao;function V4(e){if(typeof e!="function")throw new z4(typeof e);if(e.constructor.name==="AsyncFunction")throw new z4("AsyncFunction")}ny.exports=ry;ny.exports.fastify=ry;ny.exports.default=ry});var i3=y((zDe,s3)=>{var n3=require("stream").Stream,g$e=require("util");s3.exports=An;function An(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}g$e.inherits(An,n3);An.create=function(e,t){var r=new this;t=t||{};for(var n in t)r[n]=t[n];r.source=e;var s=e.emit;return e.emit=function(){return r._handleEmit(arguments),s.apply(e,arguments)},e.on("error",function(){}),r.pauseStream&&e.pause(),r};Object.defineProperty(An.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});An.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};An.prototype.resume=function(){this._released||this.release(),this.source.resume()};An.prototype.pause=function(){this.source.pause()};An.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]};An.prototype.pipe=function(){var e=n3.prototype.pipe.apply(this,arguments);return this.resume(),e};An.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}e[0]==="data"&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)};An.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}});var u3=y((UDe,c3)=>{var v$e=require("util"),a3=require("stream").Stream,o3=i3();c3.exports=mt;function mt(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}v$e.inherits(mt,a3);mt.create=function(e){var t=new this;e=e||{};for(var r in e)t[r]=e[r];return t};mt.isStreamLike=function(e){return typeof e!="function"&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"&&!Buffer.isBuffer(e)};mt.prototype.append=function(e){var t=mt.isStreamLike(e);if(t){if(!(e instanceof o3)){var r=o3.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=r}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this};mt.prototype.pipe=function(e,t){return a3.prototype.pipe.call(this,e,t),this.resume(),e};mt.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};mt.prototype._realGetNext=function(){var e=this._streams.shift();if(typeof e>"u"){this.end();return}if(typeof e!="function"){this._pipeNext(e);return}var t=e;t(function(r){var n=mt.isStreamLike(r);n&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};mt.prototype._pipeNext=function(e){this._currentStream=e;var t=mt.isStreamLike(e);if(t){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}var r=e;this.write(r),this._getNext()};mt.prototype._handleErrors=function(e){var t=this;e.on("error",function(r){t._emitError(r)})};mt.prototype.write=function(e){this.emit("data",e)};mt.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};mt.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};mt.prototype.end=function(){this._reset(),this.emit("end")};mt.prototype.destroy=function(){this._reset(),this.emit("close")};mt.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};mt.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}};mt.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};mt.prototype._emitError=function(e){this._reset(),this.emit("error",e)}});var l3=y((VDe,_$e)=>{_$e.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var f3=y((HDe,d3)=>{d3.exports=l3()});var h3=y(Dr=>{"use strict";var uy=f3(),b$e=require("path").extname,p3=/^\s*([^;\s]*)(?:;|\s|$)/,w$e=/^text\//i;Dr.charset=m3;Dr.charsets={lookup:m3};Dr.contentType=x$e;Dr.extension=S$e;Dr.extensions=Object.create(null);Dr.lookup=E$e;Dr.types=Object.create(null);$$e(Dr.extensions,Dr.types);function m3(e){if(!e||typeof e!="string")return!1;var t=p3.exec(e),r=t&&uy[t[1].toLowerCase()];return r&&r.charset?r.charset:t&&w$e.test(t[1])?"UTF-8":!1}function x$e(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?Dr.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var r=Dr.charset(t);r&&(t+="; charset="+r.toLowerCase())}return t}function S$e(e){if(!e||typeof e!="string")return!1;var t=p3.exec(e),r=t&&Dr.extensions[t[1].toLowerCase()];return!r||!r.length?!1:r[0]}function E$e(e){if(!e||typeof e!="string")return!1;var t=b$e("x."+e).toLowerCase().substr(1);return t&&Dr.types[t]||!1}function $$e(e,t){var r=["nginx","apache",void 0,"iana"];Object.keys(uy).forEach(function(s){var i=uy[s],o=i.extensions;if(!(!o||!o.length)){e[s]=o;for(var a=0;a<o.length;a++){var c=o[a];if(t[c]){var l=r.indexOf(uy[t[c]].source),u=r.indexOf(i.source);if(t[c]!=="application/octet-stream"&&(l>u||l===u&&t[c].substr(0,12)==="application/"))continue}t[c]=s}}})}});var g3=y((KDe,y3)=>{y3.exports=R$e;function R$e(e){var t=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;t?t(e):setTimeout(e,0)}});var U$=y((GDe,_3)=>{var v3=g3();_3.exports=P$e;function P$e(e){var t=!1;return v3(function(){t=!0}),function(n,s){t?e(n,s):v3(function(){e(n,s)})}}});var V$=y((JDe,b3)=>{b3.exports=T$e;function T$e(e){Object.keys(e.jobs).forEach(O$e.bind(e)),e.jobs={}}function O$e(e){typeof this.jobs[e]=="function"&&this.jobs[e]()}});var H$=y((WDe,x3)=>{var w3=U$(),k$e=V$();x3.exports=N$e;function N$e(e,t,r,n){var s=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[s]=A$e(t,s,e[s],function(i,o){s in r.jobs&&(delete r.jobs[s],i?k$e(r):r.results[s]=o,n(i,r.results))})}function A$e(e,t,r,n){var s;return e.length==2?s=e(r,w3(n)):s=e(r,t,w3(n)),s}});var B$=y((YDe,S3)=>{S3.exports=I$e;function I$e(e,t){var r=!Array.isArray(e),n={index:0,keyedList:r||t?Object.keys(e):null,jobs:{},results:r?{}:[],size:r?Object.keys(e).length:e.length};return t&&n.keyedList.sort(r?t:function(s,i){return t(e[s],e[i])}),n}});var K$=y((XDe,E3)=>{var C$e=V$(),j$e=U$();E3.exports=q$e;function q$e(e){Object.keys(this.jobs).length&&(this.index=this.size,C$e(this),j$e(e)(null,this.results))}});var R3=y((QDe,$3)=>{var D$e=H$(),L$e=B$(),F$e=K$();$3.exports=M$e;function M$e(e,t,r){for(var n=L$e(e);n.index<(n.keyedList||e).length;)D$e(e,t,n,function(s,i){if(s){r(s,i);return}if(Object.keys(n.jobs).length===0){r(null,n.results);return}}),n.index++;return F$e.bind(n,r)}});var G$=y((ZDe,ly)=>{var P3=H$(),z$e=B$(),U$e=K$();ly.exports=V$e;ly.exports.ascending=T3;ly.exports.descending=H$e;function V$e(e,t,r,n){var s=z$e(e,r);return P3(e,t,s,function i(o,a){if(o){n(o,a);return}if(s.index++,s.index<(s.keyedList||e).length){P3(e,t,s,i);return}n(null,s.results)}),U$e.bind(s,n)}function T3(e,t){return e<t?-1:e>t?1:0}function H$e(e,t){return-1*T3(e,t)}});var k3=y((eLe,O3)=>{var B$e=G$();O3.exports=K$e;function K$e(e,t,r){return B$e(e,t,null,r)}});var A3=y((tLe,N3)=>{N3.exports={parallel:R3(),serial:k3(),serialOrdered:G$()}});var J$=y((rLe,I3)=>{"use strict";I3.exports=Object});var j3=y((nLe,C3)=>{"use strict";C3.exports=Error});var D3=y((sLe,q3)=>{"use strict";q3.exports=EvalError});var F3=y((iLe,L3)=>{"use strict";L3.exports=RangeError});var z3=y((oLe,M3)=>{"use strict";M3.exports=ReferenceError});var V3=y((aLe,U3)=>{"use strict";U3.exports=SyntaxError});var dy=y((cLe,H3)=>{"use strict";H3.exports=TypeError});var K3=y((uLe,B3)=>{"use strict";B3.exports=URIError});var J3=y((lLe,G3)=>{"use strict";G3.exports=Math.abs});var Y3=y((dLe,W3)=>{"use strict";W3.exports=Math.floor});var Q3=y((fLe,X3)=>{"use strict";X3.exports=Math.max});var eH=y((pLe,Z3)=>{"use strict";Z3.exports=Math.min});var rH=y((mLe,tH)=>{"use strict";tH.exports=Math.pow});var sH=y((hLe,nH)=>{"use strict";nH.exports=Math.round});var oH=y((yLe,iH)=>{"use strict";iH.exports=Number.isNaN||function(t){return t!==t}});var cH=y((gLe,aH)=>{"use strict";var G$e=oH();aH.exports=function(t){return G$e(t)||t===0?t:t<0?-1:1}});var lH=y((vLe,uH)=>{"use strict";uH.exports=Object.getOwnPropertyDescriptor});var W$=y((_Le,dH)=>{"use strict";var fy=lH();if(fy)try{fy([],"length")}catch{fy=null}dH.exports=fy});var pH=y((bLe,fH)=>{"use strict";var py=Object.defineProperty||!1;if(py)try{py({},"a",{value:1})}catch{py=!1}fH.exports=py});var Y$=y((wLe,mH)=>{"use strict";mH.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;t[r]=s;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==s||a.enumerable!==!0)return!1}return!0}});var gH=y((xLe,yH)=>{"use strict";var hH=typeof Symbol<"u"&&Symbol,J$e=Y$();yH.exports=function(){return typeof hH!="function"||typeof Symbol!="function"||typeof hH("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:J$e()}});var X$=y((SLe,vH)=>{"use strict";vH.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Q$=y((ELe,_H)=>{"use strict";var W$e=J$();_H.exports=W$e.getPrototypeOf||null});var xH=y(($Le,wH)=>{"use strict";var Y$e="Function.prototype.bind called on incompatible ",X$e=Object.prototype.toString,Q$e=Math.max,Z$e="[object Function]",bH=function(t,r){for(var n=[],s=0;s<t.length;s+=1)n[s]=t[s];for(var i=0;i<r.length;i+=1)n[i+t.length]=r[i];return n},eRe=function(t,r){for(var n=[],s=r||0,i=0;s<t.length;s+=1,i+=1)n[i]=t[s];return n},tRe=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};wH.exports=function(t){var r=this;if(typeof r!="function"||X$e.apply(r)!==Z$e)throw new TypeError(Y$e+r);for(var n=eRe(arguments,1),s,i=function(){if(this instanceof s){var u=r.apply(this,bH(n,arguments));return Object(u)===u?u:this}return r.apply(t,bH(n,arguments))},o=Q$e(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(s=Function("binder","return function ("+tRe(a,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var l=function(){};l.prototype=r.prototype,s.prototype=new l,l.prototype=null}return s}});var hd=y((RLe,SH)=>{"use strict";var rRe=xH();SH.exports=Function.prototype.bind||rRe});var my=y((PLe,EH)=>{"use strict";EH.exports=Function.prototype.call});var Z$=y((TLe,$H)=>{"use strict";$H.exports=Function.prototype.apply});var PH=y((OLe,RH)=>{"use strict";RH.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var OH=y((kLe,TH)=>{"use strict";var nRe=hd(),sRe=Z$(),iRe=my(),oRe=PH();TH.exports=oRe||nRe.call(iRe,sRe)});var NH=y((NLe,kH)=>{"use strict";var aRe=hd(),cRe=dy(),uRe=my(),lRe=OH();kH.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new cRe("a function is required");return lRe(aRe,uRe,t)}});var DH=y((ALe,qH)=>{"use strict";var dRe=NH(),AH=W$(),CH;try{CH=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var eR=!!CH&&AH&&AH(Object.prototype,"__proto__"),jH=Object,IH=jH.getPrototypeOf;qH.exports=eR&&typeof eR.get=="function"?dRe([eR.get]):typeof IH=="function"?function(t){return IH(t==null?t:jH(t))}:!1});var UH=y((ILe,zH)=>{"use strict";var LH=X$(),FH=Q$(),MH=DH();zH.exports=LH?function(t){return LH(t)}:FH?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return FH(t)}:MH?function(t){return MH(t)}:null});var hy=y((CLe,VH)=>{"use strict";var fRe=Function.prototype.call,pRe=Object.prototype.hasOwnProperty,mRe=hd();VH.exports=mRe.call(fRe,pRe)});var YH=y((jLe,WH)=>{"use strict";var Re,hRe=J$(),yRe=j3(),gRe=D3(),vRe=F3(),_Re=z3(),xc=V3(),wc=dy(),bRe=K3(),wRe=J3(),xRe=Y3(),SRe=Q3(),ERe=eH(),$Re=rH(),RRe=sH(),PRe=cH(),GH=Function,tR=function(e){try{return GH('"use strict"; return ('+e+").constructor;")()}catch{}},yd=W$(),TRe=pH(),rR=function(){throw new wc},ORe=yd?function(){try{return arguments.callee,rR}catch{try{return yd(arguments,"callee").get}catch{return rR}}}():rR,_c=gH()(),Ct=UH(),kRe=Q$(),NRe=X$(),JH=Z$(),gd=my(),bc={},ARe=typeof Uint8Array>"u"||!Ct?Re:Ct(Uint8Array),Io={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Re:ArrayBuffer,"%ArrayIteratorPrototype%":_c&&Ct?Ct([][Symbol.iterator]()):Re,"%AsyncFromSyncIteratorPrototype%":Re,"%AsyncFunction%":bc,"%AsyncGenerator%":bc,"%AsyncGeneratorFunction%":bc,"%AsyncIteratorPrototype%":bc,"%Atomics%":typeof Atomics>"u"?Re:Atomics,"%BigInt%":typeof BigInt>"u"?Re:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Re:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Re:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":yRe,"%eval%":eval,"%EvalError%":gRe,"%Float16Array%":typeof Float16Array>"u"?Re:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Re:FinalizationRegistry,"%Function%":GH,"%GeneratorFunction%":bc,"%Int8Array%":typeof Int8Array>"u"?Re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_c&&Ct?Ct(Ct([][Symbol.iterator]())):Re,"%JSON%":typeof JSON=="object"?JSON:Re,"%Map%":typeof Map>"u"?Re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_c||!Ct?Re:Ct(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":hRe,"%Object.getOwnPropertyDescriptor%":yd,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Re:Promise,"%Proxy%":typeof Proxy>"u"?Re:Proxy,"%RangeError%":vRe,"%ReferenceError%":_Re,"%Reflect%":typeof Reflect>"u"?Re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_c||!Ct?Re:Ct(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_c&&Ct?Ct(""[Symbol.iterator]()):Re,"%Symbol%":_c?Symbol:Re,"%SyntaxError%":xc,"%ThrowTypeError%":ORe,"%TypedArray%":ARe,"%TypeError%":wc,"%Uint8Array%":typeof Uint8Array>"u"?Re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Re:Uint32Array,"%URIError%":bRe,"%WeakMap%":typeof WeakMap>"u"?Re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Re:WeakSet,"%Function.prototype.call%":gd,"%Function.prototype.apply%":JH,"%Object.defineProperty%":TRe,"%Object.getPrototypeOf%":kRe,"%Math.abs%":wRe,"%Math.floor%":xRe,"%Math.max%":SRe,"%Math.min%":ERe,"%Math.pow%":$Re,"%Math.round%":RRe,"%Math.sign%":PRe,"%Reflect.getPrototypeOf%":NRe};if(Ct)try{null.error}catch(e){HH=Ct(Ct(e)),Io["%Error.prototype%"]=HH}var HH,IRe=function e(t){var r;if(t==="%AsyncFunction%")r=tR("async function () {}");else if(t==="%GeneratorFunction%")r=tR("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=tR("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var s=e("%AsyncGenerator%");s&&Ct&&(r=Ct(s.prototype))}return Io[t]=r,r},BH={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},vd=hd(),yy=hy(),CRe=vd.call(gd,Array.prototype.concat),jRe=vd.call(JH,Array.prototype.splice),KH=vd.call(gd,String.prototype.replace),gy=vd.call(gd,String.prototype.slice),qRe=vd.call(gd,RegExp.prototype.exec),DRe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,LRe=/\\(\\)?/g,FRe=function(t){var r=gy(t,0,1),n=gy(t,-1);if(r==="%"&&n!=="%")throw new xc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new xc("invalid intrinsic syntax, expected opening `%`");var s=[];return KH(t,DRe,function(i,o,a,c){s[s.length]=a?KH(c,LRe,"$1"):o||i}),s},MRe=function(t,r){var n=t,s;if(yy(BH,n)&&(s=BH[n],n="%"+s[0]+"%"),yy(Io,n)){var i=Io[n];if(i===bc&&(i=IRe(n)),typeof i>"u"&&!r)throw new wc("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:i}}throw new xc("intrinsic "+t+" does not exist!")};WH.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new wc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new wc('"allowMissing" argument must be a boolean');if(qRe(/^%?[^%]*%?$/,t)===null)throw new xc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=FRe(t),s=n.length>0?n[0]:"",i=MRe("%"+s+"%",r),o=i.name,a=i.value,c=!1,l=i.alias;l&&(s=l[0],jRe(n,CRe([0,1],l)));for(var u=1,d=!0;u<n.length;u+=1){var p=n[u],m=gy(p,0,1),f=gy(p,-1);if((m==='"'||m==="'"||m==="`"||f==='"'||f==="'"||f==="`")&&m!==f)throw new xc("property names with quotes must have matching quotes");if((p==="constructor"||!d)&&(c=!0),s+="."+p,o="%"+s+"%",yy(Io,o))a=Io[o];else if(a!=null){if(!(p in a)){if(!r)throw new wc("base intrinsic for "+t+" exists, but the property is not available.");return}if(yd&&u+1>=n.length){var h=yd(a,p);d=!!h,d&&"get"in h&&!("originalValue"in h.get)?a=h.get:a=a[p]}else d=yy(a,p),a=a[p];d&&!c&&(Io[o]=a)}}return a}});var QH=y((qLe,XH)=>{"use strict";var zRe=Y$();XH.exports=function(){return zRe()&&!!Symbol.toStringTag}});var t9=y((DLe,e9)=>{"use strict";var URe=YH(),ZH=URe("%Object.defineProperty%",!0),VRe=QH()(),HRe=hy(),BRe=dy(),vy=VRe?Symbol.toStringTag:null;e9.exports=function(t,r){var n=arguments.length>2&&!!arguments[2]&&arguments[2].force,s=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof n<"u"&&typeof n!="boolean"||typeof s<"u"&&typeof s!="boolean")throw new BRe("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");vy&&(n||!HRe(t,vy))&&(ZH?ZH(t,vy,{configurable:!s,enumerable:!1,value:r,writable:!1}):t[vy]=r)}});var n9=y((LLe,r9)=>{"use strict";r9.exports=function(e,t){return Object.keys(t).forEach(function(r){e[r]=e[r]||t[r]}),e}});var i9=y((FLe,s9)=>{"use strict";var oR=u3(),KRe=require("util"),nR=require("path"),GRe=require("http"),JRe=require("https"),WRe=require("url").parse,YRe=require("fs"),XRe=require("stream").Stream,QRe=require("crypto"),sR=h3(),ZRe=A3(),ePe=t9(),Oi=hy(),iR=n9();function je(e){if(!(this instanceof je))return new je(e);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],oR.call(this),e=e||{};for(var t in e)this[t]=e[t]}KRe.inherits(je,oR);je.LINE_BREAK=`\r
`;je.DEFAULT_CONTENT_TYPE="application/octet-stream";je.prototype.append=function(e,t,r){r=r||{},typeof r=="string"&&(r={filename:r});var n=oR.prototype.append.bind(this);if((typeof t=="number"||t==null)&&(t=String(t)),Array.isArray(t)){this._error(new Error("Arrays are not supported."));return}var s=this._multiPartHeader(e,t,r),i=this._multiPartFooter();n(s),n(t),n(i),this._trackLength(s,t,r)};je.prototype._trackLength=function(e,t,r){var n=0;r.knownLength!=null?n+=Number(r.knownLength):Buffer.isBuffer(t)?n=t.length:typeof t=="string"&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+je.LINE_BREAK.length,!(!t||!t.path&&!(t.readable&&Oi(t,"httpVersion"))&&!(t instanceof XRe))&&(r.knownLength||this._valuesToMeasure.push(t))};je.prototype._lengthRetriever=function(e,t){Oi(e,"fd")?e.end!=null&&e.end!=1/0&&e.start!=null?t(null,e.end+1-(e.start?e.start:0)):YRe.stat(e.path,function(r,n){if(r){t(r);return}var s=n.size-(e.start?e.start:0);t(null,s)}):Oi(e,"httpVersion")?t(null,Number(e.headers["content-length"])):Oi(e,"httpModule")?(e.on("response",function(r){e.pause(),t(null,Number(r.headers["content-length"]))}),e.resume()):t("Unknown stream")};je.prototype._multiPartHeader=function(e,t,r){if(typeof r.header=="string")return r.header;var n=this._getContentDisposition(t,r),s=this._getContentType(t,r),i="",o={"Content-Disposition":["form-data",'name="'+e+'"'].concat(n||[]),"Content-Type":[].concat(s||[])};typeof r.header=="object"&&iR(o,r.header);var a;for(var c in o)if(Oi(o,c)){if(a=o[c],a==null)continue;Array.isArray(a)||(a=[a]),a.length&&(i+=c+": "+a.join("; ")+je.LINE_BREAK)}return"--"+this.getBoundary()+je.LINE_BREAK+i+je.LINE_BREAK};je.prototype._getContentDisposition=function(e,t){var r;if(typeof t.filepath=="string"?r=nR.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e&&(e.name||e.path)?r=nR.basename(t.filename||e&&(e.name||e.path)):e&&e.readable&&Oi(e,"httpVersion")&&(r=nR.basename(e.client._httpMessage.path||"")),r)return'filename="'+r+'"'};je.prototype._getContentType=function(e,t){var r=t.contentType;return!r&&e&&e.name&&(r=sR.lookup(e.name)),!r&&e&&e.path&&(r=sR.lookup(e.path)),!r&&e&&e.readable&&Oi(e,"httpVersion")&&(r=e.headers["content-type"]),!r&&(t.filepath||t.filename)&&(r=sR.lookup(t.filepath||t.filename)),!r&&e&&typeof e=="object"&&(r=je.DEFAULT_CONTENT_TYPE),r};je.prototype._multiPartFooter=function(){return function(e){var t=je.LINE_BREAK,r=this._streams.length===0;r&&(t+=this._lastBoundary()),e(t)}.bind(this)};je.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+je.LINE_BREAK};je.prototype.getHeaders=function(e){var t,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)Oi(e,t)&&(r[t.toLowerCase()]=e[t]);return r};je.prototype.setBoundary=function(e){if(typeof e!="string")throw new TypeError("FormData boundary must be a string");this._boundary=e};je.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};je.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?e=Buffer.concat([e,this._streams[r]]):e=Buffer.concat([e,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(je.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])};je.prototype._generateBoundary=function(){this._boundary="--------------------------"+QRe.randomBytes(12).toString("hex")};je.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e};je.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e};je.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}ZRe.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r){e(r);return}n.forEach(function(s){t+=s}),e(null,t)})};je.prototype.submit=function(e,t){var r,n,s={method:"post"};return typeof e=="string"?(e=WRe(e),n=iR({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},s)):(n=iR(e,s),n.port||(n.port=n.protocol==="https:"?443:80)),n.headers=this.getHeaders(e.headers),n.protocol==="https:"?r=JRe.request(n):r=GRe.request(n),this.getLength(function(i,o){if(i&&i!=="Unknown stream"){this._error(i);return}if(o&&r.setHeader("Content-Length",o),this.pipe(r),t){var a,c=function(l,u){return r.removeListener("error",c),r.removeListener("response",a),t.call(this,l,u)};a=c.bind(this,null),r.on("error",c),r.on("response",a)}}.bind(this)),r};je.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))};je.prototype.toString=function(){return"[object FormData]"};ePe(je.prototype,"FormData");s9.exports=je});var w9=y(b9=>{"use strict";var yPe=require("url").parse,gPe={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},vPe=String.prototype.endsWith||function(e){return e.length<=this.length&&this.indexOf(e,this.length-e.length)!==-1};function _Pe(e){var t=typeof e=="string"?yPe(e):e||{},r=t.protocol,n=t.host,s=t.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),s=parseInt(s)||gPe[r]||0,!bPe(n,s)))return"";var i=Rc("npm_config_"+r+"_proxy")||Rc(r+"_proxy")||Rc("npm_config_proxy")||Rc("all_proxy");return i&&i.indexOf("://")===-1&&(i=r+"://"+i),i}function bPe(e,t){var r=(Rc("npm_config_no_proxy")||Rc("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var s=n.match(/^(.+):(\d+)$/),i=s?s[1]:n,o=s?parseInt(s[2]):0;return o&&o!==t?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!vPe.call(e,i)):e!==i}):!0}function Rc(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}b9.getProxyForUrl=_Pe});var S9=y((MFe,x9)=>{var Pc=1e3,Tc=Pc*60,Oc=Tc*60,qo=Oc*24,wPe=qo*7,xPe=qo*365.25;x9.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return SPe(e);if(r==="number"&&isFinite(e))return t.long?$Pe(e):EPe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function SPe(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*xPe;case"weeks":case"week":case"w":return r*wPe;case"days":case"day":case"d":return r*qo;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Oc;case"minutes":case"minute":case"mins":case"min":case"m":return r*Tc;case"seconds":case"second":case"secs":case"sec":case"s":return r*Pc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function EPe(e){var t=Math.abs(e);return t>=qo?Math.round(e/qo)+"d":t>=Oc?Math.round(e/Oc)+"h":t>=Tc?Math.round(e/Tc)+"m":t>=Pc?Math.round(e/Pc)+"s":e+"ms"}function $Pe(e){var t=Math.abs(e);return t>=qo?xy(e,t,qo,"day"):t>=Oc?xy(e,t,Oc,"hour"):t>=Tc?xy(e,t,Tc,"minute"):t>=Pc?xy(e,t,Pc,"second"):e+" ms"}function xy(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}});var yR=y((zFe,E9)=>{function RPe(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=s,r.enabled=a,r.humanize=S9(),r.destroy=l,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=t;function r(u){let d,p=null,m,f;function h(...v){if(!h.enabled)return;let b=h,S=Number(new Date),_=S-(d||S);b.diff=_,b.prev=d,b.curr=S,d=S,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let g=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(R,w)=>{if(R==="%%")return"%";g++;let E=r.formatters[w];if(typeof E=="function"){let P=v[g];R=E.call(b,P),v.splice(g,1),g--}return R}),r.formatArgs.call(b,v),(b.log||r.log).apply(b,v)}return h.namespace=u,h.useColors=r.useColors(),h.color=r.selectColor(u),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==r.namespaces&&(m=r.namespaces,f=r.enabled(u)),f),set:v=>{p=v}}),typeof r.init=="function"&&r.init(h),h}function n(u,d){let p=r(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function s(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of d)p[0]==="-"?r.skips.push(p.slice(1)):r.names.push(p)}function i(u,d){let p=0,m=0,f=-1,h=0;for(;p<u.length;)if(m<d.length&&(d[m]===u[p]||d[m]==="*"))d[m]==="*"?(f=m,h=p,m++):(p++,m++);else if(f!==-1)m=f+1,h++,p=h;else return!1;for(;m<d.length&&d[m]==="*";)m++;return m===d.length}function o(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function a(u){for(let d of r.skips)if(i(u,d))return!1;for(let d of r.names)if(i(u,d))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}E9.exports=RPe});var $9=y((Lr,Sy)=>{Lr.formatArgs=TPe;Lr.save=OPe;Lr.load=kPe;Lr.useColors=PPe;Lr.storage=NPe();Lr.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Lr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function PPe(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function TPe(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Sy.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}Lr.log=console.debug||console.log||(()=>{});function OPe(e){try{e?Lr.storage.setItem("debug",e):Lr.storage.removeItem("debug")}catch{}}function kPe(){let e;try{e=Lr.storage.getItem("debug")||Lr.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function NPe(){try{return localStorage}catch{}}Sy.exports=yR()(Lr);var{formatters:APe}=Sy.exports;APe.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var P9=y((UFe,R9)=>{"use strict";R9.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}});var k9=y((VFe,O9)=>{"use strict";var IPe=require("os"),T9=require("tty"),dn=P9(),{env:jt}=process,Ai;dn("no-color")||dn("no-colors")||dn("color=false")||dn("color=never")?Ai=0:(dn("color")||dn("colors")||dn("color=true")||dn("color=always"))&&(Ai=1);"FORCE_COLOR"in jt&&(jt.FORCE_COLOR==="true"?Ai=1:jt.FORCE_COLOR==="false"?Ai=0:Ai=jt.FORCE_COLOR.length===0?1:Math.min(parseInt(jt.FORCE_COLOR,10),3));function gR(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function vR(e,t){if(Ai===0)return 0;if(dn("color=16m")||dn("color=full")||dn("color=truecolor"))return 3;if(dn("color=256"))return 2;if(e&&!t&&Ai===void 0)return 0;let r=Ai||0;if(jt.TERM==="dumb")return r;if(process.platform==="win32"){let n=IPe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in jt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in jt)||jt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in jt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(jt.TEAMCITY_VERSION)?1:0;if(jt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in jt){let n=parseInt((jt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(jt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(jt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(jt.TERM)||"COLORTERM"in jt?1:r}function CPe(e){let t=vR(e,e&&e.isTTY);return gR(t)}O9.exports={supportsColor:CPe,stdout:gR(vR(!0,T9.isatty(1))),stderr:gR(vR(!0,T9.isatty(2)))}});var A9=y((qt,$y)=>{var jPe=require("tty"),Ey=require("util");qt.init=UPe;qt.log=FPe;qt.formatArgs=DPe;qt.save=MPe;qt.load=zPe;qt.useColors=qPe;qt.destroy=Ey.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");qt.colors=[6,2,3,4,5,1];try{let e=k9();e&&(e.stderr||e).level>=2&&(qt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}qt.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function qPe(){return"colors"in qt.inspectOpts?!!qt.inspectOpts.colors:jPe.isatty(process.stderr.fd)}function DPe(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(s+"m+"+$y.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=LPe()+t+" "+e[0]}function LPe(){return qt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function FPe(...e){return process.stderr.write(Ey.formatWithOptions(qt.inspectOpts,...e)+`
`)}function MPe(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function zPe(){return process.env.DEBUG}function UPe(e){e.inspectOpts={};let t=Object.keys(qt.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=qt.inspectOpts[t[r]]}$y.exports=yR()(qt);var{formatters:N9}=$y.exports;N9.o=function(e){return this.inspectOpts.colors=this.useColors,Ey.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};N9.O=function(e){return this.inspectOpts.colors=this.useColors,Ey.inspect(e,this.inspectOpts)}});var I9=y((HFe,_R)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?_R.exports=$9():_R.exports=A9()});var j9=y((BFe,C9)=>{var xd;C9.exports=function(){if(!xd){try{xd=I9()("follow-redirects")}catch{}typeof xd!="function"&&(xd=function(){})}xd.apply(null,arguments)}});var M9=y((KFe,NR)=>{var Ed=require("url"),Sd=Ed.URL,VPe=require("http"),HPe=require("https"),ER=require("stream").Writable,$R=require("assert"),q9=j9();(function(){var t=typeof process<"u",r=typeof window<"u"&&typeof document<"u",n=Lo(Error.captureStackTrace);!t&&(r||!n)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var RR=!1;try{$R(new Sd(""))}catch(e){RR=e.code==="ERR_INVALID_URL"}var BPe=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],PR=["abort","aborted","connect","error","socket","timeout"],TR=Object.create(null);PR.forEach(function(e){TR[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}});var wR=$d("ERR_INVALID_URL","Invalid URL",TypeError),xR=$d("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),KPe=$d("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",xR),GPe=$d("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),JPe=$d("ERR_STREAM_WRITE_AFTER_END","write after end"),WPe=ER.prototype.destroy||L9;function Fr(e,t){ER.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(s){r.emit("error",s instanceof xR?s:new xR({cause:s}))}},this._performRequest()}Fr.prototype=Object.create(ER.prototype);Fr.prototype.abort=function(){kR(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};Fr.prototype.destroy=function(e){return kR(this._currentRequest,e),WPe.call(this,e),this};Fr.prototype.write=function(e,t,r){if(this._ending)throw new JPe;if(!Do(e)&&!QPe(e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Lo(t)&&(r=t,t=null),e.length===0){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new GPe),this.abort())};Fr.prototype.end=function(e,t,r){if(Lo(e)?(r=e,e=t=null):Lo(t)&&(r=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,s=this._currentRequest;this.write(e,t,function(){n._ended=!0,s.end(null,null,r)}),this._ending=!0}};Fr.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};Fr.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};Fr.prototype.setTimeout=function(e,t){var r=this;function n(o){o.setTimeout(e),o.removeListener("timeout",o.destroy),o.addListener("timeout",o.destroy)}function s(o){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),i()},e),n(o)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),r.removeListener("close",i),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",s)}return t&&this.on("timeout",t),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",n),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){Fr.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(Fr.prototype,e,{get:function(){return this._currentRequest[e]}})});Fr.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};Fr.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw new TypeError("Unsupported protocol "+e);if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);n._redirectable=this;for(var s of PR)n.on(s,TR[s]);if(this._currentUrl=/^\//.test(this._options.path)?Ed.format(this._options):this._options.path,this._isRedirect){var i=0,o=this,a=this._requestBodyBuffers;(function c(l){if(n===o._currentRequest)if(l)o.emit("error",l);else if(i<a.length){var u=a[i++];n.finished||n.write(u.data,u.encoding,c)}else o._ended&&n.end()})()}};Fr.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(!r||this._options.followRedirects===!1||t<300||t>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(kR(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new KPe;var n,s=this._options.beforeRedirect;s&&(n=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var i=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],bR(/^content-/i,this._options.headers));var o=bR(/^host$/i,this._options.headers),a=OR(this._currentUrl),c=o||a.host,l=/^\w+:/.test(r)?this._currentUrl:Ed.format(Object.assign(a,{host:c})),u=YPe(r,l);if(q9("redirecting to",u.href),this._isRedirect=!0,SR(u,this._options),(u.protocol!==a.protocol&&u.protocol!=="https:"||u.host!==c&&!XPe(u.host,c))&&bR(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),Lo(s)){var d={headers:e.headers,statusCode:t},p={url:l,method:i,headers:n};s(this._options,d,p),this._sanitizeOptions(this._options)}this._performRequest()};function D9(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach(function(n){var s=n+":",i=r[s]=e[n],o=t[n]=Object.create(i);function a(l,u,d){return ZPe(l)?l=SR(l):Do(l)?l=SR(OR(l)):(d=u,u=F9(l),l={protocol:s}),Lo(u)&&(d=u,u=null),u=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},l,u),u.nativeProtocols=r,!Do(u.host)&&!Do(u.hostname)&&(u.hostname="::1"),$R.equal(u.protocol,s,"protocol mismatch"),q9("options",u),new Fr(u,d)}function c(l,u,d){var p=o.request(l,u,d);return p.end(),p}Object.defineProperties(o,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),t}function L9(){}function OR(e){var t;if(RR)t=new Sd(e);else if(t=F9(Ed.parse(e)),!Do(t.protocol))throw new wR({input:e});return t}function YPe(e,t){return RR?new Sd(e,t):OR(Ed.resolve(t,e))}function F9(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname))throw new wR({input:e.href||e});if(/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new wR({input:e.href||e});return e}function SR(e,t){var r=t||{};for(var n of BPe)r[n]=e[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function bR(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function $d(e,t,r){function n(s){Lo(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,s||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function kR(e,t){for(var r of PR)e.removeListener(r,TR[r]);e.on("error",L9),e.destroy(t)}function XPe(e,t){$R(Do(e)&&Do(t));var r=e.length-t.length-1;return r>0&&e[r]==="."&&e.endsWith(t)}function Do(e){return typeof e=="string"||e instanceof String}function Lo(e){return typeof e=="function"}function QPe(e){return typeof e=="object"&&"length"in e}function ZPe(e){return Sd&&e instanceof Sd}NR.exports=D9({http:VPe,https:HPe});NR.exports.wrap=D9});var J5=y(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.removeTrailingChar=zo.merge=void 0;var COe=(...e)=>{let t={};return e.forEach(function(r){var n;for(n in r)n in t&&t[n]===null?t[n]=r[n]:n in t&&Array.isArray(t[n])?t[n]=t[n].concat(r[n]):n in t&&typeof t[n]=="object"?t[n]=(0,zo.merge)(t[n],r[n]):t[n]=r[n]}),t};zo.merge=COe;var jOe=(e,t)=>e.length>1&&e.endsWith(t)?e.substring(0,e.length-1):e;zo.removeTrailingChar=jOe});var Nc=y(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.DataError=Di.DatabaseError=Di.NestedError=void 0;var Yd=class extends Error{inner;id;constructor(t,r,n){super(t),this.inner=n,this.id=r,this.name=this.constructor.name}toString(){let t=this.name+": "+this.message;return this.inner?t+`:
`+this.inner:t}};Di.NestedError=Yd;var XR=class extends Yd{};Di.DatabaseError=XR;var QR=class extends Yd{};Di.DataError=QR});var nP=y(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.getArrayIndicies=br.validateArrayIndex=br.validateArrayIndicies=br.isInt=br.ArrayInfo=br.arrayRegex=void 0;var By=Nc(),qOe=()=>/^([\.0-9a-zA-Z_$\-][0-9a-zA-Z_\-$\.]*)\[((?!(\]|\[)).*|)\]$/gm;br.arrayRegex=qOe;var ZR={},eP=class e{property;index=0;append=!1;indicies=[];constructor(t,r){this.property=t;let n=r[0]??0;if(this.append=n===""||r[r.length-1]==="",this.indicies=r,tP(n))this.index=parseInt(n);else if(!this.append)throw new By.DataError("Only numerical values accepted for array index",200)}static processArray(t){if(typeof t>"u")return null;if(ZR[t])return ZR[t];let n=(0,br.arrayRegex)().exec(t.trim());if(n!=null){let s=n[1],i="["+n[2].toString()+"]",o=rP(i);return W5(o),ZR[t]=new e(s,o)}return null}getIndex(t,r){if(this.append)return-1;let n=this.index;if(n==-1){let s=r?t:t[this.property];return s.length===0?0:s.length-1}return n}getData(t){if(this.append)throw new By.DataError("Can't get data when appending",100);let{index:r,dataForProperty:n}=this.getArrayDataAndIndexFromProperty(t);return n[r]}setData(t,r){if(this.append){let n=t[this.property];this.indicies.forEach(s=>{s!==""&&(s=+s,s===-1&&(s=n.length-1),n=n[+s])}),n.push(r)}else{let{index:n,dataForProperty:s}=this.getArrayDataAndIndexFromProperty(t);n===-1?s.push(r):s[n]=r}}delete(t){if(this.append)throw new By.DataError("Can't delete an appended data",10);let{index:r,dataForProperty:n}=this.getArrayDataAndIndexFromProperty(t);n.splice(r,1)}isValid(t){let{index:r,dataForProperty:n}=this.getArrayDataAndIndexFromProperty(t);return n.hasOwnProperty(r)}getArrayDataAndIndexFromProperty(t){let r=0,n=t instanceof Array?t:t[this.property]??t;if(this.indicies.length>0){r=+this.indicies[this.indicies.length-1];for(let s=0;s<this.indicies.length-1;s++){let i=+this.indicies[s];i===-1&&(i=n.length-1),n=n[i]}r===-1&&(r=n.length-1)}return{index:r,dataForProperty:n}}isMultiDimensional(){return this.indicies.length>1}};br.ArrayInfo=eP;function tP(e){return!isNaN(e)&&Number(e)==e&&!isNaN(parseInt(e,10))}br.isInt=tP;function W5(e){let t=e.filter(r=>r==="");if(t.length>1)throw Error("Only one append index is supported for nested arrays");if(t.length===1&&e[e.length-1]!=="")throw Error("Append index must be at the end of the nested array")}br.validateArrayIndicies=W5;function Y5(e){if(e.length!==0&&!tP(e))throw new By.DataError("Only numerical values accepted for array index",200)}br.validateArrayIndex=Y5;function rP(e){if(e.length===0)return[];if(e.charAt(0)!=="[")throw new Error("Invalid array syntax detected");let t=e.substring(1,e.indexOf("]"));Y5(t);let r=t.length+2;return[t,...rP(e.substring(r))]}br.getArrayIndicies=rP});var Z5=y(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0});Ky.DBParentData=void 0;var X5=nP(),Q5=Nc(),sP=class{parent;data;db;dataPath;constructor(t,r,n,s){this.parent=s,this.data=t,this.db=r,this.dataPath=n}checkArray(t=!1){let r=X5.ArrayInfo.processArray(this.parent);if(r&&(!r.append||t)&&!r.isValid(this.data))throw new Q5.DataError("DataPath: /"+this.dataPath+". Can't find index "+r.index+" in array "+r.property,10);return r}getData(){if(this.parent===void 0)return this.data;let t=this.checkArray();return t?t.getData(this.data):this.data[this.parent]}setData(t){if(this.parent===void 0){this.db.resetData(t);return}let r=X5.ArrayInfo.processArray(this.parent);if(r){if(!this.data.hasOwnProperty(r.property))this.data[r.property]=[];else if(!Array.isArray(this.data[r.property]))throw new Q5.DataError("DataPath: /"+this.dataPath+". "+r.property+" is not an array.",11);r.setData(this.data,t)}else this.data[this.parent]=t}delete(){if(this.parent===void 0){this.db.resetData({});return}let t=this.checkArray(!0);t?t.delete(this.data):delete this.data[this.parent]}};Ky.DBParentData=sP});var tB=y((CUe,eB)=>{eB.exports=function(){"use strict";function e(){this.readers=0,this.queue=[]}function t(i,o,a){var c;typeof i!="function"?(s.hasOwnProperty(i)||(s[i]=new e),c=s[i]):(a=o,o=i,c=n),a||(a={});var l=null;a.hasOwnProperty("scope")&&(l=a.scope);var u=function(){var m=!1;return function(){m||(m=!0,c.readers--,c.queue.length&&c.queue[0]())}}();if(c.readers<0||c.queue.length){var d=!1;if(c.queue.push(function(){!d&&c.readers>=0&&(d=!0,c.queue.shift(),c.readers++,o.call(l,u),c.queue.length&&c.queue[0]())}),a.hasOwnProperty("timeout")){var p=null;a.hasOwnProperty("timeoutCallback")&&(p=a.timeoutCallback),setTimeout(function(){d||(d=!0,c.queue.shift(),p&&p.call(a.scope))},a.timeout)}}else c.readers++,o.call(a.scope,u)}function r(i,o,a){var c;typeof i!="function"?(s.hasOwnProperty(i)||(s[i]=new e),c=s[i]):(a=o,o=i,c=n),a||(a={});var l=null;a.hasOwnProperty("scope")&&(l=a.scope);var u=function(){var m=!1;return function(){m||(m=!0,c.readers=0,c.queue.length&&c.queue[0]())}}();if(c.readers||c.queue.length){var d=!1;if(c.queue.push(function(){d||c.readers||(d=!0,c.queue.shift(),c.readers=-1,o.call(a.scope,u))}),a.hasOwnProperty("timeout")){var p=null;a.hasOwnProperty("timeoutCallback")&&(p=a.timeoutCallback),setTimeout(function(){d||(d=!0,c.queue.shift(),p&&p.call(l))},a.timeout)}}else c.readers=-1,o.call(a.scope,u)}var n=new e,s={};this.readLock=t,this.writeLock=r,this.async={readLock:function(i,o,a){typeof i!="function"?t(i,function(c){o.call(this,null,c)},a):(o=i,a=o,t(function(c){o.call(this,null,c)},a))},writeLock:function(i,o,a){typeof i!="function"?r(i,function(c){o.call(this,null,c)},a):(o=i,a=o,r(function(c){o.call(this,null,c)},a))}}}});var rB=y(Gy=>{"use strict";Object.defineProperty(Gy,"__esModule",{value:!0});Gy.TimeoutError=void 0;var DOe=Nc(),iP=class extends DOe.NestedError{};Gy.TimeoutError=iP});var iB=y(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.writeLockAsync=Ac.readLockAsync=void 0;var LOe=tB(),nB=rB(),sB=new LOe,FOe=(e,t=null)=>{let r={};return t!=null&&(r={timeout:t}),new Promise((n,s)=>{sB.readLock(async i=>{try{let o=await e();n(o)}catch(o){s(o)}finally{i()}},{...r,timeoutCallback(){s(new nB.TimeoutError("Timeout",100))}})})};Ac.readLockAsync=FOe;var MOe=(e,t=null)=>{let r={};return t!=null&&(r={timeout:t}),new Promise((n,s)=>{sB.writeLock(async i=>{try{let o=await e();n(o)}catch(o){s(o)}finally{i()}},{...r,timeoutCallback(){s(new nB.TimeoutError("Timeout",100))}})})};Ac.writeLockAsync=MOe});var aP=y(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.JsonAdapter=void 0;var oP=class{adapter;humanReadable;dateRegex=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}","m");constructor(t,r=!1){this.adapter=t,this.humanReadable=r}replacer(t,r){return r}reviver(t,r){return typeof r=="string"&&this.dateRegex.exec(r)!=null?new Date(r):r}async readAsync(){let t=await this.adapter.readAsync();return t==null?(await this.writeAsync({}),{}):JSON.parse(t,this.reviver.bind(this))}writeAsync(t){let r="";return this.humanReadable?r=JSON.stringify(t,this.replacer.bind(this),4):r=JSON.stringify(t,this.replacer.bind(this)),this.adapter.writeAsync(r)}};Jy.JsonAdapter=oP});var uP=y(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0});Yy.FileAdapter=void 0;var Wy=require("fs/promises"),zOe=require("path"),cP=class{filename;fsync;constructor(t,r){this.filename=t,this.fsync=r}async readAsync(){try{return await(0,Wy.readFile)(this.filename,{encoding:"utf-8"})}catch(t){if(t.code==="ENOENT")return null;throw t}}async writeAsync(t){let r=null;try{r=await(0,Wy.open)(this.filename,"w")}catch(n){if(n.code!=="ENOENT")throw n;let s=zOe.dirname(this.filename);await(0,Wy.mkdir)(s,{recursive:!0}),r=await(0,Wy.open)(this.filename,"w")}try{await r.writeFile(t,{encoding:"utf-8"}),this.fsync&&await r.sync()}finally{await r.close()}}};Yy.FileAdapter=cP});var oB=y(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.ConfigWithAdapter=Ic.Config=void 0;var UOe=require("path"),VOe=aP(),HOe=uP(),lP=class{adapter;filename;saveOnPush;separator;constructor(t,r=!0,n=!1,s="/",i=!1){this.filename=t,UOe.extname(t)===""&&(this.filename+=".json"),this.saveOnPush=r,this.separator=s,this.adapter=new VOe.JsonAdapter(new HOe.FileAdapter(this.filename,i),n)}};Ic.Config=lP;var dP=class{adapter;saveOnPush;separator;constructor(t,r=!0,n="/"){this.adapter=t,this.saveOnPush=r,this.separator=n}};Ic.ConfigWithAdapter=dP});var lB=y(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.JsonDB=lr.FileAdapter=lr.JsonAdapter=lr.DataError=lr.DatabaseError=lr.ConfigWithAdapter=lr.Config=void 0;var aB=J5(),ur=Nc(),BOe=Z5(),KOe=nP(),fP=iB(),cB=oB();Object.defineProperty(lr,"Config",{enumerable:!0,get:function(){return cB.Config}});Object.defineProperty(lr,"ConfigWithAdapter",{enumerable:!0,get:function(){return cB.ConfigWithAdapter}});var uB=Nc();Object.defineProperty(lr,"DatabaseError",{enumerable:!0,get:function(){return uB.DatabaseError}});Object.defineProperty(lr,"DataError",{enumerable:!0,get:function(){return uB.DataError}});var GOe=aP();Object.defineProperty(lr,"JsonAdapter",{enumerable:!0,get:function(){return GOe.JsonAdapter}});var JOe=uP();Object.defineProperty(lr,"FileAdapter",{enumerable:!0,get:function(){return JOe.FileAdapter}});var pP=class{loaded=!1;data={};config;constructor(t){this.config=t}processDataPath(t){if(t===void 0||!t.trim())throw new ur.DataError("The Data Path can't be empty",6);if(t==this.config.separator)return[];t=(0,aB.removeTrailingChar)(t,this.config.separator);let r=t.split(this.config.separator);return r.shift(),r}async retrieveData(t,r=!1){await this.load();let n=this,s=(i,o)=>{let a=t[o];function c(u=!1){if(i.hasOwnProperty(a))i=i[a];else if(r)u?i[a]=[]:i[a]={},i=i[a];else throw new ur.DataError(`Can't find dataPath: ${n.config.separator}${t.join(n.config.separator)}. Stopped at ${a}`,5)}let l=KOe.ArrayInfo.processArray(a);if(l){if(a=l.property,c(!0),!Array.isArray(i))throw new ur.DataError(`DataPath: ${n.config.separator}${t.join(n.config.separator)}. ${a} is not an array.`,11);let u=l.getIndex(i,!0);if(!l.append&&i.hasOwnProperty(u))i=l.getData(i);else if(r)l.append?(i.push({}),i=i[i.length-1]):(i[u]={},i=i[u]);else throw new ur.DataError(`DataPath: ${n.config.separator}${t.join(n.config.separator)}. . Can't find index ${l.index} in array ${a}`,10)}else c();return t.length==++o?i:s(i,o)};return t.length===0?this.data:s(this.data,0)}async getParentData(t,r){let n=this.processDataPath(t),s=n.pop();return new BOe.DBParentData(await this.retrieveData(n,r),this,t,s)}getData(t){return(0,fP.readLockAsync)(async()=>{let r=this.processDataPath(t);return this.retrieveData(r,!1)})}getObject(t){return this.getData(t)}async getObjectDefault(t,r){try{return await this.getData(t)}catch(n){if(!(n instanceof ur.DataError)||n.id!=5)throw n;return r}}async exists(t){try{return await this.getData(t),!0}catch(r){if(r instanceof ur.DataError)return!1;throw r}}async count(t){let r=await this.getData(t);if(!Array.isArray(r))throw new ur.DataError(`DataPath: ${t} is not an array.`,11);let n=this.processDataPath(t);return(await this.retrieveData(n,!1)).length}async getIndex(t,r,n="id"){return(await this.getArrayData(t)).map(function(i){return i[n]}).indexOf(r)}async getIndexValue(t,r){return(await this.getArrayData(t)).indexOf(r)}async getArrayData(t){let r=await this.getData(t);if(!Array.isArray(r))throw new ur.DataError(`DataPath: ${t} is not an array.`,11);let n=this.processDataPath(t);return this.retrieveData(n,!1)}async filter(t,r){let n=await this.getData(t);if(Array.isArray(n))return n.filter(r);if(n instanceof Object){let i=Object.entries(n).filter(o=>r(o[1],o[0]));return!i||i.length<1?void 0:i.map(o=>o[1])}throw new ur.DataError("The entry at the path ("+t+") needs to be either an Object or an Array",12)}async find(t,r){let n=await this.getData(t);if(Array.isArray(n))return n.find(r);if(n instanceof Object){let i=Object.entries(n).find(o=>r(o[1],o[0]));return!i||i.length<2?void 0:i[1]}throw new ur.DataError("The entry at the path ("+t+") needs to be either an Object or an Array",12)}async push(t,r,n=!0){return(0,fP.writeLockAsync)(async()=>{let s=await this.getParentData(t,!0),i=r;if(!n){if(Array.isArray(r)){let o=s.getData();if(o===void 0)o=[];else if(!Array.isArray(o))throw new ur.DataError("Can't merge another type of data with an Array",3);i=o.concat(r)}else if(r===Object(r)){if(Array.isArray(s.getData()))throw new ur.DataError("Can't merge an Array with an Object",4);i=(0,aB.merge)(s.getData(),r)}}s.setData(i),this.config.saveOnPush&&await this.save()})}async delete(t){await(0,fP.writeLockAsync)(async()=>{(await this.getParentData(t,!0)).delete(),this.config.saveOnPush&&await this.save()})}resetData(t){this.data=t}async reload(){this.loaded=!1,await this.load()}async load(){if(!this.loaded)try{this.data=await this.config.adapter.readAsync(),this.loaded=!0}catch(t){throw new ur.DatabaseError("Can't Load Database",1,t)}}async save(t){if(t=t||!1,!t&&!this.loaded)throw new ur.DatabaseError("DataBase not loaded. Can't write",7);try{await this.config.adapter.writeAsync(this.data)}catch(r){throw new ur.DatabaseError("Can't save the database",2,r)}}async fromPath(t,r="id"){let[,...n]=t.split("/"),s=n.reduce((o,a,c)=>{if(c%2===0)o[`${a}`]="";else{let u=Object.keys(o);o[`${u[u.length-1]}`]=`${a}`}return o},{}),i=[];for await(let o of Object.keys(s)){i.push(`/${o}`);let a=s[o];try{let c=await this.getIndex(i.join(""),a,r);i.push(`[${c}]`)}catch(c){throw new ur.DataError(`DataPath: ${i.join("")}/${a} not found.`,13,c)}}return i.join("")}};lr.JsonDB=pP});var dB=y((mP,hP)=>{(function(e,t){typeof mP=="object"&&typeof hP<"u"?hP.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(mP,function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",s="second",i="minute",o="hour",a="day",c="week",l="month",u="quarter",d="year",p="date",m="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var T=["th","st","nd","rd"],A=O%100;return"["+O+(T[(A-20)%10]||T[A]||T[0])+"]"}},b=function(O,T,A){var F=String(O);return!F||F.length>=T?O:""+Array(T+1-F.length).join(A)+O},S={s:b,z:function(O){var T=-O.utcOffset(),A=Math.abs(T),F=Math.floor(A/60),C=A%60;return(T<=0?"+":"-")+b(F,2,"0")+":"+b(C,2,"0")},m:function O(T,A){if(T.date()<A.date())return-O(A,T);var F=12*(A.year()-T.year())+(A.month()-T.month()),C=T.clone().add(F,l),I=A-C<0,D=T.clone().add(F+(I?-1:1),l);return+(-(F+(A-C)/(I?C-D:D-C))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:l,y:d,w:c,d:a,D:p,h:o,m:i,s,ms:n,Q:u}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},_="en",g={};g[_]=v;var x="$isDayjsObject",R=function(O){return O instanceof $||!(!O||!O[x])},w=function O(T,A,F){var C;if(!T)return _;if(typeof T=="string"){var I=T.toLowerCase();g[I]&&(C=I),A&&(g[I]=A,C=I);var D=T.split("-");if(!C&&D.length>1)return O(D[0])}else{var q=T.name;g[q]=T,C=q}return!F&&C&&(_=C),C||!F&&_},E=function(O,T){if(R(O))return O.clone();var A=typeof T=="object"?T:{};return A.date=O,A.args=arguments,new $(A)},P=S;P.l=w,P.i=R,P.w=function(O,T){return E(O,{locale:T.$L,utc:T.$u,x:T.$x,$offset:T.$offset})};var $=function(){function O(A){this.$L=w(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[x]=!0}var T=O.prototype;return T.parse=function(A){this.$d=function(F){var C=F.date,I=F.utc;if(C===null)return new Date(NaN);if(P.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var D=C.match(f);if(D){var q=D[2]-1||0,te=(D[7]||"0").substring(0,3);return I?new Date(Date.UTC(D[1],q,D[3]||1,D[4]||0,D[5]||0,D[6]||0,te)):new Date(D[1],q,D[3]||1,D[4]||0,D[5]||0,D[6]||0,te)}}return new Date(C)}(A),this.init()},T.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},T.$utils=function(){return P},T.isValid=function(){return this.$d.toString()!==m},T.isSame=function(A,F){var C=E(A);return this.startOf(F)<=C&&C<=this.endOf(F)},T.isAfter=function(A,F){return E(A)<this.startOf(F)},T.isBefore=function(A,F){return this.endOf(F)<E(A)},T.$g=function(A,F,C){return P.u(A)?this[F]:this.set(C,A)},T.unix=function(){return Math.floor(this.valueOf()/1e3)},T.valueOf=function(){return this.$d.getTime()},T.startOf=function(A,F){var C=this,I=!!P.u(F)||F,D=P.p(A),q=function(ne,G){var kt=P.w(C.$u?Date.UTC(C.$y,G,ne):new Date(C.$y,G,ne),C);return I?kt:kt.endOf(a)},te=function(ne,G){return P.w(C.toDate()[ne].apply(C.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(G)),C)},se=this.$W,Q=this.$M,lt=this.$D,He="set"+(this.$u?"UTC":"");switch(D){case d:return I?q(1,0):q(31,11);case l:return I?q(1,Q):q(0,Q+1);case c:var ce=this.$locale().weekStart||0,Et=(se<ce?se+7:se)-ce;return q(I?lt-Et:lt+(6-Et),Q);case a:case p:return te(He+"Hours",0);case o:return te(He+"Minutes",1);case i:return te(He+"Seconds",2);case s:return te(He+"Milliseconds",3);default:return this.clone()}},T.endOf=function(A){return this.startOf(A,!1)},T.$set=function(A,F){var C,I=P.p(A),D="set"+(this.$u?"UTC":""),q=(C={},C[a]=D+"Date",C[p]=D+"Date",C[l]=D+"Month",C[d]=D+"FullYear",C[o]=D+"Hours",C[i]=D+"Minutes",C[s]=D+"Seconds",C[n]=D+"Milliseconds",C)[I],te=I===a?this.$D+(F-this.$W):F;if(I===l||I===d){var se=this.clone().set(p,1);se.$d[q](te),se.init(),this.$d=se.set(p,Math.min(this.$D,se.daysInMonth())).$d}else q&&this.$d[q](te);return this.init(),this},T.set=function(A,F){return this.clone().$set(A,F)},T.get=function(A){return this[P.p(A)]()},T.add=function(A,F){var C,I=this;A=Number(A);var D=P.p(F),q=function(Q){var lt=E(I);return P.w(lt.date(lt.date()+Math.round(Q*A)),I)};if(D===l)return this.set(l,this.$M+A);if(D===d)return this.set(d,this.$y+A);if(D===a)return q(1);if(D===c)return q(7);var te=(C={},C[i]=t,C[o]=r,C[s]=e,C)[D]||1,se=this.$d.getTime()+A*te;return P.w(se,this)},T.subtract=function(A,F){return this.add(-1*A,F)},T.format=function(A){var F=this,C=this.$locale();if(!this.isValid())return C.invalidDate||m;var I=A||"YYYY-MM-DDTHH:mm:ssZ",D=P.z(this),q=this.$H,te=this.$m,se=this.$M,Q=C.weekdays,lt=C.months,He=C.meridiem,ce=function(G,kt,Ue,be){return G&&(G[kt]||G(F,I))||Ue[kt].slice(0,be)},Et=function(G){return P.s(q%12||12,G,"0")},ne=He||function(G,kt,Ue){var be=G<12?"AM":"PM";return Ue?be.toLowerCase():be};return I.replace(h,function(G,kt){return kt||function(Ue){switch(Ue){case"YY":return String(F.$y).slice(-2);case"YYYY":return P.s(F.$y,4,"0");case"M":return se+1;case"MM":return P.s(se+1,2,"0");case"MMM":return ce(C.monthsShort,se,lt,3);case"MMMM":return ce(lt,se);case"D":return F.$D;case"DD":return P.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return ce(C.weekdaysMin,F.$W,Q,2);case"ddd":return ce(C.weekdaysShort,F.$W,Q,3);case"dddd":return Q[F.$W];case"H":return String(q);case"HH":return P.s(q,2,"0");case"h":return Et(1);case"hh":return Et(2);case"a":return ne(q,te,!0);case"A":return ne(q,te,!1);case"m":return String(te);case"mm":return P.s(te,2,"0");case"s":return String(F.$s);case"ss":return P.s(F.$s,2,"0");case"SSS":return P.s(F.$ms,3,"0");case"Z":return D}return null}(G)||D.replace(":","")})},T.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},T.diff=function(A,F,C){var I,D=this,q=P.p(F),te=E(A),se=(te.utcOffset()-this.utcOffset())*t,Q=this-te,lt=function(){return P.m(D,te)};switch(q){case d:I=lt()/12;break;case l:I=lt();break;case u:I=lt()/3;break;case c:I=(Q-se)/6048e5;break;case a:I=(Q-se)/864e5;break;case o:I=Q/r;break;case i:I=Q/t;break;case s:I=Q/e;break;default:I=Q}return C?I:P.a(I)},T.daysInMonth=function(){return this.endOf(l).$D},T.$locale=function(){return g[this.$L]},T.locale=function(A,F){if(!A)return this.$L;var C=this.clone(),I=w(A,F,!0);return I&&(C.$L=I),C},T.clone=function(){return P.w(this.$d,this)},T.toDate=function(){return new Date(this.valueOf())},T.toJSON=function(){return this.isValid()?this.toISOString():null},T.toISOString=function(){return this.$d.toISOString()},T.toString=function(){return this.$d.toUTCString()},O}(),j=$.prototype;return E.prototype=j,[["$ms",n],["$s",s],["$m",i],["$H",o],["$W",a],["$M",l],["$y",d],["$D",p]].forEach(function(O){j[O[1]]=function(T){return this.$g(T,O[0],O[1])}}),E.extend=function(O,T){return O.$i||(O(T,$,E),O.$i=!0),E},E.locale=w,E.isDayjs=R,E.unix=function(O){return E(1e3*O)},E.en=g[_],E.Ls=g,E.p={},E})});var XOe={};xP(XOe,{start:()=>WOe,stop:()=>YOe});module.exports=RB(XOe);var gB=Pt(B4(),1);var q$=async e=>(await e.db.getObjectDefault("/sites",{}))?.list||e.config.sites.list,IEe=async(e,t)=>{await e.db.push("/sites/list",t)},CEe=async e=>{await e.db.delete("/sites/list")};async function D$(e){e.get("/list",async(t,r)=>{r.send({code:0,data:await q$(t.server)})}),e.put("/list",async(t,r)=>{await IEe(t.server,t.body.list),r.send({code:0})}),e.delete("/list",async(t,r)=>{await CEe(t.server),r.send({code:0})})}var sy=async e=>await e.db.getObjectDefault("/danmu")||e.config.danmu,jEe=async(e,t)=>{await e.db.push("/danmu",t)},qEe=async e=>{await e.db.delete("/danmu")};async function L$(e){e.get("/setting",async(t,r)=>{r.send({code:0,data:await sy(t.server)})}),e.put("/setting",async(t,r)=>{await jEe(t.server,t.body),r.send({code:0})}),e.delete("/setting",async(t,r)=>{await qEe(t.server),r.send({code:0})}),e.post("/push",async(t,r)=>{messageToDart({action:"danmuPush",opt:{url:t.body.url}}),r.send({code:0})}),e.get("/fe",(t,r)=>{r.type("text/html").send(`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <title>\u5F39\u5E55\u641C\u7D22</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://lib.baomitu.com/antd/5.25.0/reset.min.css">      </head>
      <body>
        <div id="app"></div>
        <script crossorigin src="https://lib.baomitu.com/react/18.2.0/umd/react.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/axios/0.26.0/axios.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/dayjs/1.10.8/dayjs.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/antd/5.25.0/antd.min.js"></script>
        <script>${globalThis.danmuBundle}</script>
      </body>
    </html>
    `)})}function fd(e,t){return function(){return e.apply(t,arguments)}}var{toString:DEe}=Object.prototype,{getPrototypeOf:z$}=Object,oy=(e=>t=>{let r=DEe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),cs=e=>(e=e.toLowerCase(),t=>oy(t)===e),ay=e=>t=>typeof t===e,{isArray:gc}=Array,pd=ay("undefined");function LEe(e){return e!==null&&!pd(e)&&e.constructor!==null&&!pd(e.constructor)&&ln(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var J4=cs("ArrayBuffer");function FEe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&J4(e.buffer),t}var MEe=ay("string"),ln=ay("function"),W4=ay("number"),cy=e=>e!==null&&typeof e=="object",zEe=e=>e===!0||e===!1,iy=e=>{if(oy(e)!=="object")return!1;let t=z$(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},UEe=cs("Date"),VEe=cs("File"),HEe=cs("Blob"),BEe=cs("FileList"),KEe=e=>cy(e)&&ln(e.pipe),GEe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ln(e.append)&&((t=oy(e))==="formdata"||t==="object"&&ln(e.toString)&&e.toString()==="[object FormData]"))},JEe=cs("URLSearchParams"),WEe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function md(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),gc(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{let i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length,a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function Y4(e,t){t=t.toLowerCase();let r=Object.keys(e),n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}var X4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Q4=e=>!pd(e)&&e!==X4;function M$(){let{caseless:e}=Q4(this)&&this||{},t={},r=(n,s)=>{let i=e&&Y4(t,s)||s;iy(t[i])&&iy(n)?t[i]=M$(t[i],n):iy(n)?t[i]=M$({},n):gc(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&md(arguments[n],r);return t}var YEe=(e,t,r,{allOwnKeys:n}={})=>(md(t,(s,i)=>{r&&ln(s)?e[i]=fd(s,r):e[i]=s},{allOwnKeys:n}),e),XEe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),QEe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ZEe=(e,t,r,n)=>{let s,i,o,a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&z$(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},e$e=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return n!==-1&&n===r},t$e=e=>{if(!e)return null;if(gc(e))return e;let t=e.length;if(!W4(t))return null;let r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},r$e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&z$(Uint8Array)),n$e=(e,t)=>{let n=(e&&e[Symbol.iterator]).call(e),s;for(;(s=n.next())&&!s.done;){let i=s.value;t.call(e,i[0],i[1])}},s$e=(e,t)=>{let r,n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},i$e=cs("HTMLFormElement"),o$e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),K4=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),a$e=cs("RegExp"),Z4=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};md(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},c$e=e=>{Z4(e,(t,r)=>{if(ln(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=e[r];if(ln(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},u$e=(e,t)=>{let r={},n=s=>{s.forEach(i=>{r[i]=!0})};return gc(e)?n(e):n(String(e).split(t)),r},l$e=()=>{},d$e=(e,t)=>(e=+e,Number.isFinite(e)?e:t),F$="abcdefghijklmnopqrstuvwxyz",G4="0123456789",e3={DIGIT:G4,ALPHA:F$,ALPHA_DIGIT:F$+F$.toUpperCase()+G4},f$e=(e=16,t=e3.ALPHA_DIGIT)=>{let r="",{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function p$e(e){return!!(e&&ln(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}var m$e=e=>{let t=new Array(10),r=(n,s)=>{if(cy(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;let i=gc(n)?[]:{};return md(n,(o,a)=>{let c=r(o,s+1);!pd(c)&&(i[a]=c)}),t[s]=void 0,i}}return n};return r(e,0)},h$e=cs("AsyncFunction"),y$e=e=>e&&(cy(e)||ln(e))&&ln(e.then)&&ln(e.catch),k={isArray:gc,isArrayBuffer:J4,isBuffer:LEe,isFormData:GEe,isArrayBufferView:FEe,isString:MEe,isNumber:W4,isBoolean:zEe,isObject:cy,isPlainObject:iy,isUndefined:pd,isDate:UEe,isFile:VEe,isBlob:HEe,isRegExp:a$e,isFunction:ln,isStream:KEe,isURLSearchParams:JEe,isTypedArray:r$e,isFileList:BEe,forEach:md,merge:M$,extend:YEe,trim:WEe,stripBOM:XEe,inherits:QEe,toFlatObject:ZEe,kindOf:oy,kindOfTest:cs,endsWith:e$e,toArray:t$e,forEachEntry:n$e,matchAll:s$e,isHTMLForm:i$e,hasOwnProperty:K4,hasOwnProp:K4,reduceDescriptors:Z4,freezeMethods:c$e,toObjectSet:u$e,toCamelCase:o$e,noop:l$e,toFiniteNumber:d$e,findKey:Y4,global:X4,isContextDefined:Q4,ALPHABET:e3,generateString:f$e,isSpecCompliantForm:p$e,toJSONObject:m$e,isAsyncFn:h$e,isThenable:y$e};function vc(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}k.inherits(vc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var t3=vc.prototype,r3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{r3[e]={value:e}});Object.defineProperties(vc,r3);Object.defineProperty(t3,"isAxiosError",{value:!0});vc.from=(e,t,r,n,s,i)=>{let o=Object.create(t3);return k.toFlatObject(e,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),vc.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};var K=vc;var o9=Pt(i9(),1),_y=o9.default;function aR(e){return k.isPlainObject(e)||k.isArray(e)}function c9(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function a9(e,t,r){return e?e.concat(t).map(function(s,i){return s=c9(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function tPe(e){return k.isArray(e)&&!e.some(aR)}var rPe=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function nPe(e,t,r){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new(_y||FormData),r=k.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,v){return!k.isUndefined(v[h])});let n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(s))throw new TypeError("visitor must be a function");function l(f){if(f===null)return"";if(k.isDate(f))return f.toISOString();if(!c&&k.isBlob(f))throw new K("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(f)||k.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,h,v){let b=f;if(f&&!v&&typeof f=="object"){if(k.endsWith(h,"{}"))h=n?h:h.slice(0,-2),f=JSON.stringify(f);else if(k.isArray(f)&&tPe(f)||(k.isFileList(f)||k.endsWith(h,"[]"))&&(b=k.toArray(f)))return h=c9(h),b.forEach(function(_,g){!(k.isUndefined(_)||_===null)&&t.append(o===!0?a9([h],g,i):o===null?h:h+"[]",l(_))}),!1}return aR(f)?!0:(t.append(a9(v,h,i),l(f)),!1)}let d=[],p=Object.assign(rPe,{defaultVisitor:u,convertValue:l,isVisitable:aR});function m(f,h){if(!k.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+h.join("."));d.push(f),k.forEach(f,function(b,S){(!(k.isUndefined(b)||b===null)&&s.call(t,b,k.isString(S)?S.trim():S,h,p))===!0&&m(b,h?h.concat(S):[S])}),d.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return m(e),t}var ki=nPe;function u9(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function l9(e,t){this._pairs=[],e&&ki(e,this,t)}var d9=l9.prototype;d9.append=function(t,r){this._pairs.push([t,r])};d9.toString=function(t){let r=t?function(n){return t.call(this,n,u9)}:u9;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};var f9=l9;function sPe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Co(e,t,r){if(!t)return e;let n=r&&r.encode||sPe,s=r&&r.serialize,i;if(s?i=s(t,r):i=k.isURLSearchParams(t)?t.toString():new f9(t,r).toString(n),i){let o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}var cR=class{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(n){n!==null&&t(n)})}},uR=cR;var Sc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var p9=Pt(require("url"),1),m9=p9.default.URLSearchParams;var h9={isNode:!0,classes:{URLSearchParams:m9,FormData:_y,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]};var lR={};xP(lR,{hasBrowserEnv:()=>y9,hasStandardBrowserEnv:()=>iPe,hasStandardBrowserWebWorkerEnv:()=>oPe});var y9=typeof window<"u"&&typeof document<"u",iPe=(e=>y9&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),oPe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";var Tt={...lR,...h9};function dR(e,t){return ki(e,new Tt.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return Tt.isNode&&k.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function aPe(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function cPe(e){let t={},r=Object.keys(e),n,s=r.length,i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function uPe(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;let a=Number.isFinite(+o),c=i>=r.length;return o=!o&&k.isArray(s)?s.length:o,c?(k.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!k.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&k.isArray(s[o])&&(s[o]=cPe(s[o])),!a)}if(k.isFormData(e)&&k.isFunction(e.entries)){let r={};return k.forEachEntry(e,(n,s)=>{t(aPe(n),s,r,0)}),r}return null}var by=uPe;function lPe(e,t,r){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var fR={transitional:Sc,adapter:["xhr","http"],transformRequest:[function(t,r){let n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=k.isObject(t);if(i&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return s?JSON.stringify(by(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return dR(t,this.formSerializer).toString();if((a=k.isFileList(t))||n.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return ki(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),lPe(t)):t}],transformResponse:[function(t){let r=this.transitional||fR.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(t&&k.isString(t)&&(n&&!this.responseType||s)){let o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tt.classes.FormData,Blob:Tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],e=>{fR.headers[e]={}});var Ec=fR;var dPe=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),g9=e=>{let t={},r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&dPe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t};var v9=Symbol("internals");function _d(e){return e&&String(e).trim().toLowerCase()}function wy(e){return e===!1||e==null?e:k.isArray(e)?e.map(wy):String(e)}function fPe(e){let t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}var pPe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pR(e,t,r,n,s){if(k.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!k.isString(t)){if(k.isString(n))return t.indexOf(n)!==-1;if(k.isRegExp(n))return n.test(t)}}function mPe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function hPe(e,t){let r=k.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}var $c=class{constructor(t){t&&this.set(t)}set(t,r,n){let s=this;function i(a,c,l){let u=_d(c);if(!u)throw new Error("header name must be a non-empty string");let d=k.findKey(s,u);(!d||s[d]===void 0||l===!0||l===void 0&&s[d]!==!1)&&(s[d||c]=wy(a))}let o=(a,c)=>k.forEach(a,(l,u)=>i(l,u,c));return k.isPlainObject(t)||t instanceof this.constructor?o(t,r):k.isString(t)&&(t=t.trim())&&!pPe(t)?o(g9(t),r):t!=null&&i(r,t,n),this}get(t,r){if(t=_d(t),t){let n=k.findKey(this,t);if(n){let s=this[n];if(!r)return s;if(r===!0)return fPe(s);if(k.isFunction(r))return r.call(this,s,n);if(k.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=_d(t),t){let n=k.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||pR(this,this[n],n,r)))}return!1}delete(t,r){let n=this,s=!1;function i(o){if(o=_d(o),o){let a=k.findKey(n,o);a&&(!r||pR(n,n[a],a,r))&&(delete n[a],s=!0)}}return k.isArray(t)?t.forEach(i):i(t),s}clear(t){let r=Object.keys(this),n=r.length,s=!1;for(;n--;){let i=r[n];(!t||pR(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){let r=this,n={};return k.forEach(this,(s,i)=>{let o=k.findKey(n,i);if(o){r[o]=wy(s),delete r[i];return}let a=t?mPe(i):String(i).trim();a!==i&&delete r[i],r[a]=wy(s),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let r=Object.create(null);return k.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&k.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){let n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){let n=(this[v9]=this[v9]={accessors:{}}).accessors,s=this.prototype;function i(o){let a=_d(o);n[a]||(hPe(s,o),n[a]=!0)}return k.isArray(t)?t.forEach(i):i(t),this}};$c.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors($c.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});k.freezeMethods($c);var Ot=$c;function bd(e,t){let r=this||Ec,n=t||r,s=Ot.from(n.headers),i=n.data;return k.forEach(e,function(a){i=a.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function wd(e){return!!(e&&e.__CANCEL__)}function _9(e,t,r){K.call(this,e??"canceled",K.ERR_CANCELED,t,r),this.name="CanceledError"}k.inherits(_9,K,{__CANCEL__:!0});var In=_9;function Ni(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new K("Request failed with status code "+r.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function mR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function jo(e,t){return e&&!mR(t)?hR(e,t):t}var e5=Pt(w9(),1),t5=Pt(require("http"),1),r5=Pt(require("https"),1),n5=Pt(require("util"),1),s5=Pt(M9(),1),zs=Pt(require("zlib"),1);var Fo="1.6.7";function Rd(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}var e1e=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function AR(e,t,r){let n=r&&r.Blob||Tt.classes.Blob,s=Rd(e);if(t===void 0&&n&&(t=!0),s==="data"){e=s.length?e.slice(s.length+1):e;let i=e1e.exec(e);if(!i)throw new K("Invalid URL",K.ERR_INVALID_URL);let o=i[1],a=i[2],c=i[3],l=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(t){if(!n)throw new K("Blob is not supported",K.ERR_NOT_SUPPORT);return new n([l],{type:o})}return l}throw new K("Unsupported protocol "+s,K.ERR_NOT_SUPPORT)}var Mo=Pt(require("stream"),1);var U9=Pt(require("stream"),1);function t1e(e,t){let r=0,n=1e3/t,s=null;return function(o,a){let c=Date.now();if(o||c-r>n)return s&&(clearTimeout(s),s=null),r=c,e.apply(null,a);s||(s=setTimeout(()=>(s=null,r=Date.now(),e.apply(null,a)),n-(c-r)))}}var z9=t1e;function r1e(e,t){e=e||10;let r=new Array(e),n=new Array(e),s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){let l=Date.now(),u=n[i];o||(o=l),r[s]=c,n[s]=l;let d=i,p=0;for(;d!==s;)p+=r[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-o<t)return;let m=u&&l-u;return m?Math.round(p*1e3/m):void 0}}var Ry=r1e;var Py=Symbol("internals"),IR=class extends U9.default.Transform{constructor(t){t=k.toFlatObject(t,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(a,c)=>!k.isUndefined(c[a])),super({readableHighWaterMark:t.chunkSize});let r=this,n=this[Py]={length:t.length,timeWindow:t.timeWindow,ticksRate:t.ticksRate,chunkSize:t.chunkSize,maxRate:t.maxRate,minChunkSize:t.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},s=Ry(n.ticksRate*t.samplesCount,n.timeWindow);this.on("newListener",a=>{a==="progress"&&(n.isCaptured||(n.isCaptured=!0))});let i=0;n.updateProgress=z9(function(){let c=n.length,l=n.bytesSeen,u=l-i;if(!u||r.destroyed)return;let d=s(u);i=l,process.nextTick(()=>{r.emit("progress",{loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&l<=c?(c-l)/d:void 0})})},n.ticksRate);let o=()=>{n.updateProgress(!0)};this.once("end",o),this.once("error",o)}_read(t){let r=this[Py];return r.onReadCallback&&r.onReadCallback(),super._read(t)}_transform(t,r,n){let s=this,i=this[Py],o=i.maxRate,a=this.readableHighWaterMark,c=i.timeWindow,l=1e3/c,u=o/l,d=i.minChunkSize!==!1?Math.max(i.minChunkSize,u*.01):0;function p(f,h){let v=Buffer.byteLength(f);i.bytesSeen+=v,i.bytes+=v,i.isCaptured&&i.updateProgress(),s.push(f)?process.nextTick(h):i.onReadCallback=()=>{i.onReadCallback=null,process.nextTick(h)}}let m=(f,h)=>{let v=Buffer.byteLength(f),b=null,S=a,_,g=0;if(o){let x=Date.now();(!i.ts||(g=x-i.ts)>=c)&&(i.ts=x,_=u-i.bytes,i.bytes=_<0?-_:0,g=0),_=u-i.bytes}if(o){if(_<=0)return setTimeout(()=>{h(null,f)},c-g);_<S&&(S=_)}S&&v>S&&v-S>d&&(b=f.subarray(S),f=f.subarray(0,S)),p(f,b?()=>{process.nextTick(h,null,b)}:h)};m(t,function f(h,v){if(h)return n(h);v?m(v,f):n(null)})}setLength(t){return this[Py].length=+t,this}},CR=IR;var i5=Pt(require("events"),1);var H9=require("util"),B9=require("stream");var{asyncIterator:V9}=Symbol,n1e=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[V9]?yield*e[V9]():yield e},Ty=n1e;var s1e=k.ALPHABET.ALPHA_DIGIT+"-_",Pd=new H9.TextEncoder,Ii=`\r
`,i1e=Pd.encode(Ii),o1e=2,jR=class{constructor(t,r){let{escapeName:n}=this.constructor,s=k.isString(r),i=`Content-Disposition: form-data; name="${n(t)}"${!s&&r.name?`; filename="${n(r.name)}"`:""}${Ii}`;s?r=Pd.encode(String(r).replace(/\r?\n|\r\n?/g,Ii)):i+=`Content-Type: ${r.type||"application/octet-stream"}${Ii}`,this.headers=Pd.encode(i+Ii),this.contentLength=s?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+o1e,this.name=t,this.value=r}async*encode(){yield this.headers;let{value:t}=this;k.isTypedArray(t)?yield t:yield*Ty(t),yield i1e}static escapeName(t){return String(t).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},a1e=(e,t,r)=>{let{tag:n="form-data-boundary",size:s=25,boundary:i=n+"-"+k.generateString(s,s1e)}=r||{};if(!k.isFormData(e))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let o=Pd.encode("--"+i+Ii),a=Pd.encode("--"+i+"--"+Ii+Ii),c=a.byteLength,l=Array.from(e.entries()).map(([d,p])=>{let m=new jR(d,p);return c+=m.size,m});c+=o.byteLength*l.length,c=k.toFiniteNumber(c);let u={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(c)&&(u["Content-Length"]=c),t&&t(u),B9.Readable.from(async function*(){for(let d of l)yield o,yield*d.encode();yield a}())},K9=a1e;var G9=Pt(require("stream"),1),qR=class extends G9.default.Transform{__transform(t,r,n){this.push(t),n()}_transform(t,r,n){if(t.length!==0&&(this._transform=this.__transform,t[0]!==120)){let s=Buffer.alloc(2);s[0]=120,s[1]=156,this.push(s,r)}this.__transform(t,r,n)}},J9=qR;var c1e=(e,t)=>k.isAsyncFn(e)?function(...r){let n=r.pop();e.apply(this,r).then(s=>{try{t?n(null,...t(s)):n(null,s)}catch(i){n(i)}},n)}:e,W9=c1e;var Y9={flush:zs.default.constants.Z_SYNC_FLUSH,finishFlush:zs.default.constants.Z_SYNC_FLUSH},u1e={flush:zs.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:zs.default.constants.BROTLI_OPERATION_FLUSH},X9=k.isFunction(zs.default.createBrotliDecompress),{http:l1e,https:d1e}=s5.default,f1e=/https:?/,Q9=Tt.protocols.map(e=>e+":");function p1e(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}function o5(e,t,r){let n=t;if(!n&&n!==!1){let s=(0,e5.getProxyForUrl)(r);s&&(n=new URL(s))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let i=Buffer.from(n.auth,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+i}e.headers.host=e.hostname+(e.port?":"+e.port:"");let s=n.hostname||n.host;e.hostname=s,e.host=s,e.port=n.port,e.path=r,n.protocol&&(e.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}e.beforeRedirects.proxy=function(i){o5(i,t,i.href)}}var m1e=typeof process<"u"&&k.kindOf(process)==="process",h1e=e=>new Promise((t,r)=>{let n,s,i=(c,l)=>{s||(s=!0,n&&n(c,l))},o=c=>{i(c),t(c)},a=c=>{i(c,!0),r(c)};e(o,a,c=>n=c).catch(a)}),y1e=({address:e,family:t})=>{if(!k.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(e.indexOf(".")<0?6:4)}},Z9=(e,t)=>y1e(k.isObject(e)?e:{address:e,family:t}),a5=m1e&&function(t){return h1e(async function(n,s,i){let{data:o,lookup:a,family:c}=t,{responseType:l,responseEncoding:u}=t,d=t.method.toUpperCase(),p,m=!1,f;if(a){let I=W9(a,D=>k.isArray(D)?D:[D]);a=(D,q,te)=>{I(D,q,(se,Q,lt)=>{if(se)return te(se);let He=k.isArray(Q)?Q.map(ce=>Z9(ce)):[Z9(Q,lt)];q.all?te(se,He):te(se,He[0].address,He[0].family)})}}let h=new i5.default,v=()=>{t.cancelToken&&t.cancelToken.unsubscribe(b),t.signal&&t.signal.removeEventListener("abort",b),h.removeAllListeners()};i((I,D)=>{p=!0,D&&(m=!0,v())});function b(I){h.emit("abort",!I||I.type?new In(null,t,f):I)}h.once("abort",s),(t.cancelToken||t.signal)&&(t.cancelToken&&t.cancelToken.subscribe(b),t.signal&&(t.signal.aborted?b():t.signal.addEventListener("abort",b)));let S=jo(t.baseURL,t.url),_=new URL(S,"http://localhost"),g=_.protocol||Q9[0];if(g==="data:"){let I;if(d!=="GET")return Ni(n,s,{status:405,statusText:"method not allowed",headers:{},config:t});try{I=AR(t.url,l==="blob",{Blob:t.env&&t.env.Blob})}catch(D){throw K.from(D,K.ERR_BAD_REQUEST,t)}return l==="text"?(I=I.toString(u),(!u||u==="utf8")&&(I=k.stripBOM(I))):l==="stream"&&(I=Mo.default.Readable.from(I)),Ni(n,s,{data:I,status:200,statusText:"OK",headers:new Ot,config:t})}if(Q9.indexOf(g)===-1)return s(new K("Unsupported protocol "+g,K.ERR_BAD_REQUEST,t));let x=Ot.from(t.headers).normalize();x.set("User-Agent","axios/"+Fo,!1);let R=t.onDownloadProgress,w=t.onUploadProgress,E=t.maxRate,P,$;if(k.isSpecCompliantForm(o)){let I=x.getContentType(/boundary=([-_\w\d]{10,70})/i);o=K9(o,D=>{x.set(D)},{tag:`axios-${Fo}-boundary`,boundary:I&&I[1]||void 0})}else if(k.isFormData(o)&&k.isFunction(o.getHeaders)){if(x.set(o.getHeaders()),!x.hasContentLength())try{let I=await n5.default.promisify(o.getLength).call(o);Number.isFinite(I)&&I>=0&&x.setContentLength(I)}catch{}}else if(k.isBlob(o))o.size&&x.setContentType(o.type||"application/octet-stream"),x.setContentLength(o.size||0),o=Mo.default.Readable.from(Ty(o));else if(o&&!k.isStream(o)){if(!Buffer.isBuffer(o))if(k.isArrayBuffer(o))o=Buffer.from(new Uint8Array(o));else if(k.isString(o))o=Buffer.from(o,"utf-8");else return s(new K("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",K.ERR_BAD_REQUEST,t));if(x.setContentLength(o.length,!1),t.maxBodyLength>-1&&o.length>t.maxBodyLength)return s(new K("Request body larger than maxBodyLength limit",K.ERR_BAD_REQUEST,t))}let j=k.toFiniteNumber(x.getContentLength());k.isArray(E)?(P=E[0],$=E[1]):P=$=E,o&&(w||P)&&(k.isStream(o)||(o=Mo.default.Readable.from(o,{objectMode:!1})),o=Mo.default.pipeline([o,new CR({length:j,maxRate:k.toFiniteNumber(P)})],k.noop),w&&o.on("progress",I=>{w(Object.assign(I,{upload:!0}))}));let O;if(t.auth){let I=t.auth.username||"",D=t.auth.password||"";O=I+":"+D}if(!O&&_.username){let I=_.username,D=_.password;O=I+":"+D}O&&x.delete("authorization");let T;try{T=Co(_.pathname+_.search,t.params,t.paramsSerializer).replace(/^\?/,"")}catch(I){let D=new Error(I.message);return D.config=t,D.url=t.url,D.exists=!0,s(D)}x.set("Accept-Encoding","gzip, compress, deflate"+(X9?", br":""),!1);let A={path:T,method:d,headers:x.toJSON(),agents:{http:t.httpAgent,https:t.httpsAgent},auth:O,protocol:g,family:c,beforeRedirect:p1e,beforeRedirects:{}};!k.isUndefined(a)&&(A.lookup=a),t.socketPath?A.socketPath=t.socketPath:(A.hostname=_.hostname,A.port=_.port,o5(A,t.proxy,g+"//"+_.hostname+(_.port?":"+_.port:"")+A.path));let F,C=f1e.test(A.protocol);if(A.agent=C?t.httpsAgent:t.httpAgent,t.transport?F=t.transport:t.maxRedirects===0?F=C?r5.default:t5.default:(t.maxRedirects&&(A.maxRedirects=t.maxRedirects),t.beforeRedirect&&(A.beforeRedirects.config=t.beforeRedirect),F=C?d1e:l1e),t.maxBodyLength>-1?A.maxBodyLength=t.maxBodyLength:A.maxBodyLength=1/0,t.insecureHTTPParser&&(A.insecureHTTPParser=t.insecureHTTPParser),f=F.request(A,function(D){if(f.destroyed)return;let q=[D],te=+D.headers["content-length"];if(R){let ce=new CR({length:k.toFiniteNumber(te),maxRate:k.toFiniteNumber($)});R&&ce.on("progress",Et=>{R(Object.assign(Et,{download:!0}))}),q.push(ce)}let se=D,Q=D.req||f;if(t.decompress!==!1&&D.headers["content-encoding"])switch((d==="HEAD"||D.statusCode===204)&&delete D.headers["content-encoding"],(D.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":q.push(zs.default.createUnzip(Y9)),delete D.headers["content-encoding"];break;case"deflate":q.push(new J9),q.push(zs.default.createUnzip(Y9)),delete D.headers["content-encoding"];break;case"br":X9&&(q.push(zs.default.createBrotliDecompress(u1e)),delete D.headers["content-encoding"])}se=q.length>1?Mo.default.pipeline(q,k.noop):q[0];let lt=Mo.default.finished(se,()=>{lt(),v()}),He={status:D.statusCode,statusText:D.statusMessage,headers:new Ot(D.headers),config:t,request:Q};if(l==="stream")He.data=se,Ni(n,s,He);else{let ce=[],Et=0;se.on("data",function(G){ce.push(G),Et+=G.length,t.maxContentLength>-1&&Et>t.maxContentLength&&(m=!0,se.destroy(),s(new K("maxContentLength size of "+t.maxContentLength+" exceeded",K.ERR_BAD_RESPONSE,t,Q)))}),se.on("aborted",function(){if(m)return;let G=new K("maxContentLength size of "+t.maxContentLength+" exceeded",K.ERR_BAD_RESPONSE,t,Q);se.destroy(G),s(G)}),se.on("error",function(G){f.destroyed||s(K.from(G,null,t,Q))}),se.on("end",function(){try{let G=ce.length===1?ce[0]:Buffer.concat(ce);l!=="arraybuffer"&&(G=G.toString(u),(!u||u==="utf8")&&(G=k.stripBOM(G))),He.data=G}catch(G){return s(K.from(G,null,t,He.request,He))}Ni(n,s,He)})}h.once("abort",ce=>{se.destroyed||(se.emit("error",ce),se.destroy())})}),h.once("abort",I=>{s(I),f.destroy(I)}),f.on("error",function(D){s(K.from(D,null,t,f))}),f.on("socket",function(D){D.setKeepAlive(!0,1e3*60)}),t.timeout){let I=parseInt(t.timeout,10);if(Number.isNaN(I)){s(new K("error trying to parse `config.timeout` to int",K.ERR_BAD_OPTION_VALUE,t,f));return}f.setTimeout(I,function(){if(p)return;let q=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",te=t.transitional||Sc;t.timeoutErrorMessage&&(q=t.timeoutErrorMessage),s(new K(q,te.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,t,f)),b()})}if(k.isStream(o)){let I=!1,D=!1;o.on("end",()=>{I=!0}),o.once("error",q=>{D=!0,f.destroy(q)}),o.on("close",()=>{!I&&!D&&b(new In("Request stream has been aborted",t,f))}),o.pipe(f)}else f.end(o)})};var c5=Tt.hasStandardBrowserEnv?{write(e,t,r,n,s,i){let o=[e+"="+encodeURIComponent(t)];k.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),k.isString(n)&&o.push("path="+n),k.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var u5=Tt.hasStandardBrowserEnv?function(){let t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function s(i){let o=i;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(o){let a=k.isString(o)?s(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function l5(e,t){let r=0,n=Ry(50,250);return s=>{let i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-r,c=n(a),l=i<=o;r=i;let u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&l?(o-i)/c:void 0,event:s};u[t?"download":"upload"]=!0,e(u)}}var g1e=typeof XMLHttpRequest<"u",d5=g1e&&function(e){return new Promise(function(r,n){let s=e.data,i=Ot.from(e.headers).normalize(),{responseType:o,withXSRFToken:a}=e,c;function l(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let u;if(k.isFormData(s)){if(Tt.hasStandardBrowserEnv||Tt.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((u=i.getContentType())!==!1){let[h,...v]=u?u.split(";").map(b=>b.trim()).filter(Boolean):[];i.setContentType([h||"multipart/form-data",...v].join("; "))}}let d=new XMLHttpRequest;if(e.auth){let h=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(h+":"+v))}let p=jo(e.baseURL,e.url);d.open(e.method.toUpperCase(),Co(p,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function m(){if(!d)return;let h=Ot.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:h,config:e,request:d};Ni(function(_){r(_),l()},function(_){n(_),l()},b),d=null}if("onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(m)},d.onabort=function(){d&&(n(new K("Request aborted",K.ECONNABORTED,e,d)),d=null)},d.onerror=function(){n(new K("Network Error",K.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",b=e.transitional||Sc;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),n(new K(v,b.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,d)),d=null},Tt.hasStandardBrowserEnv&&(a&&k.isFunction(a)&&(a=a(e)),a||a!==!1&&u5(p))){let h=e.xsrfHeaderName&&e.xsrfCookieName&&c5.read(e.xsrfCookieName);h&&i.set(e.xsrfHeaderName,h)}s===void 0&&i.setContentType(null),"setRequestHeader"in d&&k.forEach(i.toJSON(),function(v,b){d.setRequestHeader(b,v)}),k.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&o!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",l5(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",l5(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=h=>{d&&(n(!h||h.type?new In(null,e,d):h),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));let f=Rd(p);if(f&&Tt.protocols.indexOf(f)===-1){n(new K("Unsupported protocol "+f+":",K.ERR_BAD_REQUEST,e));return}d.send(s||null)})};var DR={http:a5,xhr:d5};k.forEach(DR,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});var f5=e=>`- ${e}`,v1e=e=>k.isFunction(e)||e===null||e===!1,Oy={getAdapter:e=>{e=k.isArray(e)?e:[e];let{length:t}=e,r,n,s={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!v1e(r)&&(n=DR[(o=String(r)).toLowerCase()],n===void 0))throw new K(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){let i=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),o=t?i.length>1?`since :
`+i.map(f5).join(`
`):" "+f5(i[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:DR};function LR(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new In(null,e)}function ky(e){return LR(e),e.headers=Ot.from(e.headers),e.data=bd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Oy.getAdapter(e.adapter||Ec.adapter)(e).then(function(n){return LR(e),n.data=bd.call(e,e.transformResponse,n),n.headers=Ot.from(n.headers),n},function(n){return wd(n)||(LR(e),n&&n.response&&(n.response.data=bd.call(e,e.transformResponse,n.response),n.response.headers=Ot.from(n.response.headers))),Promise.reject(n)})}var p5=e=>e instanceof Ot?e.toJSON():e;function Us(e,t){t=t||{};let r={};function n(l,u,d){return k.isPlainObject(l)&&k.isPlainObject(u)?k.merge.call({caseless:d},l,u):k.isPlainObject(u)?k.merge({},u):k.isArray(u)?u.slice():u}function s(l,u,d){if(k.isUndefined(u)){if(!k.isUndefined(l))return n(void 0,l,d)}else return n(l,u,d)}function i(l,u){if(!k.isUndefined(u))return n(void 0,u)}function o(l,u){if(k.isUndefined(u)){if(!k.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function a(l,u,d){if(d in t)return n(l,u);if(d in e)return n(void 0,l)}let c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>s(p5(l),p5(u),!0)};return k.forEach(Object.keys(Object.assign({},e,t)),function(u){let d=c[u]||s,p=d(e[u],t[u],u);k.isUndefined(p)&&d!==a||(r[u]=p)}),r}var FR={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{FR[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var m5={};FR.transitional=function(t,r,n){function s(i,o){return"[Axios v"+Fo+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(t===!1)throw new K(s(o," has been removed"+(r?" in "+r:"")),K.ERR_DEPRECATED);return r&&!m5[o]&&(m5[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,a):!0}};function _1e(e,t,r){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),s=n.length;for(;s-- >0;){let i=n[s],o=t[i];if(o){let a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new K("option "+i+" must be "+c,K.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new K("Unknown option "+i,K.ERR_BAD_OPTION)}}var Ny={assertOptions:_1e,validators:FR};var Ci=Ny.validators,kc=class{constructor(t){this.defaults=t,this.interceptors={request:new uR,response:new uR}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;let i=s.stack?s.stack.replace(/^.+\n/,""):"";n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Us(this.defaults,r);let{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Ny.assertOptions(n,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),s!=null&&(k.isFunction(s)?r.paramsSerializer={serialize:s}:Ny.assertOptions(s,{encode:Ci.function,serialize:Ci.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&k.merge(i.common,i[r.method]);i&&k.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),r.headers=Ot.concat(o,i);let a=[],c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(c=c&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});let l=[];this.interceptors.response.forEach(function(h){l.push(h.fulfilled,h.rejected)});let u,d=0,p;if(!c){let f=[ky.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,l),p=f.length,u=Promise.resolve(r);d<p;)u=u.then(f[d++],f[d++]);return u}p=a.length;let m=r;for(d=0;d<p;){let f=a[d++],h=a[d++];try{m=f(m)}catch(v){h.call(this,v);break}}try{u=ky.call(this,m)}catch(f){return Promise.reject(f)}for(d=0,p=l.length;d<p;)u=u.then(l[d++],l[d++]);return u}getUri(t){t=Us(this.defaults,t);let r=jo(t.baseURL,t.url);return Co(r,t.params,t.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(t){kc.prototype[t]=function(r,n){return this.request(Us(n||{},{method:t,url:r,data:(n||{}).data}))}});k.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,a){return this.request(Us(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}kc.prototype[t]=r(),kc.prototype[t+"Form"]=r(!0)});var Td=kc;var MR=class e{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i,o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,a){n.reason||(n.reason=new In(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new e(function(s){t=s}),cancel:t}}},h5=MR;function zR(e){return function(r){return e.apply(null,r)}}function UR(e){return k.isObject(e)&&e.isAxiosError===!0}var VR={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(VR).forEach(([e,t])=>{VR[t]=e});var y5=VR;function g5(e){let t=new Td(e),r=fd(Td.prototype.request,t);return k.extend(r,Td.prototype,t,{allOwnKeys:!0}),k.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return g5(Us(e,s))},r}var Rt=g5(Ec);Rt.Axios=Td;Rt.CanceledError=In;Rt.CancelToken=h5;Rt.isCancel=wd;Rt.VERSION=Fo;Rt.toFormData=ki;Rt.AxiosError=K;Rt.Cancel=Rt.CanceledError;Rt.all=function(t){return Promise.all(t)};Rt.spread=zR;Rt.isAxiosError=UR;Rt.mergeConfig=Us;Rt.AxiosHeaders=Ot;Rt.formToJSON=e=>by(k.isHTMLForm(e)?new FormData(e):e);Rt.getAdapter=Oy.getAdapter;Rt.HttpStatusCode=y5;Rt.default=Rt;var Vs=Rt;var{Axios:G2e,AxiosError:J2e,CanceledError:W2e,isCancel:Y2e,CancelToken:X2e,VERSION:Q2e,all:Z2e,Cancel:eze,isAxiosError:tze,spread:rze,toFormData:nze,AxiosHeaders:sze,HttpStatusCode:ize,formToJSON:oze,getAdapter:aze,mergeConfig:cze}=Vs;var HR=["\u7F8E\u5267","\u97E9\u5267","\u65E5\u5267","\u53F0\u5267","\u6E2F\u5267","\u6E2F\u53F0\u5267","\u56FD\u4EA7\u5267","\u5927\u9646\u5267","\u5185\u5730\u5267","\u6CF0\u5267","\u82F1\u5267","\u7F8E\u5267\u7248","\u82F1\u5267\u7248","\u65E5\u5267\u7248","\u97E9\u5267\u7248","\u53F0\u5267\u7248","\u6E2F\u5267\u7248","\u6CF0\u5267\u7248","\u5F71\u540E","\u5F71\u5E1D","\u56FD\u5267","\u5FAE\u77ED\u5267","\u77ED\u5267","\u7535\u5F71","\u5267\u96C6","\u7EFC\u827A","\u72AF\u7F6A","\u52A8\u6F2B","\u52A8\u753B","\u7EAA\u5F55\u7247","\u77ED\u7247","\u8FDE\u7EED\u5267","\u7CFB\u5217\u5267","\u7F51\u7EDC\u5267","\u7535\u89C6\u5267"],b1e=["\u5F71\u7247","\u7247\u5B50","\u7247\u82B1","\u7247\u6BB5","\u9884\u544A","\u9884\u544A\u7247","\u82B1\u7D6E","\u5E55\u540E","\u8BBF\u8C08","\u7279\u522B\u7BC7","\u756A\u5916\u7BC7","OVA","OAD","SP","TV\u7248","\u5267\u573A\u7248","\u7535\u5F71\u7248","\u5F71\u7248","\u5267\u7248","\u56FD\u8BED\u7248","\u666E\u901A\u8BDD\u7248","\u7CA4\u8BED\u7248","\u95FD\u5357\u8BED\u7248","\u5BA2\u5BB6\u8BED\u7248","\u5434\u8BED\u7248","\u5DDD\u8BED\u7248","\u6E58\u8BED\u7248","\u8D63\u8BED\u7248","\u7CA4\u8BED\u914D\u97F3\u7248","\u56FD\u8BED\u914D\u97F3\u7248","\u666E\u901A\u8BDD\u914D\u97F3\u7248","\u65B9\u8A00\u7248","\u539F\u7248\u914D\u97F3","\u539F\u97F3\u7248","\u53F0\u8BED\u7248","\u7CA4\u8BED\u4E2D\u5B57\u7248","\u56FD\u8BED\u4E2D\u5B57\u7248","\u666E\u901A\u8BDD\u4E2D\u5B57\u7248","\u7CA4\u8BED\u539F\u58F0\u7248","\u56FD\u8BED\u539F\u58F0\u7248","\u666E\u901A\u8BDD\u539F\u58F0\u7248","\u7CA4\u8BED\u5185\u5D4C\u5B57\u5E55\u7248","\u56FD\u8BED\u5185\u5D4C\u5B57\u5E55\u7248","\u666E\u901A\u8BDD\u5185\u5D4C\u5B57\u5E55\u7248","\u52A8\u753B\u7248","\u771F\u4EBA\u7248","\u6539\u7F16\u7248","\u91CD\u5236\u7248","\u4FEE\u590D\u7248","\u52A0\u957F\u7248","\u672A\u5220\u51CF\u7248","\u5B8C\u6574\u7248","\u5BFC\u6F14\u526A\u8F91\u7248","\u7EC8\u6781\u7248","\u7279\u522B\u7248","\u9650\u5B9A\u7248","\u6536\u85CF\u7248","\u8C6A\u534E\u7248","\u5178\u85CF\u7248","\u9AD8\u6E05\u7248","\u8D85\u6E05\u7248","\u6807\u6E05\u7248","HD\u7248","UHD\u7248","4K\u7248","\u84DD\u5149\u7248","DVD\u7248","BD\u7248","WEB\u7248","TVrip","BDrip","DVDrip","HDrip","WEB-DL","HDTV","DVDRip","BRRip","HDRip","BluRay","TS","TC","CAM","\u62A2\u5148\u7248","\u67AA\u7248","\u5077\u62CD\u7248","\u6CC4\u9732\u7248","\u62A2\u5148\u770B","\u6B63\u7247","\u6B63\u7247\u7247\u6BB5","\u6B63\u7247\u7CBE\u534E","\u82B1\u7D6E\u96C6\u9526","\u5E55\u540E\u82B1\u7D6E","\u5236\u4F5C\u7279\u8F91","\u8BBF\u8C08\u5F55","\u9996\u6620\u793C","\u7EA2\u6BEF\u79C0","\u8DEF\u6F14","\u53D1\u5E03\u4F1A","\u9884\u544A\u7247\u5408\u96C6","\u9884\u544A\u7247\u82B1\u7D6E","\u7247\u82B1\u9884\u544A","\u7CBE\u5F69\u7247\u6BB5","\u7CBE\u5F69\u96C6\u9526","\u7CBE\u9009\u7247\u6BB5","\u9AD8\u80FD\u7247\u6BB5","\u9AD8\u5149\u65F6\u523B","\u526A\u8F91\u7248","\u6DF7\u526A","MV","\u4E3B\u9898\u66F2","\u63D2\u66F2","\u7247\u5C3E\u66F2","\u914D\u4E50","\u539F\u58F0","OST","\u539F\u58F0\u5E26","\u539F\u58F0\u5927\u789F","\u97F3\u4E50\u96C6","\u97F3\u4E50\u4F1A","\u6F14\u5531","Live","Live\u7248","\u73B0\u573A\u7248","\u73B0\u573A\u5F55\u5236","\u821E\u53F0\u7248","\u821E\u53F0\u5267","\u8BDD\u5267","\u6B4C\u5267","\u821E\u5267","\u620F\u66F2","\u4EAC\u5267","\u8D8A\u5267","\u7CA4\u5267","\u8BC4\u5267","\u9EC4\u6885\u620F","\u4E8C\u4EBA\u8F6C","\u76F8\u58F0","\u5C0F\u54C1","\u7EFC\u827A\u79C0","\u771F\u4EBA\u79C0","\u8131\u53E3\u79C0","\u8BBF\u8C08\u8282\u76EE","\u7EAA\u5F55\u7247\u7CFB\u5217","\u4E13\u9898\u7247","\u79D1\u6559\u7247","\u52A8\u753B\u7247","\u52A8\u6F2B\u7247","\u52A8\u753B\u77ED\u7247","\u52A8\u753B\u7535\u5F71","\u52A8\u753B\u7CFB\u5217","\u52A8\u753B\u5267\u96C6","\u52A8\u753B\u8FDE\u7EED\u5267","\u52A8\u753BOVA","\u52A8\u753BOAD","\u52A8\u753BSP","\u52A8\u753B\u7279\u5178","\u52A8\u753B\u5408\u96C6","\u52A8\u753B\u7CBE\u9009","\u7535\u5F71\u5408\u96C6","\u5F71\u7247\u5408\u96C6","\u7CFB\u5217\u5408\u96C6","\u5408\u96C6\u7248","\u5957\u88C5\u7248","\u5957\u88C5\u5408\u96C6","\u5168\u96C6","\u5168\u7CFB\u5217","\u5168\u5B63","\u7B2C\u4E00\u5B63","\u7B2C\u4E8C\u5B63","\u7B2C\u4E09\u5B63","\u7B2C\u56DB\u5B63","\u7B2C\u4E94\u5B63","\u7B2C\u516D\u5B63","\u7B2C\u4E03\u5B63","\u7B2C\u516B\u5B63","\u7B2C\u4E5D\u5B63","\u7B2C\u5341\u5B63","\u66F4\u65B0\u4E2D","\u5B8C\u7ED3","\u5B8C\u7ED3\u7BC7","\u5B8C\u7ED3\u5B63","\u6700\u7EC8\u5B63","\u6700\u7EC8\u7AE0","\u7EC8\u7AE0","\u7EC8\u7BC7","\u5927\u7ED3\u5C40","\u5927\u7D50\u5C40","\u7279\u522B\u7BC7\u5B8C\u7ED3","\u756A\u5916\u5B8C\u7ED3","OVA\u5B8C\u7ED3","OAD\u5B8C\u7ED3","SP\u5B8C\u7ED3","\u5168\u5267\u7EC8","\u5B8C\u7ED3\u6492\u82B1","\u5B8C\u7ED3\u7EAA\u5FF5","\u5B8C\u7ED3\u7279\u8F91","\u5B8C\u7ED3\u8BBF\u8C08","\u5B8C\u7ED3\u82B1\u7D6E","\u5B8C\u7ED3\u5408\u96C6","\u5B8C\u7ED3\u7BC7\u5408\u96C6","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6","\u5B8C\u7ED3\u7279\u8F91\u5408\u96C6","\u5B8C\u7ED3\u8BBF\u8C08\u5408\u96C6","\u5B8C\u7ED3\u82B1\u7D6E\u5408\u96C6","\u5B8C\u7ED3\u7EAA\u5FF5\u7279\u8F91","\u5B8C\u7ED3\u7EAA\u5FF5\u8BBF\u8C08","\u5B8C\u7ED3\u7EAA\u5FF5\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u7279\u8F91","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u8BBF\u8C08","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u7279\u8F91\u8BBF\u8C08","\u5B8C\u7ED3\u7EAA\u5FF5\u7279\u8F91\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u8BBF\u8C08\u82B1\u7D6E","\u5B8C\u7ED3\u7EAA\u5FF5\u5408\u96C6\u7279\u8F91\u8BBF\u8C08\u82B1\u7D6E","BD","BDRIP","WEB-DL","HDRip","DVDRip","BDRip","BRRip","Rip","BluRay","IMAX","CAM","HD","HDR","UHD","4K","1080p","720p","2160p","480p","120fps","60fps","x264","x265","H264","HEVC","AAC","dts","ddp","truehd","10bit","8bit","5.1","7.1","\u56FD\u8BED","\u7CA4\u8BED","\u82F1\u8BED","\u65E5\u8BED","\u97E9\u8BED","\u6CF0\u8BED","\u6CD5\u8BED","\u5FB7\u8BED","\u897F\u73ED\u7259\u8BED","\u4FC4\u8BED","\u8461\u8404\u7259\u8BED","\u610F\u5927\u5229\u8BED","\u81FB\u5F69","\u4E2D\u5B57","\u7B80\u4E2D","\u7E41\u4E2D","\u7B80\u7E41\u4E2D\u5B57","\u4E2D\u82F1\u53CC\u5B57","\u5185\u5D4C","\u5185\u5C01","\u675C\u6BD4\u5168\u666F\u58F0","\u675C\u6BD4\u97F3\u6548","\u65E0\u6C34\u5370","\u5B8C\u6574\u7248","\u539F\u58F0\u7248","\u89E3\u8BF4\u7248","\u9884\u544A\u7247","\u672A\u5220\u51CF\u7248","\u52A0\u957F\u7248","\u84DD\u5149","\u62A2\u5148\u7248","TC\u7248","\u62A2\u5148","TC","\u4E24\u5B63\u5168","\u5168\u5B63","\u5168\u96C6","DV","\u538B\u5236","HQ","\u5E27","\u7535\u5F71\u7248","\u8C46\u74E3","\u66F4\u65B0","\u66F4\u65B0\u5230","\u63A8\u8350","\u52A8\u4F5C","\u5192\u9669","\u7231\u60C5","\u79D1\u5E7B","\u60AC\u7591","\u60CA\u609A","\u6050\u6016","\u559C\u5267","\u60B2\u5267","\u5267\u60C5","\u5947\u5E7B","\u72AF\u7F6A","\u6218\u4E89","\u5386\u53F2","\u4F20\u8BB0","\u97F3\u4E50","\u6B4C\u821E","\u5BB6\u5EAD","\u513F\u7AE5","\u4F53\u80B2","\u707E\u96BE","\u4F26\u7406","\u77ED\u7247","\u5FAE\u7535\u5F71","\u9AD8\u6E05","\u8D85\u6E05","\u6807\u6E05","\u62A2\u9C9C\u770B","\u9996\u64AD","\u72EC\u64AD","\u70ED\u64AD","\u8FDE\u8F7D\u4E2D","\u6700\u65B0","\u7ECF\u5178","\u70ED\u95E8","\u83B7\u5956","\u53E3\u7891","\u597D\u8BC4","\u9AD8\u5206","\u8C46\u74E3\u9AD8\u5206","IMDb\u9AD8\u5206","\u672A\u5206\u7EA7","\u9650\u5236\u7EA7","\u5BFC\u6F14\u526A\u8F91","\u52A0\u957F","\u7279\u522B\u52A0\u957F","\u7EC8\u6781\u526A\u8F91","\u6536\u85CF","\u8C6A\u534E","\u7EAA\u5FF5","\u9650\u5B9A","\u91CD\u6620","\u4FEE\u590D","\u6570\u7801\u4FEE\u590D","\u91CD\u5236","\u84DD\u5149\u4FEE\u590D","\u91CD\u5236\u9AD8\u6E05","\u9AD8\u6E05\u91CD\u5236","\u91CD\u7F16","\u91CD\u526A","\u914D\u97F3","\u8BD1\u5236","\u539F\u58F0","\u53CC\u8BED","\u591A\u8BED","\u591A\u58F0\u9053","\u73AF\u7ED5\u58F0","\u5168\u666F\u58F0","3D","VR","\u5168\u666F","360\u5EA6","8K","\u539F\u753B","\u65E0\u635F","\u6709\u635F","\u538B\u7F29","\u672A\u538B\u7F29","\u9AD8\u7801\u7387","\u4F4E\u7801\u7387","\u91CD\u7F16\u7801","\u591A\u5B57\u5E55","\u591A\u97F3\u8F68","\u53CC\u97F3\u8F68","\u591A\u7248\u672C","\u5408\u96C6","\u5957\u88C5","\u7CFB\u5217","\u5B8C\u7ED3\u7248","\u6700\u7EC8\u5B63","\u6700\u7EC8\u7AE0","\u7EC8\u7AE0","\u5927\u7ED3\u5C40","\u7279\u522B\u7BC7","\u756A\u5916\u7BC7","OVA","OAD","SP","\u5267\u573A\u7248","\u7535\u5F71\u7248","\u5F71\u7248","\u5267\u7248","\u52A8\u753B\u7248","\u771F\u4EBA\u7248","\u6539\u7F16\u7248","\u539F\u521B","\u884D\u751F","\u756A\u5916","\u7EED\u96C6","\u524D\u4F20","\u540E\u4F20","\u91CD\u542F","\u7FFB\u62CD","\u91CD\u62CD","\u81F4\u656C","\u7EAA\u5FF5","\u732E\u793C","\u8D3A\u5C81","\u6691\u671F\u6863","\u56FD\u5E86\u6863","\u8D3A\u5C81\u6863","\u6625\u8282\u6863","\u60C5\u4EBA\u8282\u6863","\u4E2D\u79CB\u6863","\u6863\u671F","\u4E0A\u6620","\u5B9A\u6863","\u9996\u6620","\u516C\u6620","\u4E0A\u6620\u65F6\u95F4","\u4E0A\u6620\u65E5\u671F","\u7968\u623F","\u7968\u623F\u51A0\u519B","\u7968\u623F\u699C","\u53E3\u7891\u699C","\u8BC4\u5206\u699C","\u6392\u884C\u699C","\u699C\u5355","\u699C\u5355\u7B2C\u4E00","\u70ED\u95E8\u699C","\u70ED\u641C","\u70ED\u8BAE","\u8BDD\u9898","\u70ED\u8BAE\u8BDD\u9898","\u70ED\u95E8\u8BDD\u9898","\u8BA8\u8BBA\u5EA6","\u5173\u6CE8\u5EA6","\u70ED\u5EA6","\u70ED\u5EA6\u699C","\u70ED\u95E8\u63A8\u8350","\u7CBE\u9009","\u529B\u8350","\u5F3A\u70C8\u63A8\u8350","\u5FC5\u770B","\u4E0D\u53EF\u9519\u8FC7","\u7ECF\u5178\u4E4B\u4F5C","\u795E\u4F5C","\u4F73\u4F5C","\u9AD8\u5206\u4F73\u4F5C","\u9AD8\u5206\u795E\u4F5C","\u70C2\u7247","\u5DEE\u8BC4","\u4F4E\u5206","\u53E3\u7891\u7206\u68DA","\u53E3\u7891\u6251\u8857","\u53E3\u7891\u4E24\u6781","\u53E3\u7891\u5206\u5316","\u4E89\u8BAE","\u70ED\u8BAE\u4E0D\u65AD","\u5907\u53D7\u5173\u6CE8","\u4E07\u4F17\u671F\u5F85","\u671F\u5F85\u5DF2\u4E45","\u4E07\u4F17\u77A9\u76EE","\u5E74\u5EA6\u6700\u4F73","\u5E74\u5EA6\u6700\u5DEE","\u5E74\u5EA6\u4E4B\u4F5C","\u5E74\u5EA6\u9ED1\u9A6C","\u5E74\u5EA6\u60CA\u559C","\u5E74\u5EA6\u5931\u671B","\u538B\u8F74\u4E4B\u4F5C","\u6536\u5B98\u4E4B\u4F5C","\u6536\u5B98","\u6536\u5B98\u5B63","\u6536\u5B98\u6218","\u5927\u7ED3\u5C40\u524D\u7BC7","\u5927\u7ED3\u5C40\u540E\u7BC7","\u6700\u7EC8\u56DE","\u6700\u7EC8\u8BDD","\u6700\u7EC8\u7AE0\u524D\u7BC7","\u6700\u7EC8\u7AE0\u540E\u7BC7"],w1e=[...HR,...b1e],v5=new RegExp(w1e.join("|"),"ig"),x1e=new RegExp(HR.join("|"),"ig");function w5(e){if(!e||!e.trim())return"";let t=e.trim();t=t.replace(//g,""),t=t.replace(/-/g," "),t=t.replace(x1e,""),t=t.replace(/\s+/g," ").trim();let r=t.match(/^[\u4e00-\u9fa5]+\d+(?=|\s|$)/);if(r)return r[0];let n=t.match(/^[\u4e00-\u9fa5]+[\u4e00-\u9fa50-9]+\s*(?=\(\d{4}\))/);if(n)return n[0];let s=t.match(/^[\u4e00-\u9fa5]+[\u4e00-\u9fa5 ,.]+\s*(?=\(||\s+\d{4})/),i=s?s[0].trim():"",o=!1,a=t.match(/(.+?)/);if(a)t=a[1],o=!0;else{let u=new RegExp(`\u3010((?!${HR.join("|")})[\u4E00-\u9FA5]{2,}[^/]+?)\u3011`,"i"),d=t.match(u);d&&(t=d[1],o=!0)}!o&&i&&(t=i);let c=[[/.*-/g,""],[/\b\d{4}\b/g,""],[/(?<!^)\[.*?\]|\{.*?\}|.*?|.*?/g," "],[/\b\d+(\.\d+)?[GMK]B?\b/gi,""],[v5,""],[/\d+(\.\d+)?/g,""],[/\b\d+(?=fps|)/g,""],[/\b[a-zA-Z]\b/g,""],[/(?<![\u4e00-\u9fa5])\b\d+\b(?![\u4e00-\u9fa5])/g,""],[/[^a-zA-Z0-9\u4e00-\u9fa5 ]/g,""],[/\s+/g," "]];for(let u of c)t=t.replace(u[0],u[1]);t=t.trim(),t.includes(" ")&&(t=t.substring(0,t.indexOf(" "))),!o&&i&&(t=t.replace(/\s/g,""));let l=e.match(/([\u4e00-\u9fa5]{2,})\s*$/);if(l){let u=l[1];(t.length<2||/\d+/.test(t))&&(t=u)}if(!t){let u=e.match(/\[(.*?)\]/);u&&(t=u[1].trim(),t=t.replace(v5,"").replace(/\d+/g,"").replace(/\s+/g," ").trim())}return t.trim()}var _5={\u96F6:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9},b5={\u5341:10,\u767E:100,\u5343:1e3,\u4E07:1e4,\u4EBF:1e8};function x5(e){if(!e)return-1;let t=0,r=0,n=0,s=!1;for(let i=0;i<e.length;i++){let o=e[i];if(_5.hasOwnProperty(o))n=_5[o];else if(b5.hasOwnProperty(o)){let a=b5[o];a===10?(n===0&&(n=1),r+=n*a,n=0):a===1e4||a===1e8?(r+=n,t+=r*a,r=0,n=0,s=!0):(r+=(n||1)*a,n=0)}else return-1}return s||(t+=r),t+=n,e.startsWith("\u5341")&&t<20&&(t=10+t%10),t}function ji(e){return e&&e.replace(/([]+)|(\d+)/g,(t,r,n)=>{if(r){let s=x5(r);return s!==-1?String(s):t}else if(n)return String(parseInt(n,10));return t})}function S1e(e){let t=e;return t=t.replace(/[()[\]{}]\s*([])\s*[()[\]{}]/g,"$1"),t=t.replace(/(\[|\{|\|).*?(\]|\}||)/g," "),t=t.replace(/\d+\s*(fps||frames?|hz|)/gi," "),t=t.replace(/\b(\d+(p|k|i)|4k|8k|uhd|hd|fhd|qhd|2160p|1440p|1080p|720p|480p|360p)\b/gi," "),t=t.replace(/\b(19|20)\d{2}\b/g," "),t=t.replace(/\b(?:dts|ddp|aac|ac3|eac3|truehd|atmos)\d+(?:\.\d+)?\b|\b\d+\.\d+\b/gi," "),t=t.replace(/\b(8bit|10bit|12bit)\b/gi," "),t=t.replace(/\b(hdr|hdr10|hdr10\+|dolby vision|dv|hlg)\b/gi," "),t=t.replace(/\b(x264|x265|h\.264|h\.265|h264|h265|hevc|mpeg4|av1|vp9)\b/gi," "),t=t.replace(/\b(web-dl|bluray|bdrip|hdrip|dvdrip|brrip|hdtv|dvdr|cam|ts|tc|r5|scr)\b/gi," "),t=t.replace(/\b(hq|sd|hd|fhd|uhd|imax|superbit|remux|extended|uncut|directors cut|dc|special edition|se)\b/gi," "),t=t.replace(/\b(|||||||||||||||||||||hdr)\b/gi," "),t=t.replace(/[\-\_.,()]+/g," "),t.replace(/\s+/g," ").trim()}function E1e(e){let t=e.replace(/(\[|\{|\|).*?(\]|\}||)/g," ");if(/s\d+e\d+/i.test(t))return"-1";let r=t.match(/[\u4e00-\u9fa5\-\_\.\s]+(0*\d{1,8})(?:[\-\_\.\s]|$)/);if(r){let n=r[1],s=parseInt(n,10);if(s>0&&!(s>=1900&&s<=2100))return ji(n)}if(r=t.trim().match(/^0*\d{1,8}$/),r){let n=r[0],s=parseInt(n,10);if(s>0&&!(s>=1900&&s<=2100))return ji(n)}return"-1"}function $1e(e){let t="\u671F|\u5B63",r="\u4E0A\u4E2D\u4E0B",n="\u96C6\u8A71\u8BDD",s=new RegExp(`(\u7B2C?)(0*(d{1,8}|[\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D\u5341\u767E\u5343\u4E07\u4EBF]+))((?:${t})[${r}]?[\uFF08(]?[${r}]?[)\uFF09]?)`),i=e.match(s);if(i){let a=i[1],c=i[2],l=i[4].replace(/[()]/g,"");return c=ji(c),a+c+l}let o=Array.from(e.matchAll(/(?:s\d+.*?e|e)(\d{1,8})(?!\d)/gi));if(o.length>0)return ji(o[o.length-1][1]);if(s=new RegExp(`\u7B2C([\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D\u5341\u767E\u5343\u4E07\u4EBF]+)[${n}]`),i=e.match(s),i){let a=x5(i[1]);return a>0?String(a):"-1"}return s=new RegExp(`\u7B2C(d{1,8})[${n}]`),i=e.match(s),i||(i=e.match(/ep(\d{1,8})/i),i)||(s=new RegExp(`(d{1,8})[${n}]`),i=e.match(s),i)?ji(i[1]):"-1"}function R1e(e){let t="a-zA-Z\xC0-\u017F",r=new RegExp(`(?<![${t}d])0*(\\d{1,8})(?![${t}d])`,"gu"),n=e.match(r);if(n)for(let s of n){let i=parseInt(s,10);if(!(i>=1900&&i<=2100))return ji(s)}return"-1"}function BR(e){if(!e)return"-1";let t=e,r=t.lastIndexOf(".");r>0&&(t=t.substring(0,r));let n=S1e(t),s=$1e(n);if(s!=="-1")return s;let i=E1e(t);return i!=="-1"?i:R1e(n)}var S5=Pt(require("https"),1),E5=Pt(require("http"),1),P1e=Vs.create({httpsAgent:new S5.default.Agent({keepAlive:!1,rejectUnauthorized:!1}),httpAgent:new E5.default.Agent({keepAlive:!1})}),pe=P1e;var Od="https://py.doube.eu.org/v2/spider?site=9037cfae7c64405111e0e364401adb60&filter=true";async function kd(e){return(await pe(e,{method:"get",headers:{"User-Agent":"okhttp/5.0.0-alpha.14"}})).data}async function T1e(){return{}}async function O1e(){let e=await kd(Od),t=e.class,r=e.filters;return{class:t,filters:r}}async function k1e(e){let{id:t,page:r=1}=e.body,s=((await kd(`${Od}&ac=detail&t=${t}&pg=${r}`)).list||[]).map(i=>({vod_id:i.vod_id,vod_name:i.vod_name,vod_pic:i.vod_pic,vod_remarks:i.vod_remarks}));return{page:r,pagecount:9999,total:999999,list:s}}function N1e(e,t){if(!e||!t)return[];let r=e.split("$$$"),n=t.split("$$$");return r.length!==n.length?(console.warn("\u64AD\u653E\u6E90\u548C\u5730\u5740\u6570\u91CF\u4E0D\u5339\u914D"),[]):r.map((s,i)=>{let o=n[i].split("#").map(a=>{let[c,l]=a.split("$");return{name:c||"\u9ED8\u8BA4",url:l||""}});return{flag:s.trim(),name:A1e(s.trim()),episodes:o}})}function A1e(e){return{oule:"\u6B27\u4E50\u64AD\u653E",alivc:"\u963F\u91CC\u4E91",ckm3u8:"CK\u64AD\u653E",bfzym3u8:"\u66B4\u98CE\u5F71\u97F3",zuidam3u8:"\u6700\u5927\u8D44\u6E90",lzm3u8:"\u91CF\u5B50\u8D44\u6E90",ffm3u8:"\u975E\u51E1\u8D44\u6E90",snm3u8:"\u7D22\u5C3C\u8D44\u6E90",tkm3u8:"\u5929\u7A7A\u8D44\u6E90"}[e]||e}async function I1e(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t)try{let s=(await kd(`${Od}&ac=detail&ids=${n}`)).list[0],i=N1e(s.vod_play_from,s.vod_play_url),o={vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url,play_sources:i,default_source:i[0]?.flag||"",source_count:i.length};r.push(o),console.log(`\u89C6\u9891 ${s.vod_name} \u5305\u542B ${i.length} \u4E2A\u64AD\u653E\u6E90:`,i.map(a=>a.name).join(", "))}catch(s){console.error(`\u83B7\u53D6\u89C6\u9891\u8BE6\u60C5\u5931\u8D25 (ID: ${n}):`,s)}return console.log("\u8BE6\u60C5\u5217\u8868:",r),{list:r}}async function C1e(e){let{id:t,flag:r}=e.body;if(!t)throw new Error("\u7F3A\u5C11\u64AD\u653E ID");try{let n=`${Od}&flag=${r}&play=${t}`,s=await kd(n);return{parse:s.parse,header:s.header,url:s.url}}catch(n){throw console.error("\u64AD\u653E\u89E3\u6790\u5931\u8D25:",n),n}}async function j1e(e){let{wd:t}=e.body,r=await kd(`${Od}&ac=detail&wd=${t}`),n=(r.list||[]).map(o=>({vod_id:o.vod_id.toString(),vod_name:o.vod_name,vod_pic:o.vod_pic,vod_remarks:o.vod_remarks})),s=[],i=t.toLowerCase().trim();for(let o of n)(o.vod_name||"").toLowerCase().includes(i)&&s.push(o);return{page:parseInt(r.page),pagecount:r.pagecount,total:s.length,list:s}}var $5={meta:{key:"mc-pgys",name:"\u6C90\u8FB0\u{1F34E}\u82F9\u679C\u5F71\u89C6",type:3},api:async e=>{e.post("/init",T1e),e.post("/home",O1e),e.post("/category",k1e),e.post("/detail",I1e),e.post("/play",C1e),e.post("/search",j1e)}};var Nd="https://py.doube.eu.org/v2/spider?site=006849a2c19a6be413be5017be468c63&filter=true";async function Ad(e){return(await pe(e,{method:"get",headers:{"User-Agent":"okhttp/5.0.0-alpha.14"}})).data}async function q1e(){return{}}async function D1e(){let e=await Ad(Nd),t=e.class,r=e.filters;return{class:t,filters:r}}async function L1e(e){let{id:t,page:r=1}=e.body,s=((await Ad(`${Nd}&ac=detail&t=${t}&pg=${r}`)).list||[]).map(i=>({vod_id:i.vod_id,vod_name:i.vod_name,vod_pic:i.vod_pic,vod_remarks:i.vod_remarks}));return{page:r,pagecount:9999,total:999999,list:s}}function F1e(e,t){if(!e||!t)return[];let r=e.split("$$$"),n=t.split("$$$");return r.length!==n.length?(console.warn("\u64AD\u653E\u6E90\u548C\u5730\u5740\u6570\u91CF\u4E0D\u5339\u914D"),[]):r.map((s,i)=>{let o=n[i].split("#").map(a=>{let[c,l]=a.split("$");return{name:c||"\u9ED8\u8BA4",url:l||""}});return{flag:s.trim(),name:M1e(s.trim()),episodes:o}})}function M1e(e){return{oule:"\u6B27\u4E50\u64AD\u653E",alivc:"\u963F\u91CC\u4E91",ckm3u8:"CK\u64AD\u653E",bfzym3u8:"\u66B4\u98CE\u5F71\u97F3",zuidam3u8:"\u6700\u5927\u8D44\u6E90",lzm3u8:"\u91CF\u5B50\u8D44\u6E90",ffm3u8:"\u975E\u51E1\u8D44\u6E90",snm3u8:"\u7D22\u5C3C\u8D44\u6E90",tkm3u8:"\u5929\u7A7A\u8D44\u6E90"}[e]||e}async function z1e(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t)try{let s=(await Ad(`${Nd}&ac=detail&ids=${n}`)).list[0],i=F1e(s.vod_play_from,s.vod_play_url),o={vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url,play_sources:i,default_source:i[0]?.flag||"",source_count:i.length};r.push(o),console.log(`\u89C6\u9891 ${s.vod_name} \u5305\u542B ${i.length} \u4E2A\u64AD\u653E\u6E90:`,i.map(a=>a.name).join(", "))}catch(s){console.error(`\u83B7\u53D6\u89C6\u9891\u8BE6\u60C5\u5931\u8D25 (ID: ${n}):`,s)}return console.log("\u8BE6\u60C5\u5217\u8868:",r),{list:r}}async function U1e(e){let{id:t,flag:r}=e.body;if(!t)throw new Error("\u7F3A\u5C11\u64AD\u653E ID");try{let n=`${Nd}&flag=${r}&play=${t}`,s=await Ad(n);return{parse:s.parse,header:s.header,url:s.url}}catch(n){throw console.error("\u64AD\u653E\u89E3\u6790\u5931\u8D25:",n),n}}async function V1e(e){let{wd:t}=e.body,r=await Ad(`${Nd}&ac=detail&wd=${t}`),n=(r.list||[]).map(o=>({vod_id:o.vod_id.toString(),vod_name:o.vod_name,vod_pic:o.vod_pic,vod_remarks:o.vod_remarks})),s=[],i=t.toLowerCase().trim();for(let o of n)(o.vod_name||"").toLowerCase().includes(i)&&s.push(o);return{page:parseInt(r.page),pagecount:r.pagecount,total:s.length,list:s}}var R5={meta:{key:"mc-gfcj",name:"\u6C90\u8FB0\u{1F34E}\u5B98\u65B9\u91C7\u96C6",type:3},api:async e=>{e.post("/init",q1e),e.post("/home",D1e),e.post("/category",L1e),e.post("/detail",z1e),e.post("/play",U1e),e.post("/search",V1e)}};var Id="https://py.doube.eu.org/v2/spider?site=2a7cc0edf96108c9d57420ff57c654c6&filter=true";async function Cd(e){return(await pe(e,{method:"get",headers:{"User-Agent":"okhttp/5.0.0-alpha.14"}})).data}async function H1e(){return{}}async function B1e(){let e=await Cd(Id),t=e.class,r=e.filters;return{class:t,filters:r}}async function K1e(e){let{id:t,page:r=1}=e.body,s=((await Cd(`${Id}&ac=detail&t=${t}&pg=${r}`)).list||[]).map(i=>({vod_id:i.vod_id,vod_name:i.vod_name,vod_pic:i.vod_pic,vod_remarks:i.vod_remarks}));return{page:r,pagecount:9999,total:999999,list:s}}function G1e(e,t){if(!e||!t)return[];let r=e.split("$$$"),n=t.split("$$$");return r.length!==n.length?(console.warn("\u64AD\u653E\u6E90\u548C\u5730\u5740\u6570\u91CF\u4E0D\u5339\u914D"),[]):r.map((s,i)=>{let o=n[i].split("#").map(a=>{let[c,l]=a.split("$");return{name:c||"\u9ED8\u8BA4",url:l||""}});return{flag:s.trim(),name:J1e(s.trim()),episodes:o}})}function J1e(e){return{oule:"\u6B27\u4E50\u64AD\u653E",alivc:"\u963F\u91CC\u4E91",ckm3u8:"CK\u64AD\u653E",bfzym3u8:"\u66B4\u98CE\u5F71\u97F3",zuidam3u8:"\u6700\u5927\u8D44\u6E90",lzm3u8:"\u91CF\u5B50\u8D44\u6E90",ffm3u8:"\u975E\u51E1\u8D44\u6E90",snm3u8:"\u7D22\u5C3C\u8D44\u6E90",tkm3u8:"\u5929\u7A7A\u8D44\u6E90"}[e]||e}async function W1e(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t)try{let s=(await Cd(`${Id}&ac=detail&ids=${n}`)).list[0],i=G1e(s.vod_play_from,s.vod_play_url),o={vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url,play_sources:i,default_source:i[0]?.flag||"",source_count:i.length};r.push(o),console.log(`\u89C6\u9891 ${s.vod_name} \u5305\u542B ${i.length} \u4E2A\u64AD\u653E\u6E90:`,i.map(a=>a.name).join(", "))}catch(s){console.error(`\u83B7\u53D6\u89C6\u9891\u8BE6\u60C5\u5931\u8D25 (ID: ${n}):`,s)}return console.log("\u8BE6\u60C5\u5217\u8868:",r),{list:r}}async function Y1e(e){let{id:t,flag:r}=e.body;if(!t)throw new Error("\u7F3A\u5C11\u64AD\u653E ID");try{let n=`${Id}&flag=${r}&play=${t}`,s=await Cd(n);return{parse:s.parse,header:s.header,url:s.url}}catch(n){throw console.error("\u64AD\u653E\u89E3\u6790\u5931\u8D25:",n),n}}async function X1e(e){let{wd:t}=e.body,r=await Cd(`${Id}&ac=detail&wd=${t}`),n=(r.list||[]).map(o=>({vod_id:o.vod_id.toString(),vod_name:o.vod_name,vod_pic:o.vod_pic,vod_remarks:o.vod_remarks})),s=[],i=t.toLowerCase().trim();for(let o of n)(o.vod_name||"").toLowerCase().includes(i)&&s.push(o);return{page:parseInt(r.page),pagecount:r.pagecount,total:s.length,list:s}}var P5={meta:{key:"mc-xhjw",name:"\u6C90\u8FB0\u{1F34E}\u65B0\u97E9\u5267\u7F51",type:3},api:async e=>{e.post("/init",H1e),e.post("/home",B1e),e.post("/category",K1e),e.post("/detail",W1e),e.post("/play",Y1e),e.post("/search",X1e)}};var Ay="https://newtv.ggff.net/douban?token=MRdKOtZ4";async function T5(e){return(await pe(e,{method:"get",headers:{"User-Agent":"Cat"}})).data}async function Q1e(){return{}}async function Z1e(){let e=await T5(Ay),t=e.class,r=e.filters;return{class:t,filters:r}}async function eTe(e){let{id:t,page:r=1,filters:n={}}=e.body,s=`${Ay}&t=${encodeURIComponent(t)}&ac=detail&pg=${r}`,i={};if(t==="movie/hot_gaia"?(n.sort&&(i.sort=n.sort),n.area&&(i.area=n.area)):t==="movie/recommend"?(n.sort&&(i.sort=n.sort),n.tags&&(i.tags=n.tags),n.area&&(i.area=n.area),n.year&&(i.year=n.year)):t==="tv/recommend"?(n.tags&&(i.tags=n.tags),n.sort&&(i.sort=n.sort),n.area&&(i.area=n.area),n.platform&&(i.platform=n.platform),n.year&&(i.year=n.year)):t==="subject_collection/tv_hot/items"&&n.tv_type?s=`${Ay}&t=${encodeURIComponent(n.tv_type)}&ac=detail&pg=${r}`:t==="subject_collection/show_hot/items"&&n.show_type&&(s=`${Ay}&t=${encodeURIComponent(n.show_type)}&ac=detail&pg=${r}`),Object.keys(i).length>0){let c=JSON.stringify(i),l=Buffer.from(c,"utf-8").toString("base64");s+=`&ext=${encodeURIComponent(l)}`}let o=await T5(s),a=(o.list||[]).map(c=>({vod_id:c.vod_id,vod_name:c.vod_name,vod_pic:c.vod_pic,vod_remarks:c.vod_remarks}));return{page:parseInt(o.page),pagecount:o.pagecount,total:o.total,list:a}}async function tTe(e,t){return{}}async function rTe(e,t){return{}}async function nTe(e,t){return{}}var O5={meta:{key:"douban",name:"\u8C46\u74E3\u200D\u9996\u9875",type:3,indexs:1},api:async e=>{e.post("/init",Q1e),e.post("/home",Z1e),e.post("/category",eTe),e.post("/detail",tTe),e.post("/play",rTe),e.post("/search",nTe)}};var jd="https://newtv.ggff.net/guazi?token=MRdKOtZ4";async function qd(e){return(await pe(e,{method:"get",headers:{"User-Agent":"Cat"}})).data}async function sTe(){return{}}async function iTe(){let e=await qd(jd),t=e.class,r=e.filters;return{class:t,filters:r}}async function oTe(e){let{id:t,page:r=1,filters:n={}}=e.body,s=`${jd}&ac=detail&t=${t}&pg=${r}`,i={};if(n.area&&(i.area=n.area),n.sub&&(i.sub=n.sub),n.year&&(i.year=n.year),Object.keys(i).length>0){let c=JSON.stringify(i),l=Buffer.from(c,"utf-8").toString("base64");s+=`&ext=${l}`}let o=await qd(s),a=(o.list||[]).map(c=>({vod_id:c.vod_id,vod_name:c.vod_name,vod_pic:c.vod_pic,vod_remarks:c.vod_remarks}));return{page:parseInt(o.page),pagecount:o.pagecount,total:o.total,list:a}}async function aTe(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t){let s=(await qd(`${jd}&ac=detail&ids=${n}`)).list[0];r.push({vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url})}return{list:r}}async function cTe(e){let{id:t}=e.body,r=`${jd}&flag=guazi&play=${t}`,n=await qd(r);if(n&&n.parse===0&&n.url)return{parse:n.parse,header:n.header,url:n.url};throw new Error("Invalid play data response")}async function uTe(e){let{wd:t}=e.body,r=await qd(`${jd}&ac=detail&wd=${t}`),n=(r.list||[]).map(s=>({vod_id:s.vod_id.toString(),vod_name:s.vod_name,vod_pic:s.vod_pic,vod_remarks:s.vod_remarks}));return{page:parseInt(r.page),pagecount:r.pagecount,total:r.total,list:n}}var k5={meta:{key:"guazi",name:"\u6708\u4F6C\u{1F349}\u74DC\u5B50\u5F71\u89C6",type:3},api:async e=>{e.post("/init",sTe),e.post("/home",iTe),e.post("/category",oTe),e.post("/detail",aTe),e.post("/play",cTe),e.post("/search",uTe)}};var Iy="https://newtv.ggff.net/aigua?token=MRdKOtZ4";async function Cy(e){return(await pe(e,{method:"get",headers:{"User-Agent":"Cat"}})).data}async function lTe(){return{}}async function dTe(){let e=await Cy(Iy),t=e.class,r=e.filters;return{class:t,filters:r}}async function fTe(e){let{id:t,page:r=1,filters:n={}}=e.body,s=`${Iy}&ac=detail&t=${t}&pg=${r}`,i={};if(n.sort&&(i.sort=n.sort),n.tag&&(i.tag=n.tag),n.area&&(i.area=n.area),n.year&&(i.year=n.year),n.status&&(i.status=n.status),Object.keys(i).length>0){let c=JSON.stringify(i),l=Buffer.from(c,"utf-8").toString("base64");s+=`&ext=${l}`}let o=await Cy(s),a=(o.list||[]).map(c=>({vod_id:c.vod_id,vod_name:c.vod_name,vod_pic:c.vod_pic,vod_remarks:c.vod_remarks}));return{page:parseInt(o.page),pagecount:o.pagecount,total:o.total,list:a}}async function pTe(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t){let s=(await Cy(`${Iy}&ac=detail&ids=${n}`)).list[0];r.push({vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url})}return{list:r}}async function mTe(e){let{id:t}=e.body;return{parse:0,url:t,header:{"User-Agent":"Dalvik/2.1.0 (Linux; U; Android 11; M2012K10C Build/RP1A.200720.011)",Origin:"https://aigua.tv",Referer:"https://aigua.tv/"}}}async function hTe(e){let{wd:t}=e.body,r=await Cy(`${Iy}&ac=detail&wd=${t}`),n=(r.list||[]).map(s=>({vod_id:s.vod_id.toString(),vod_name:s.vod_name,vod_pic:s.vod_pic,vod_remarks:s.vod_remarks}));return{page:parseInt(r.page),pagecount:r.pagecount,total:r.total,list:n}}var N5={meta:{key:"aigua",name:"\u55F7\u545C\u{1F34B}\u7231\u74DCTV",type:3},api:async e=>{e.post("/init",lTe),e.post("/home",dTe),e.post("/category",fTe),e.post("/detail",pTe),e.post("/play",mTe),e.post("/search",hTe)}};var Dd="https://newtv.ggff.net/uvod?token=MRdKOtZ4";async function Ld(e){return(await pe(e,{method:"get",headers:{"User-Agent":"Cat"}})).data}async function yTe(){return{}}async function gTe(){let e=await Ld(Dd),t=e.class,r=e.filters;return{class:t,filters:r}}async function vTe(e){let{id:t,page:r=1,filters:n={}}=e.body,s=`${Dd}&ac=detail&t=${t}&pg=${r}`,i={};if(n.area&&(i.area=n.area),n.id&&(i.id=n.id),n.year&&(i.year=n.year),Object.keys(i).length>0){let c=JSON.stringify(i),l=Buffer.from(c,"utf-8").toString("base64");s+=`&ext=${l}`}let o=await Ld(s),a=(o.list||[]).map(c=>({vod_id:c.vod_id,vod_name:c.vod_name,vod_pic:c.vod_pic,vod_remarks:c.vod_remarks}));return{page:parseInt(o.page),pagecount:o.pagecount,total:o.total,list:a}}async function _Te(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t){let s=(await Ld(`${Dd}&ac=detail&ids=${n}`)).list[0];r.push({vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url})}return{list:r}}async function bTe(e){let{id:t}=e.body,r=`${Dd}&flag=uvod&play=${t}`,n=await Ld(r);if(n&&n.parse===0&&n.url)return{parse:n.parse,header:n.header,url:n.url};throw new Error("Invalid play data response")}async function wTe(e){let{wd:t}=e.body,r=await Ld(`${Dd}&ac=detail&wd=${t}`),n=(r.list||[]).map(s=>({vod_id:s.vod_id.toString(),vod_name:s.vod_name,vod_pic:s.vod_pic,vod_remarks:s.vod_remarks}));return{page:parseInt(r.page),pagecount:r.pagecount,total:r.total,list:n}}var A5={meta:{key:"uvod",name:"Qile\u{1F34D}\u4F18\u89C6\u9891",type:3},api:async e=>{e.post("/init",yTe),e.post("/home",gTe),e.post("/category",vTe),e.post("/detail",_Te),e.post("/play",bTe),e.post("/search",wTe)}};var WR=Pt(require("crypto"),1);var Kt=[];for(let e=0;e<256;++e)Kt.push((e+256).toString(16).slice(1));function I5(e,t=0){return(Kt[e[t+0]]+Kt[e[t+1]]+Kt[e[t+2]]+Kt[e[t+3]]+"-"+Kt[e[t+4]]+Kt[e[t+5]]+"-"+Kt[e[t+6]]+Kt[e[t+7]]+"-"+Kt[e[t+8]]+Kt[e[t+9]]+"-"+Kt[e[t+10]]+Kt[e[t+11]]+Kt[e[t+12]]+Kt[e[t+13]]+Kt[e[t+14]]+Kt[e[t+15]]).toLowerCase()}var C5=require("crypto"),qy=new Uint8Array(256),jy=qy.length;function KR(){return jy>qy.length-16&&((0,C5.randomFillSync)(qy),jy=0),qy.slice(jy,jy+=16)}var j5=require("crypto"),GR={randomUUID:j5.randomUUID};function xTe(e,t,r){if(GR.randomUUID&&!t&&!e)return GR.randomUUID();e=e||{};let n=e.random??e.rng?.()??KR();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let s=0;s<16;++s)t[r+s]=n[s];return t}return I5(n)}var JR=xTe;var us="https://www.hkybqufgh.com/",STe="cb808529bae6b6be45ecfab29a4889bc";function ETe(e){return WR.default.createHash("md5").update(e,"utf8").digest("hex")}function $Te(e){return WR.default.createHash("sha1").update(e,"utf8").digest("hex")}function Dy(e){return Object.entries(e).map(([t,r])=>`${t}=${r}`).join("&")}function qi(e={}){let t=Date.now().toString();e.key=STe,e.t=t;let r=Dy(e),n=$Te(ETe(r)),s=JR();return{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.6478.61 Safari/537.36",Accept:"application/json, text/plain, */*",sign:n,t,deviceid:s}}function RTe(e){return e=e.toLowerCase(),e.startsWith("vod")&&e.length>3&&(e=e.replace("vod","vod_")),e.startsWith("type")&&e.length>4&&(e=e.replace("type","type_")),e}function Ly(e){return e.map(t=>{let r={};for(let[n,s]of Object.entries(t))r[RTe(n)]=s;return r})}async function PTe(){return{}}async function TTe(){try{let e=`${us}api/mw-movie/anonymous/get/filer/type`,r=(await pe(e,{headers:qi()})).data,n=`${us}api/mw-movie/anonymous/v1/get/filer/list`,i=(await pe(n,{headers:qi()})).data,o=r.data.map(l=>({type_name:l.typeName,type_id:String(l.typeId)})),a={},c=[{n:"\u6700\u8FD1\u66F4\u65B0",v:"2"},{n:"\u4EBA\u6C14\u9AD8\u4F4E",v:"3"},{n:"\u8BC4\u5206\u9AD8\u4F4E",v:"4"}];for(let[l,u]of Object.entries(i.data)){let d=[...c];l==="1"&&d.shift();let p=[{key:"type",name:"\u7C7B\u578B",value:u.typeList.map(m=>({n:m.itemText,v:m.itemValue}))}];u.plotList&&u.plotList.length>0&&p.push({key:"v_class",name:"\u5267\u60C5",value:u.plotList.map(m=>({n:m.itemText,v:m.itemText}))}),p.push({key:"area",name:"\u5730\u533A",value:u.districtList.map(m=>({n:m.itemText,v:m.itemText}))},{key:"year",name:"\u5E74\u4EFD",value:u.yearList.map(m=>({n:m.itemText,v:m.itemText}))},{key:"lang",name:"\u8BED\u8A00",value:u.languageList.map(m=>({n:m.itemText,v:m.itemText}))},{key:"sort",name:"\u6392\u5E8F",value:d}),a[l]=p}return{class:o,filters:a}}catch(e){return console.error("home error:",e),{class:[],filters:{}}}}async function OTe(){try{let e=`${us}api/mw-movie/anonymous/v1/home/all/list`,r=(await pe(e,{headers:qi()})).data,n=`${us}api/mw-movie/anonymous/home/hotSearch`,i=(await pe(n,{headers:qi()})).data,o=[];for(let c of Object.values(r.data))o.push(...c.list);return o.push(...i.data),{list:Ly(o)}}catch(e){return console.error("homeVideo error:",e),{list:[]}}}async function kTe(e){try{let{id:t,page:r=1,filters:n={}}=e.body,s={area:n.area||"",filterStatus:"1",lang:n.lang||"",pageNum:String(r),pageSize:"30",sort:n.sort||"1",sortBy:"1",type:n.type||"",type1:String(t),v_class:n.v_class||"",year:n.year||""},i=Dy(s),o=`${us}api/mw-movie/anonymous/video/list?${i}`,c=(await pe(o,{headers:qi(s)})).data;return{list:Ly(c.data.list),page:r,pagecount:9999,limit:90,total:999999}}catch(t){return console.error("category error:",t),{list:[],page:1,pagecount:0,limit:90,total:0}}}async function NTe(e){try{let t=Array.isArray(e.body.id)?e.body.id[0]:e.body.id,r={id:t},n=`${us}api/mw-movie/anonymous/video/detail?id=${t}`,o=(await pe(n,{headers:qi(r)})).data.data,c=Ly([o])[0];c.vod_play_from="\u91D1\u724C\u5F71\u89C6";let l=o.episodeList||[],u=l.map(d=>`${l.length>1?d.name:c.vod_name}$${t}@@${d.nid}`);return c.vod_play_url=u.join("#"),delete c.episodelist,{list:[c]}}catch(t){return console.error("detail error:",t),{list:[]}}}async function ATe(e){try{let[t,r]=e.body.id.split("@@"),n={clientType:"1",id:t,nid:r},s=Dy(n),i=`${us}api/mw-movie/anonymous/v2/video/episode/url?${s}`,a=(await pe(i,{headers:qi(n)})).data,c=[];for(let u of a.data.list)c.push(u.resolutionName,u.url);let l={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.6478.61 Safari/537.36","sec-ch-ua-platform":'"Windows"',DNT:"1","sec-ch-ua":'"Not/A)Brand";v="8", "Chromium";v="126", "Google Chrome";v="126"',"sec-ch-ua-mobile":"?0",Origin:us,Referer:`${us}/`};return{parse:0,url:c,header:l}}catch(t){return console.error("play error:",t),{parse:0,url:[]}}}async function ITe(e){try{let{wd:t,page:r="1"}=e.body,n={keyword:t,pageNum:String(r),pageSize:"30",sourceCode:"1"},s=Dy(n),i=`${us}api/mw-movie/anonymous/video/searchByWord?${s}`,a=(await pe(i,{headers:qi(n)})).data,c=Ly(a.data.result.list),l=t.toLowerCase().trim();return{list:c.filter(d=>(d.vod_name||"").toLowerCase().includes(l)),page:r}}catch(t){return console.error("search error:",t),{list:[],page:1}}}var q5={meta:{key:"jinpai",name:"\u55F7\u545C\u{1F34B}\u91D1\u724C\u5F71\u89C6",type:3},api:async e=>{e.post("/init",PTe),e.post("/home",TTe),e.post("/homeVideo",OTe),e.post("/category",kTe),e.post("/detail",NTe),e.post("/play",ATe),e.post("/search",ITe)}};var Fd="https://newtv.ggff.net/jianpian?token=MRdKOtZ4";async function Md(e){return(await pe(e,{method:"get",headers:{"User-Agent":"Cat"}})).data}async function CTe(){return{}}async function jTe(){let e=await Md(Fd),t=e.class,r=e.filters;return{class:t,filters:r}}async function qTe(e){let{id:t,page:r=1,filters:n={}}=e.body,s=`${Fd}&ac=detail&t=${t}&pg=${r}`,i={};if(n.area&&(i.area=n.area),n.sub&&(i.sub=n.sub),n.year&&(i.year=n.year),Object.keys(i).length>0){let c=JSON.stringify(i),l=Buffer.from(c,"utf-8").toString("base64");s+=`&ext=${l}`}let o=await Md(s),a=(o.list||[]).map(c=>({vod_id:c.vod_id,vod_name:c.vod_name,vod_pic:c.vod_pic,vod_remarks:c.vod_remarks}));return{page:parseInt(o.page),pagecount:o.pagecount,total:o.total,list:a}}async function DTe(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t){let s=(await Md(`${Fd}&ac=detail&ids=${n}`)).list[0];r.push({vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url})}return{list:r}}async function LTe(e){let{id:t}=e.body,r=`${Fd}&flag=guazi&play=${t}`,n=await Md(r);if(n&&n.parse===0&&n.url)return{parse:n.parse,header:n.header,url:n.url};throw new Error("Invalid play data response")}async function FTe(e){let{wd:t}=e.body,r=await Md(`${Fd}&ac=detail&wd=${t}`),n=(r.list||[]).map(s=>({vod_id:s.vod_id.toString(),vod_name:s.vod_name,vod_pic:s.vod_pic,vod_remarks:s.vod_remarks}));return{page:parseInt(r.page),pagecount:r.pagecount,total:r.total,list:n}}var D5={meta:{key:"jianpian",name:"\u{1F34A}\u8350\u7247",type:3},api:async e=>{e.post("/init",CTe),e.post("/home",jTe),e.post("/category",qTe),e.post("/detail",DTe),e.post("/play",LTe),e.post("/search",FTe)}};var zd="https://newtv.ggff.net/oule?token=MRdKOtZ4";async function Ud(e){return(await pe(e,{method:"get",headers:{"User-Agent":"Cat"}})).data}async function MTe(){return{}}async function zTe(){let e=await Ud(zd),t=e.class,r=e.filters;return{class:t,filters:r}}async function UTe(e){let{id:t,page:r=1,filters:n={}}=e.body,s=`${zd}&ac=detail&t=${t}&pg=${r}`,i={};if(n.type&&(i.type=n.type),n.area&&(i.area=n.area),n.year&&(i.year=n.year),Object.keys(i).length>0){let c=JSON.stringify(i),l=Buffer.from(c,"utf-8").toString("base64");s+=`&ext=${l}`}let o=await Ud(s),a=(o.list||[]).map(c=>({vod_id:c.vod_id,vod_name:c.vod_name,vod_pic:c.vod_pic,vod_remarks:c.vod_remarks}));return{page:parseInt(o.page),pagecount:o.pagecount,total:o.total,list:a}}async function VTe(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t){let s=(await Ud(`${zd}&ac=detail&ids=${n}`)).list[0];r.push({vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url})}return{list:r}}async function HTe(e){let{id:t}=e.body,r=`${zd}&flag=oule&play=${t}`,n=await Ud(r);if(n&&n.parse===0&&n.url)return{parse:n.parse,header:n.header,url:n.url};throw new Error("Invalid play data response")}async function BTe(e){let{wd:t}=e.body,r=await Ud(`${zd}&ac=detail&wd=${t}`),n=(r.list||[]).map(s=>({vod_id:s.vod_id.toString(),vod_name:s.vod_name,vod_pic:s.vod_pic,vod_remarks:s.vod_remarks}));return{page:parseInt(r.page),pagecount:r.pagecount,total:r.total,list:n}}var L5={meta:{key:"oule",name:"\u{1F34A}\u6B27\u4E50\u5F71\u9662",type:3},api:async e=>{e.post("/init",MTe),e.post("/home",zTe),e.post("/category",UTe),e.post("/detail",VTe),e.post("/play",HTe),e.post("/search",BTe)}};var Vd="https://newtv.ggff.net/duboku?token=MRdKOtZ4";async function Hd(e){return(await pe(e,{method:"get",headers:{"User-Agent":"Cat"}})).data}async function KTe(){return{}}async function GTe(){let e=await Hd(Vd),t=e.class,r=e.filters;return{class:t,filters:r}}async function JTe(e){let{id:t,page:r=1,filters:n={}}=e.body,s=`${Vd}&ac=detail&t=${t}&pg=${r}`,i={};if(n.id&&(i.id=n.id),n.area&&(i.area=n.area),n.year&&(i.year=n.year),Object.keys(i).length>0){let c=JSON.stringify(i),l=Buffer.from(c,"utf-8").toString("base64");s+=`&ext=${l}`}let o=await Hd(s),a=(o.list||[]).map(c=>({vod_id:c.vod_id,vod_name:c.vod_name,vod_pic:c.vod_pic,vod_remarks:c.vod_remarks}));return{page:parseInt(o.page),pagecount:o.pagecount,total:o.total,list:a}}async function WTe(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t){let s=(await Hd(`${Vd}&ac=detail&ids=${n}`)).list[0];r.push({vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url})}return{list:r}}async function YTe(e){let{id:t}=e.body,r=`${Vd}&flag=duboku&play=${t}`,n=await Hd(r);if(n&&n.parse===0&&n.url)return{parse:n.parse,header:n.header,url:n.url}}async function XTe(e){let{wd:t}=e.body,r=await Hd(`${Vd}&ac=detail&wd=${t}`),n=(r.list||[]).map(s=>({vod_id:s.vod_id.toString(),vod_name:s.vod_name,vod_pic:s.vod_pic,vod_remarks:s.vod_remarks}));return{page:parseInt(r.page),pagecount:r.pagecount,total:r.total,list:n}}var F5={meta:{key:"duboku",name:"\u{1F34A}\u72EC\u64AD\u5E93",type:3},api:async e=>{e.post("/init",KTe),e.post("/home",GTe),e.post("/category",JTe),e.post("/detail",WTe),e.post("/play",YTe),e.post("/search",XTe)}};var Bd="https://newtv.ggff.net/jubaba?token=MRdKOtZ4";async function Kd(e){return(await pe(e,{method:"get",headers:{"User-Agent":"Cat"}})).data}async function QTe(){return{}}async function ZTe(){let e=await Kd(Bd),t=e.class,r=e.filters;return{class:t,filters:r}}async function eOe(e){let{id:t,page:r=1,filters:n={}}=e.body,s=`${Bd}&ac=detail&t=${t}&pg=${r}`,i={};if(n.type&&(i.type=n.type),Object.keys(i).length>0){let c=JSON.stringify(i),l=Buffer.from(c,"utf-8").toString("base64");s+=`&ext=${l}`}let o=await Kd(s),a=(o.list||[]).map(c=>({vod_id:c.vod_id,vod_name:c.vod_name,vod_pic:c.vod_pic,vod_remarks:c.vod_remarks}));return{page:parseInt(o.page),pagecount:o.pagecount,total:o.total,list:a}}async function tOe(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t){let s=(await Kd(`${Bd}&ac=detail&ids=${n}`)).list[0];r.push({vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url})}return{list:r}}async function rOe(e){let{id:t}=e.body,r=`${Bd}&flag=jubaba&play=${t}`,n=await Kd(r);if(n&&n.parse===0&&n.url)return{parse:n.parse,header:n.header,url:n.url};throw new Error("Invalid play data response")}async function nOe(e){let{wd:t}=e.body,r=await Kd(`${Bd}&ac=detail&wd=${t}`),n=(r.list||[]).map(s=>({vod_id:s.vod_id.toString(),vod_name:s.vod_name,vod_pic:s.vod_pic,vod_remarks:s.vod_remarks}));return{page:parseInt(r.page),pagecount:r.pagecount,total:r.total,list:n}}var M5={meta:{key:"jubaba",name:"\u55F7\u545C\u{1F34B}\u5267\u7238\u7238",type:3},api:async e=>{e.post("/init",QTe),e.post("/home",ZTe),e.post("/category",eOe),e.post("/detail",tOe),e.post("/play",rOe),e.post("/search",nOe)}};var Gd="https://newtv.ggff.net/yongle?token=MRdKOtZ4";async function Jd(e){return(await pe(e,{method:"get",headers:{"User-Agent":"Cat"}})).data}async function sOe(){return{}}async function iOe(){let e=await Jd(Gd),t=e.class,r=e.filters;return{class:t,filters:r}}async function oOe(e){let{id:t,page:r=1,filters:n={}}=e.body,s=`${Gd}&ac=detail&t=${t}&pg=${r}`,i={};if(n.area&&(i.area=n.area),n.sub&&(i.sub=n.sub),n.year&&(i.year=n.year),Object.keys(i).length>0){let c=JSON.stringify(i),l=Buffer.from(c,"utf-8").toString("base64");s+=`&ext=${l}`}let o=await Jd(s),a=(o.list||[]).map(c=>({vod_id:c.vod_id,vod_name:c.vod_name,vod_pic:c.vod_pic,vod_remarks:c.vod_remarks}));return{page:parseInt(o.page),pagecount:o.pagecount,total:o.total,list:a}}async function aOe(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t){let s=(await Jd(`${Gd}&ac=detail&ids=${n}`)).list[0];r.push({vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url})}return{list:r}}async function cOe(e){let{id:t}=e.body,r=`${Gd}&flag=guazi&play=${t}`,n=await Jd(r);if(n&&n.parse===0&&n.url)return{parse:n.parse,header:n.header,url:n.url};throw new Error("Invalid play data response")}async function uOe(e){let{wd:t}=e.body,r=await Jd(`${Gd}&ac=detail&wd=${t}`),n=(r.list||[]).map(s=>({vod_id:s.vod_id.toString(),vod_name:s.vod_name,vod_pic:s.vod_pic,vod_remarks:s.vod_remarks}));return{page:parseInt(r.page),pagecount:r.pagecount,total:r.total,list:n}}var z5={meta:{key:"yongle",name:"\u6070\u9022\u{1F350}\u6C38\u4E50\u89C6\u9891",type:3},api:async e=>{e.post("/init",sOe),e.post("/home",iOe),e.post("/category",oOe),e.post("/detail",aOe),e.post("/play",cOe),e.post("/search",uOe)}};var Fy="https://newtv.ggff.net/ikanbot?token=MRdKOtZ4";async function My(e){return(await pe(e,{method:"get",headers:{"User-Agent":"Cat"}})).data}async function lOe(){return{}}async function dOe(){let e=await My(Fy),t=e.class,r=e.filters;return{class:t,filters:r}}async function fOe(e){let{id:t,page:r=1,filters:n={}}=e.body,s=`${Fy}&ac=detail&t=${t}&pg=${r}`,i={};if(n.type&&(i.type=n.type),Object.keys(i).length>0){let c=JSON.stringify(i),l=Buffer.from(c,"utf-8").toString("base64");s+=`&ext=${l}`}let o=await My(s),a=(o.list||[]).map(c=>({vod_id:c.vod_id,vod_name:c.vod_name,vod_pic:c.vod_pic,vod_remarks:c.vod_remarks}));return{page:parseInt(o.page),pagecount:o.pagecount,total:o.total,list:a}}async function pOe(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[];for(let n of t){let s=(await My(`${Fy}&ac=detail&ids=${n}`)).list[0];r.push({vod_id:s.vod_id,vod_name:s.vod_name,vod_pic:s.vod_pic,type_name:s.type_name,vod_year:s.vod_year,vod_area:s.vod_area,vod_remarks:s.vod_remarks,vod_actor:s.vod_actor,vod_director:s.vod_director,vod_content:s.vod_content,vod_play_from:s.vod_play_from,vod_play_url:s.vod_play_url})}return{list:r}}async function mOe(e){let{id:t}=e.body;return{parse:0,url:t}}async function hOe(e){let{wd:t}=e.body,r=await My(`${Fy}&ac=detail&wd=${t}`),n=(r.list||[]).map(s=>({vod_id:s.vod_id.toString(),vod_name:s.vod_name,vod_pic:s.vod_pic,vod_remarks:s.vod_remarks}));return{page:parseInt(r.page),pagecount:r.pagecount,total:r.total,list:n}}var U5={meta:{key:"ikanbot",name:"\u{1F916}\u7231\u770B\u673A\u5668\u4EBA",type:3},api:async e=>{e.post("/init",lOe),e.post("/home",dOe),e.post("/category",fOe),e.post("/detail",pOe),e.post("/play",mOe),e.post("/search",hOe)}};var yOe="https://bc.188766.xyz/?ip=&lunbo=false&mima=bingcha1130&huikan=en&json=true",gOe="https://raw.githubusercontent.com/4TVBox/Cat/refs/heads/main/tv.png",V5="bingcha/1.1 (mianfeifenxiang) ",zy=null;async function Wd(){if(zy)return zy;try{let t=(await pe(yOe,{headers:{"User-Agent":V5}})).data.split(`
`),r=[],n={},s=new Set;for(let i=0;i<t.length;i++){let o=t[i].trim();if(!(!o||o.startsWith("#EXTM3U"))&&o.startsWith("#EXTINF:")){let a=vOe(o),c=null,l=null,u=null,d=i+1;for(;d<t.length;){let p=t[d].trim();if(!p){d++;continue}if(p.startsWith("#EXTVLCOPT:")){let m=p.substring(11).trim();m.startsWith("http-user-agent=")?l=m.substring(16):(m.startsWith("http-referer=")||m.startsWith("referer="))&&(u=m.includes("http-referer=")?m.substring(13):m.substring(8)),d++;continue}if(p.startsWith("#")){d++;continue}c=p;break}if(a&&c){let{name:p,logo:m,groupTitle:f}=a,h=f||"\u672A\u5206\u7C7B";s.has(h)||(s.add(h),r.push({type_id:h,type_name:h}),n[h]=[]);let v={vod_id:c,vod_name:p,vod_pic:m||gOe,vod_remarks:""};(l||u)&&(v.headers={},l&&(v.headers.userAgent=l),u&&(v.headers.referer=u)),n[h].push(v)}i=d}}return zy={categories:r,videos:n},zy}catch(e){return console.error("\u89E3\u6790M3U\u6587\u4EF6\u5931\u8D25:",e),{categories:[],videos:{}}}}function vOe(e){try{let t=e.match(/#EXTINF:(-?\d+)\s*(.*)$/);if(!t)return null;let r=t[1],n=t[2],s={},i=n,o=n.match(/tvg-logo="([^"]*)"/);o&&(s.logo=o[1]);let a=n.match(/group-title="([^"]*)"/);a&&(s.groupTitle=a[1]);let c=n.match(/(?:svg-id|tvg-id)="([^"]*)"/);c&&(s.id=c[1]);let l=n.match(/(?:svg-name|tvg-name)="([^"]*)"/);l&&(s.tvgName=l[1]);let u=n.match(/,([^,]+)$/);return u?i=u[1].trim():i=s.tvgName||s.id||"\u672A\u77E5\u9891\u9053",{duration:parseInt(r),name:i,logo:s.logo,groupTitle:s.groupTitle,id:s.id,tvgName:s.tvgName}}catch(t){return console.error("\u89E3\u6790EXTINF\u884C\u5931\u8D25:",t),null}}async function _Oe(){return{}}async function bOe(){return{class:(await Wd()).categories}}async function wOe(e){let{id:t,page:r=1,limit:n=20}=e.body,i=(await Wd()).videos[t]||[],o=(r-1)*n,a=o+n,c=i.slice(o,a);return{page:parseInt(r),pagecount:Math.ceil(i.length/n),total:i.length,list:c}}async function xOe(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[],n=await Wd();for(let s of t){let i=null,o="\u672A\u77E5",a="\u76F4\u64AD\u6E90";for(let c in n.videos)if(i=n.videos[c].find(l=>l.vod_id===s),i){o=c;break}i&&r.push({vod_id:i.vod_id,vod_name:i.vod_name,vod_pic:i.vod_pic,vod_remarks:i.vod_remarks,vod_area:o,vod_year:"",vod_director:"",vod_actor:"",vod_content:`${i.vod_name} - ${o}\u9891\u9053\u76F4\u64AD`,vod_play_from:a,vod_play_url:`${i.vod_name}$${i.vod_id}`})}return{list:r}}async function SOe(e){let{id:t}=e.body,r=await Wd(),n=null;for(let i in r.videos){let o=r.videos[i].find(a=>a.vod_id===t);if(o&&o.headers){n=o.headers;break}}let s={"User-Agent":n?.userAgent||V5};return n?.referer&&(s.Referer=n.referer),{parse:0,url:t,header:s}}async function EOe(e){let{wd:t}=e.body;if(!t)return{list:[]};let r=await Wd(),n=[];for(let s in r.videos){let o=r.videos[s].filter(a=>a.vod_name.toLowerCase().includes(t.toLowerCase()));n.push(...o.map(a=>({...a,vod_area:s})))}return{list:n}}var H5={meta:{key:"bingcha",name:"\u51B0\u8336\u{1F4FA}\u76F4\u64AD",type:3},api:async e=>{e.post("/init",_Oe),e.post("/home",bOe),e.post("/category",wOe),e.post("/detail",xOe),e.post("/play",SOe),e.post("/search",EOe)}};var $Oe="https://tv.iill.top/m3u/Gather",ROe="https://raw.githubusercontent.com/4TVBox/Cat/refs/heads/main/tv.png",Uy=null;async function Vy(){if(Uy)return Uy;try{let t=(await pe($Oe)).data.split(`
`),r=[],n={},s=new Set;for(let i=0;i<t.length;i++){let o=t[i].trim();if(!(!o||o.startsWith("#EXTM3U"))&&o.startsWith("#EXTINF:")){let a=t[i+1]?.trim();if(!a||a.startsWith("#"))continue;let c=POe(o),l=a;if(c&&l){let{name:u,logo:d,groupTitle:p}=c,m=p||"\u672A\u5206\u7C7B";s.has(m)||(s.add(m),r.push({type_id:m,type_name:m}),n[m]=[]),n[m].push({vod_id:l,vod_name:u,vod_pic:d||ROe,vod_remarks:""})}i++}}return Uy={categories:r,videos:n},Uy}catch(e){return console.error("\u89E3\u6790M3U\u6587\u4EF6\u5931\u8D25:",e),{categories:[],videos:{}}}}function POe(e){try{let t=e.match(/#EXTINF:(-?\d+)\s*(.*)$/);if(!t)return null;let r=t[1],n=t[2],s={},i=n,o=n.match(/tvg-logo="([^"]*)"/);o&&(s.logo=o[1]);let a=n.match(/group-title="([^"]*)"/);a&&(s.groupTitle=a[1]);let c=n.match(/(?:svg-id|tvg-id)="([^"]*)"/);c&&(s.id=c[1]);let l=n.match(/(?:svg-name|tvg-name)="([^"]*)"/);l&&(s.tvgName=l[1]);let u=n.match(/,([^,]+)$/);return u?i=u[1].trim():i=s.tvgName||s.id||"\u672A\u77E5\u9891\u9053",{duration:parseInt(r),name:i,logo:s.logo,groupTitle:s.groupTitle,id:s.id,tvgName:s.tvgName}}catch(t){return console.error("\u89E3\u6790EXTINF\u884C\u5931\u8D25:",t),null}}async function TOe(){return{}}async function OOe(){return{class:(await Vy()).categories}}async function kOe(e){let{id:t,page:r=1,limit:n=20}=e.body,i=(await Vy()).videos[t]||[],o=(r-1)*n,a=o+n,c=i.slice(o,a);return{page:parseInt(r),pagecount:Math.ceil(i.length/n),total:i.length,list:c}}async function NOe(e){let t=Array.isArray(e.body.id)?e.body.id:[e.body.id],r=[],n=await Vy();for(let s of t){let i=null,o="\u672A\u77E5",a="\u76F4\u64AD\u6E90";for(let c in n.videos)if(i=n.videos[c].find(l=>l.vod_id===s),i){o=c;break}i&&r.push({vod_id:i.vod_id,vod_name:i.vod_name,vod_pic:i.vod_pic,vod_remarks:i.vod_remarks,vod_area:o,vod_year:"",vod_director:"",vod_actor:"",vod_content:`${i.vod_name} - ${o}\u9891\u9053\u76F4\u64AD`,vod_play_from:a,vod_play_url:`${i.vod_name}$${i.vod_id}`})}return{list:r}}async function AOe(e){let{id:t}=e.body;return{parse:0,url:t,header:{"User-Agent":"com.fongmi.android.tv/4.2.7 (Linux;Android 9) AndroidXMedia3/1.8.0"}}}async function IOe(e){let{wd:t}=e.body;if(!t)return{list:[]};let r=await Vy(),n=[];for(let s in r.videos){let o=r.videos[s].filter(a=>a.vod_name.toLowerCase().includes(t.toLowerCase()));n.push(...o.map(a=>({...a,vod_area:s})))}return{list:n}}var B5={meta:{key:"YanG-1989",name:"YanG\u{1F4FA}\u76F4\u64AD",type:3},api:async e=>{e.post("/init",TOe),e.post("/home",OOe),e.post("/category",kOe),e.post("/detail",NOe),e.post("/play",AOe),e.post("/search",IOe)}};var K5=async e=>[O5,$5,R5,P5,k5,N5,q5,M5,z5,A5,D5,L5,F5,U5,H5,B5],G5="/spider",Hy={};async function YR(e,{db:t,config:r}){(await K5({db:t,config:r})).forEach(s=>{let i=G5+"/"+s.meta.key+"/"+s.meta.type;e.register(s.api,{prefix:i}),s.check?.(e),console.log("Register spider: "+i)}),e.register(async s=>{s.get("/check",async function(o,a){a.send({run:!s.stop})});let i=async()=>{let o={video:{sites:[]},read:{sites:[]},comic:{sites:[]},music:{sites:[]},pan:{sites:[]},color:s.config.color||[]};return(await K5({db:t,config:o})).forEach(c=>{let l=Object.assign({},c.meta);l.api=G5+"/"+l.key+"/"+l.type,l.key="nodejs_"+l.key;let u=c.meta.type;u<10?o.video.sites.push(l):u>=10&&u<20?o.read.sites.push(l):u>=20&&u<30?o.comic.sites.push(l):u>=30&&u<40?o.music.sites.push(l):u>=40&&u<50&&o.pan.sites.push(l)}),o};s.get("/config",async function(o,a){let c=await i(),l=await q$(o.server),u=c.video.sites,d={},p={};u.forEach(f=>{p[f.key]=f});let m=[];l.forEach(f=>{d[f.key]=!0,p[f.key]&&f.enable&&m.push(p[f.key])}),u.forEach(f=>{d[f.key]||m.push(f)}),c.video.sites=m,c.video.danmuSearchUrl=`http://127.0.0.1:${o.server.address().port}/website/danmu/fe`,a.send(c)}),s.get("/full-config",i)}),e.get("/danmu-proxy",async(s,i)=>{try{let{name:o,episodeNumber:a}=s.query,c=await sy(s.server),l=!1,u=0,d=await new Promise(p=>{for(let m of c.urls)Vs.get(`${m.address}/api/v2/search/episodes`,{params:{anime:o}}).then(async f=>{console.log("searchResult",o,f.data);let h=f.data.animes[0],v=h.episodes.find(b=>BR(b.episodeTitle)===a)||h.episodes[0];l||(l=!0,messageToDart({action:"toast",opt:{message:`\u5339\u914D\u5F39\u5E55\uFF1A${h.animeTitle} ${v.episodeTitle}`,duration:3}}),p(`${m.address}/api/v2/comment/${v.episodeId}?format=xml`))}).finally(()=>{u++,u===c.urls.length&&!l&&p()})});if(d){let p=await Vs.get(d,{responseType:"text"});i.header("Content-Type","application/xml"),i.send(p.data)}else messageToDart({action:"toast",opt:{message:"\u6CA1\u6709\u5339\u914D\u7684\u5F39\u5E55\uFF0C\u8BF7\u624B\u52A8\u63A8\u9001",duration:3}}),i.header("Content-Type","application/xml"),i.send('<?xml version="1.0" encoding="UTF-8"?><i/>')}catch(o){console.error("Danmu proxy error:",o),i.code(500).send({error:"Failed to fetch danmu content"})}}),e.addHook("onSend",async(s,i,o)=>{try{if((await sy(s.server)).autoPush){if(s.url.endsWith("/detail")){let l=JSON.parse(o).list[0];Hy={};let u=l.vod_play_from.split("$$$")||[];l.vod_play_url.split("$$$").filter(Boolean).forEach((d,p)=>{d.split("#").forEach(m=>{let[f,h]=m.split("$");Hy[`${u[p]}_${h}`]={name:w5(l.vod_name),episodeNumber:BR(f)}})}),console.log("danmuInfo",Hy)}if(s.url.endsWith("/play")){let c=JSON.parse(o);if((c.url||c.url?.length||c.urls?.length)&&!c?.extra?.danmaku){let l=`${s.body.flag}_${s.body.id}`,u=Hy[l];if(u&&!u?.name){let d=await messageToDart({action:"getPlayInfo"});d&&(console.log("playInfo",d),u.name=d?.title)}if(u)return c.extra||(c.extra={}),c.extra.danmaku=`http://127.0.0.1:${s.server.address().port}/danmu-proxy?name=${encodeURIComponent(u.name)}&episodeNumber=${encodeURIComponent(u.episodeNumber)}`,JSON.stringify(c);messageToDart({action:"toast",opt:{message:"\u6CA1\u6709\u5339\u914D\u7684\u5F39\u5E55\uFF0C\u8BF7\u624B\u52A8\u63A8\u9001",duration:3}})}}}}catch(a){console.error(a)}return o})}var Xy=Pt(lB(),1);var fB=Pt(dB(),1);async function yP(e){e.get("/",async(t,r)=>{r.header("Content-Disposition",`attachment; filename="config.${(0,fB.default)().format("YYYY-MM-DD")}.json"`);let n=await t.server.db.getData("/");r.send(JSON.stringify(n,null,4))}),e.put("/",async(t,r)=>{await t.server.db.push("/",t.body),r.send({code:0})})}async function gP(e){e.get("/",(t,r)=>{r.type("text/html").send(`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <title>\u9996\u9875</title>
      </head>
      <body>
        <div id="app"></div>
        <script crossorigin src="https://lib.baomitu.com/react/18.2.0/umd/react.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/axios/0.26.0/axios.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/dayjs/1.10.8/dayjs.min.js"></script>
        <script crossorigin src="https://lib.baomitu.com/antd/5.25.0/antd.min.js"></script>
        <link rel="stylesheet" href="https://lib.baomitu.com/antd/5.25.0/reset.min.css">
        <script>${globalThis.websiteBundle}</script>
      </body>
    </html>
    `)}),e.register(D$,{prefix:"/sites"}),e.register(yP,{prefix:"/backup"}),e.register(L$,{prefix:"/danmu"})}var pB=Pt(require("os"),1),vP=e=>e?.find(t=>t.family==="IPv4")?.address,mB=function(){let e=pB.default.networkInterfaces();return vP(e.en0)||vP(e.en1)||vP(e.en2)||"127.0.0.1"};var hB=[{key:"quark",name:"\u5938\u7236",enable:!0},{key:"tianyi",name:"\u5929\u610F",enable:!0},{key:"yidong",name:"\u9038\u52A8",enable:!0},{key:"123",name:"Pan123",enable:!0},{key:"115",name:"Pan115",enable:!0},{key:"uc",name:"\u4F18\u5915",enable:!0},{key:"ali",name:"\u963F\u72F8",enable:!0}],yB=async e=>{let r=(await e.db.getObjectDefault("/pans",{}))?.list||e.config.pans.list;return r.filter(n=>hB.some(s=>s.key===n.key)).concat(hB.filter(n=>!r.some(s=>s.key===n.key)))};var Qe=null;async function WOe(e){Qe=(0,gB.default)({serverFactory:catServerFactory,forceCloseConnections:!0,logger:process.env.NODE_ENV!=="development",maxParamLength:10240}),globalThis.messageToDart=Qe.messageToDart=async s=>{try{console.log("messageToDart",s);let i=catDartServerPort();return i==0?null:(await Vs.post(`http://127.0.0.1:${i}/msg`,s)).data}catch(i){return console.error(i),null}},Qe.address=function(){let s=this.server.address();return s.url=`http://${mB()}:${s.port}`,s.dynamic="js2p://_WEB_",s},Qe.addHook("onError",async(s,i,o)=>(console.error(o),o.statusCode||(o.statusCode=500),o)),Qe.stop=!1,Qe.config=e,Qe.db=new Xy.JsonDB(new Xy.Config((process.env.NODE_PATH||".")+"/default.db.json",!0,!0,"/",!0));let t=Qe.db.push.bind(Qe.db);Qe.db.push=async(...s)=>{let i=await t(...s);return Qe.db.getData("/").then(o=>{Qe.messageToDart({action:"saveProfile",opt:o})}),i};let r=Qe.db.delete.bind(Qe.db);Qe.db.delete=async(...s)=>{let i=await r(...s);return Qe.db.getData("/").then(o=>{Qe.messageToDart({action:"saveProfile",opt:o})}),i},Qe.messageToDart({action:"queryProfile"}).then(s=>{s&&Object.keys(s).length>0&&t("/",s||{})}),Qe.register(YR,{db:Qe.db,config:e}),Qe.register(gP,{prefix:"/website"}),globalThis.Pans=await yB(Qe),globalThis.getPanName=s=>globalThis.Pans.find(i=>i.key===s)?.name,globalThis.getPanEnabled=s=>globalThis.Pans.find(i=>i.key===s)?.enable;let n=s=>{Qe.listen({port:process.env.DEV_HTTP_PORT||s,host:"0.0.0.0"},(i,o)=>{i?(console.error(i),i.code==="EADDRINUSE"&&(console.log(`Port ${s} is already in use. Trying next available port...`),n(s+1))):console.log(`Server listening on ${o}`)})};n(9988)}async function YOe(){Qe&&(Qe.close(),Qe.stop=!0),Qe=null}0&&(module.exports={start,stop});
/*! Bundled license information:

forwarded/index.js:
  (*!
   * forwarded
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

proxy-addr/index.js:
  (*!
   * proxy-addr
   * Copyright(c) 2014-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toad-cache/dist/toad-cache.cjs:
  (**
   * toad-cache
   *
   * @copyright 2024 Igor Savin <kibertoad@gmail.com>
   * @license MIT
   * @version 3.7.0
   *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

light-my-request/lib/form-data.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

rwlock/lib/lock.js:
  (*! ReadWriteLock - v5.0.0 - 2015-01-16
   * Author: Alberto La Rocca <a71104@gmail.com> (https://github.com/71104)
   * Released under the MIT license
   * Copyright (c) 2015 Alberto La Rocca *)
*/
